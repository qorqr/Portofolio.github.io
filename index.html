<!DOCTYPE html>
<html lang="id" x-data="portfolio()" x-init="init()" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Full Stack Developer</title>
    <meta name="description" content="Professional portfolio showcasing skills and projects in web development">
    <meta name="keywords" content="developer, portfolio, full stack, web development, react, nodejs, javascript">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Portfolio - Full Stack Developer">
    <meta property="og:description" content="Professional portfolio showcasing modern web development skills and projects">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://your-portfolio.com">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš€</text></svg>">
    
    <!-- CDN Links -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    
    <!-- Particle.js -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    
    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
        import { getFirestore, collection, doc, setDoc, getDoc, updateDoc, deleteDoc, onSnapshot, getDocs } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-storage.js";
        
        // Firebase Configuration - GANTI DENGAN KONFIGURASI ANDA
        const firebaseConfig = {
  apiKey: "AIzaSyBAuVIJp4jZCzxuBIBFez2SdLMi7MNHNJk",
  authDomain: "portofolio-4a7eb.firebaseapp.com",
  projectId: "portofolio-4a7eb",
  storageBucket: "portofolio-4a7eb.firebasestorage.app",
  messagingSenderId: "36345970852",
  appId: "1:36345970852:web:d0a47e15126f7038fce631"
};

        // Initialize Firebase
        window.firebaseApp = initializeApp(firebaseConfig);
        window.firestore = getFirestore(window.firebaseApp);
        window.storage = getStorage(window.firebaseApp);
        
        console.log("Firebase initialized successfully");
    </script>

    <style>
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --secondary: #8b5cf6;
            --accent: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #0ea5e9;
        }

        * {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        /* Theme Variables */
        .dark-mode {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border-color: #334155;
        }

        .light-mode {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --border-color: #e2e8f0;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Particle Background */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            top: 0;
            left: 0;
        }

        .dark-mode #particles-js {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }

        .light-mode #particles-js {
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
        }

        /* Glass Effects */
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dark-mode .glass-effect {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .dark-mode .glass-card {
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .light-mode .glass-card {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* Gradient Text & Backgrounds */
        .gradient-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gradient-bg {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Utility Classes */
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .loading-spinner {
            animation: spin 1.5s linear infinite;
        }

        .stagger-item {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        /* Card Hover Effects */
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
        }

        .card-hover:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(59, 130, 246, 0.1);
        }

        /* Skill Progress Bar */
        .skill-bar {
            height: 10px;
            border-radius: 5px;
            background: rgba(226, 232, 240, 0.2);
            overflow: hidden;
            position: relative;
        }

        .dark-mode .skill-bar {
            background: rgba(51, 65, 85, 0.3);
        }

        .skill-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 5px;
            transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .skill-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            animation: shimmer 2s infinite;
        }

        /* Scroll Progress */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform-origin: 0%;
            z-index: 9999;
            box-shadow: 0 2px 10px rgba(59, 130, 246, 0.3);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(241, 245, 249, 0.1);
            border-radius: 10px;
        }

        .dark-mode ::-webkit-scrollbar-track {
            background: rgba(30, 41, 59, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            border: 3px solid transparent;
            background-clip: padding-box;
        }

        /* Form Elements */
        .form-container {
            position: relative;
            margin-bottom: 1.75rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .form-input {
            width: 100%;
            padding: 1rem 1.25rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 14px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            outline: none;
            color: var(--text-primary);
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(10px);
        }

        .light-mode .form-input {
            background: rgba(255, 255, 255, 0.8);
        }

        .form-input:focus {
            border-color: var(--primary);
            box-shadow: 
                0 0 0 4px rgba(59, 130, 246, 0.15),
                0 4px 20px rgba(59, 130, 246, 0.2);
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.5;
            border-radius: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            gap: 0.75rem;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 
                0 8px 30px rgba(59, 130, 246, 0.3),
                0 2px 8px rgba(59, 130, 246, 0.15);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 15px 40px rgba(59, 130, 246, 0.4),
                0 4px 15px rgba(59, 130, 246, 0.25);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            border-color: rgba(59, 130, 246, 0.3);
        }

        /* Profile Image */
        .profile-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
        }

        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            border: 4px solid rgba(255, 255, 255, 0.1);
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s ease;
            border: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .profile-container {
                width: 280px;
                height: 280px;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
        }

        /* Typography improvements */
        .section-title {
            font-size: 3.5rem;
            line-height: 1.1;
            font-weight: 900;
            letter-spacing: -0.025em;
        }

        .lead-text {
            font-size: 1.25rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        /* Toast Notification */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 9999;
            animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .toast {
            padding: 1.25rem 1.5rem;
            border-radius: 14px;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 
                0 12px 32px rgba(0, 0, 0, 0.2),
                0 4px 16px rgba(0, 0, 0, 0.1);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 9990;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-container {
            position: fixed;
            inset: 0;
            z-index: 9991;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal-content {
            width: 100%;
            max-width: 48rem;
            max-height: 90vh;
            border-radius: 20px;
            overflow-y: auto;
            overflow-x: hidden;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        /* Project Grid */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        /* Tag styles */
        .tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Status badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .status-success {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-warning {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .status-error {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* Print Styles */
        @media print {
            .no-print {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
            
            .glass-effect, .glass-card {
                background: white !important;
                box-shadow: none !important;
                border: 1px solid #ddd !important;
            }
        }
    </style>
</head>
<body x-bind:class="isDark ? 'dark-mode' : 'light-mode'" class="min-h-screen relative">
    <!-- Particle Background -->
    <div id="particles-js"></div>
    
    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" :style="`transform: scaleX(${scrollProgress / 100})`"></div>

    <!-- Loading Screen -->
    <div x-show="isLoading" x-transition.opacity class="loading-overlay">
        <div class="text-center space-y-8">
            <div class="relative">
                <div class="w-40 h-40 mx-auto relative">
                    <div class="absolute inset-0 border-4 border-transparent border-t-blue-500 rounded-full loading-spinner"></div>
                    <div class="absolute inset-4 border-4 border-transparent border-t-purple-500 rounded-full loading-spinner" style="animation-duration: 1.5s"></div>
                    <div class="absolute inset-8 border-4 border-transparent border-t-pink-500 rounded-full loading-spinner" style="animation-duration: 2s"></div>

                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-24 h-24 gradient-bg rounded-2xl flex items-center justify-center animate-float">
                            <i class="fas fa-code text-white text-3xl"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <h2 class="text-4xl font-bold text-white tracking-wider">Portfolio<span class="gradient-text">Developer</span></h2>
                <p class="text-white/80 font-mono text-sm" x-text="loadingMessage"></p>
                <div class="w-64 mx-auto mt-4">
                    <div class="flex justify-between text-xs text-white/60 mb-1">
                        <span>Loading Data...</span>
                        <span x-text="loadingProgress + '%'"></span>
                    </div>
                    <div class="h-1 bg-white/20 rounded-full overflow-hidden">
                        <div class="h-full gradient-bg transition-all duration-300" :style="`width: ${loadingProgress}%`"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <button @click="scrollTo('contact')" class="fab no-print" title="Get in Touch" aria-label="Contact me">
        <i class="fas fa-paper-plane text-xl"></i>
    </button>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 py-4 transition-all duration-300 glass-effect"
         :class="{'shadow-xl': !isAtTop}">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <a href="#home" class="flex items-center space-x-3 group focus-visible">
                    <div class="w-12 h-12 sm:w-14 sm:h-14 gradient-bg rounded-xl flex items-center justify-center group-hover:rotate-12 transition-transform duration-300 shadow-lg">
                        <i class="fas fa-code text-white text-lg sm:text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-lg sm:text-xl font-bold gradient-text tracking-tight">Portfolio</h1>
                        <p class="text-xs text-slate-600 dark:text-slate-400">Full Stack Developer</p>
                    </div>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden lg:flex items-center space-x-1">
                    <template x-for="(item, index) in navItems" :key="index">
                        <a :href="item.href"
                           class="px-4 sm:px-5 py-2 sm:py-3 rounded-lg text-sm font-semibold transition-all duration-300 relative group"
                           :class="activeSection === item.name.toLowerCase()
                                   ? 'gradient-text font-bold'
                                   : 'text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white'"
                           @click.prevent="scrollTo(item.href.replace('#', ''))"
                           :aria-current="activeSection === item.name.toLowerCase() ? 'page' : null">
                            <span x-text="item.name" class="relative z-10"></span>
                            <span class="absolute bottom-0 left-1/2 w-0 h-0.5 gradient-bg transition-all duration-300 group-hover:w-full group-hover:left-0"
                                  :class="activeSection === item.name.toLowerCase() ? 'w-full left-0' : ''"></span>
                        </a>
                    </template>
                </div>

                <!-- Right Actions -->
                <div class="flex items-center space-x-2 sm:space-x-3">
                    <!-- Theme Toggle -->
                    <button @click="toggleTheme"
                            class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-all duration-300 shadow-lg group focus-visible"
                            aria-label="Toggle theme">
                        <i class="fas fa-sun transform transition-all duration-300" 
                           :class="!isDark ? 'rotate-0 opacity-100' : 'rotate-90 opacity-0'"></i>
                        <i class="fas fa-moon transform transition-all duration-300 absolute"
                           :class="isDark ? 'rotate-0 opacity-100' : '-rotate-90 opacity-0'"></i>
                    </button>

                    <!-- Mobile Menu Button -->
                    <button @click="mobileMenu = !mobileMenu"
                            class="lg:hidden w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center shadow-lg focus-visible"
                            aria-label="Toggle menu">
                        <i class="fas fa-bars text-lg transition-transform duration-300"
                           :class="mobileMenu ? 'rotate-90' : ''"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div x-show="mobileMenu" x-transition
                 class="lg:hidden mt-4 p-4 rounded-2xl glass-card shadow-xl">
                <div class="space-y-2">
                    <template x-for="(item, index) in navItems" :key="index">
                        <a :href="item.href"
                           class="block px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300 relative group focus-visible"
                           :class="activeSection === item.name.toLowerCase()
                                   ? 'gradient-bg text-white shadow-lg'
                                   : 'text-slate-700 dark:text-slate-300 hover:bg-slate-100/50 dark:hover:bg-slate-800/50'"
                           @click="mobileMenu = false; scrollTo(item.href.replace('#', ''))"
                           :aria-current="activeSection === item.name.toLowerCase() ? 'page' : null">
                            <span x-text="item.name"></span>
                            <span class="absolute right-4 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <i class="fas fa-chevron-right text-xs"></i>
                            </span>
                        </a>
                    </template>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="home" class="min-h-screen pt-24 sm:pt-28 pb-16 sm:pb-24 flex items-center relative">
            <div class="container mx-auto px-4 sm:px-6 relative z-10">
                <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                    <!-- Left Content -->
                    <div class="space-y-8 sm:space-y-12">
                        <!-- Badge -->
                        <div class="inline-flex items-center space-x-3 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card shadow-lg animate-float">
                            <div class="w-2 h-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse"></div>
                            <span class="text-sm font-semibold gradient-text">Available for Projects</span>
                        </div>

                        <!-- Main Headline -->
                        <div class="space-y-6 sm:space-y-8">
                            <h1 class="section-title">
                                Hi, I'm <span class="gradient-text" x-text="profile.name.split(' ')[0]"></span>
                                <span class="block mt-2">Full Stack Developer</span>
                            </h1>

                            <p class="lead-text max-w-2xl">
                                Passionate about creating elegant solutions to complex problems. 
                                I build modern web applications with cutting-edge technologies.
                            </p>
                        </div>

                        <!-- Experience & Stats -->
                        <div class="flex flex-wrap items-center gap-6 pt-6 sm:pt-8">
                            <div class="flex items-center space-x-4 p-4 sm:p-5 rounded-2xl glass-card shadow-lg card-hover">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i class="fas fa-calendar-alt text-white text-lg sm:text-xl"></i>
                                </div>
                                <div>
                                    <div class="text-xl sm:text-2xl font-bold gradient-text" x-text="totalExperienceYears"></div>
                                    <div class="text-sm text-slate-600 dark:text-slate-400">Years Experience</div>
                                </div>
                            </div>

                            <div class="flex items-center space-x-4 p-4 sm:p-5 rounded-2xl glass-card shadow-lg card-hover">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center shadow-lg"
                                     :class="isDark ? 'bg-indigo-500/20' : 'bg-indigo-500/10'">
                                    <i class="fas fa-project-diagram text-lg sm:text-xl"
                                       :class="isDark ? 'text-indigo-400' : 'text-indigo-600'"></i>
                                </div>
                                <div>
                                    <div class="text-xl sm:text-2xl font-bold" x-text="projects.length"></div>
                                    <div class="text-sm text-slate-600 dark:text-slate-400">Projects</div>
                                </div>
                            </div>
                        </div>

                        <!-- CTA Buttons -->
                        <div class="flex flex-wrap gap-4 sm:gap-5 pt-8 sm:pt-10">
                            <button @click="scrollTo('projects')"
                                    class="btn btn-primary px-6 sm:px-10 py-3 sm:py-5">
                                <span>View Projects</span>
                                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
                            </button>

                            <button @click="downloadResume"
                                    class="btn btn-secondary px-6 sm:px-10 py-3 sm:py-5">
                                <i class="fas fa-download"></i>
                                <span>Download CV</span>
                            </button>
                        </div>
                    </div>

                    <!-- Right Content - Profile -->
                    <div class="relative mt-8 lg:mt-0">
                        <div class="profile-container card-hover" @click="openModal('editProfile')">
                            <img :src="profileImageSrc" 
                                 alt="Profile Picture" 
                                 class="profile-image"
                                 id="main-profile-image">
                            
                            <!-- Overlay untuk edit -->
                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-8">
                                <div class="text-center">
                                    <i class="fas fa-camera text-white text-2xl mb-2"></i>
                                    <p class="text-white font-medium">Update Photo</p>
                                </div>
                            </div>
                        </div>

                        <!-- Experience Badge -->
                        <div class="absolute -bottom-4 -right-4 sm:-bottom-6 sm:-right-6">
                            <div class="px-6 sm:px-8 py-2 sm:py-4 rounded-full gradient-bg text-white text-sm font-bold flex items-center space-x-2 sm:space-x-3 shadow-xl animate-float">
                                <i class="fas fa-star animate-pulse"></i>
                                <span x-text="`${totalExperienceYears}+ Years`"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-16 sm:py-28 relative">
            <div class="container mx-auto px-4 sm:px-6">
                <!-- Section Header -->
                <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
                    <div class="inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card mb-6 sm:mb-8 shadow-lg">
                        <i class="fas fa-cogs text-blue-500"></i>
                        <span class="text-sm font-semibold gradient-text">Technical Expertise</span>
                    </div>

                    <h2 class="section-title mb-6 sm:mb-8">
                        Technical <span class="gradient-text">Skills</span>
                    </h2>

                    <p class="lead-text">
                        Mastering cutting-edge technologies to deliver exceptional digital solutions
                    </p>
                </div>

                <!-- Skills Categories -->
                <div class="flex flex-wrap justify-center gap-3 sm:gap-4 mb-8 sm:mb-16">
                    <template x-for="category in skillCategories" :key="category">
                        <button @click="activeSkillCategory = activeSkillCategory === category ? 'all' : category"
                                class="px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border-2"
                                :class="activeSkillCategory === category 
                                        ? 'gradient-bg text-white border-transparent shadow-lg'
                                        : 'glass-card text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700 hover:border-blue-500'">
                            <i :class="getCategoryIcon(category)" class="mr-2"></i>
                            <span x-text="getCategoryName(category)"></span>
                        </button>
                    </template>
                </div>

                <!-- Skills Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12 sm:mb-20">
                    <template x-for="(skill, index) in filteredSkills" :key="skill.id">
                        <div class="stagger-item"
                             :style="`animation-delay: ${index * 0.1}s`">
                            <div class="h-full p-6 sm:p-8 rounded-3xl glass-card shadow-lg card-hover">
                                <!-- Skill Header -->
                                <div class="flex items-start justify-between mb-6 sm:mb-10">
                                    <div class="flex items-center space-x-4 sm:space-x-5">
                                        <div class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl flex items-center justify-center shadow-lg"
                                             :class="getSkillCategoryColor(skill.category)">
                                            <i :class="skill.icon" class="text-xl sm:text-2xl text-white"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg sm:text-xl mb-2" x-text="skill.name"></h3>
                                            <div class="flex items-center space-x-2 sm:space-x-3">
                                                <div class="flex">
                                                    <template x-for="i in 5" :key="i">
                                                        <i :class="i <= Math.ceil(skill.level / 20) 
                                                                  ? 'fas fa-star text-yellow-500' 
                                                                  : 'far fa-star text-slate-400'"
                                                           class="text-xs sm:text-sm"></i>
                                                    </template>
                                                </div>
                                                <span class="text-xs font-semibold px-2 sm:px-3 py-1 rounded-full"
                                                      :class="getProficiencyClass(skill.level)"
                                                      x-text="getProficiencyLevel(skill.level)"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <button @click="confirmDelete('skill', skill.id, skill.name)" 
                                            class="text-slate-400 hover:text-red-500 transition-colors duration-300 hover:scale-110 focus-visible"
                                            aria-label="Delete skill">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>

                                <!-- Skill Progress -->
                                <div class="space-y-4 mb-6 sm:mb-10">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-slate-600 dark:text-slate-400">Proficiency</span>
                                        <span class="font-bold gradient-text" x-text="skill.level + '%'"></span>
                                    </div>

                                    <div class="skill-bar">
                                        <div class="skill-progress" :style="`width: ${skill.level}%`"></div>
                                    </div>
                                </div>

                                <!-- Edit Button -->
                                <div>
                                    <button @click="editSkill(skill)"
                                            class="btn btn-secondary w-full">
                                        <i class="fas fa-edit mr-2"></i>
                                        Edit Skill
                                    </button>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>

                <!-- Add Skill Button -->
                <div class="text-center">
                    <button @click="openModal('addSkill')"
                            class="btn btn-primary px-8 sm:px-12 py-4 sm:py-6">
                        <i class="fas fa-plus mr-2 sm:mr-3"></i>
                        <span class="text-base sm:text-lg">Add New Skill</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-16 sm:py-28 relative">
            <div class="container mx-auto px-4 sm:px-6">
                <!-- Section Header -->
                <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
                    <div class="inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card mb-6 sm:mb-8 shadow-lg">
                        <i class="fas fa-briefcase text-blue-500"></i>
                        <span class="text-sm font-semibold gradient-text">Portfolio Showcase</span>
                    </div>

                    <h2 class="section-title mb-6 sm:mb-8">
                        Featured <span class="gradient-text">Projects</span>
                    </h2>

                    <p class="lead-text">
                        A collection of innovative solutions and successful implementations
                    </p>
                </div>

                <!-- Projects Container -->
                <div class="projects-container">
                    <!-- Empty State -->
                    <div x-show="projects.length === 0" class="text-center py-16">
                        <i class="fas fa-folder-open text-6xl text-slate-400 mb-6"></i>
                        <h3 class="text-2xl font-bold mb-3">No Projects Yet</h3>
                        <p class="text-slate-600 dark:text-slate-400 mb-8">Add your first project to showcase your work</p>
                        <button @click="openModal('addProject')" class="btn btn-primary">
                            <i class="fas fa-plus mr-2"></i>
                            Add Your First Project
                        </button>
                    </div>

                    <!-- Grid View -->
                    <div x-show="projects.length > 0" class="projects-grid">
                        <template x-for="project in projects" :key="project.id">
                            <div class="rounded-3xl overflow-hidden glass-card shadow-lg card-hover">
                                <!-- Project Image -->
                                <div class="relative h-48 sm:h-64 lg:h-72 overflow-hidden">
                                    <img :src="project.image"
                                         :alt="project.name"
                                         class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                                         @error="handleProjectImageError($event, project.id)">
                                    
                                    <!-- Gradient Overlay -->
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                    
                                    <!-- Project Type Badge -->
                                    <div class="absolute top-4 right-4">
                                        <span class="px-3 py-1 rounded-full text-xs font-semibold glass-card text-white shadow-lg"
                                              x-text="project.type"></span>
                                    </div>
                                </div>

                                <!-- Project Content -->
                                <div class="p-6 sm:p-8">
                                    <div class="flex justify-between items-start mb-6 sm:mb-8">
                                        <h3 class="text-lg sm:text-xl font-bold" x-text="project.name"></h3>
                                        <div class="flex space-x-2">
                                            <button @click="confirmDelete('project', project.id, project.name)" 
                                                    class="text-slate-400 hover:text-red-500 transition-colors duration-300 hover:scale-110 focus-visible"
                                                    aria-label="Delete project">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <p class="text-sm mb-6 sm:mb-10 line-clamp-3 leading-relaxed text-slate-600 dark:text-slate-400"
                                       x-text="project.description"></p>

                                    <!-- Technologies -->
                                    <div class="flex flex-wrap gap-2 mb-6">
                                        <template x-for="tech in project.technologies.slice(0, 3)" :key="tech">
                                            <span class="px-2 py-1 rounded-lg text-xs font-medium glass-card"
                                                  x-text="tech"></span>
                                        </template>
                                        <span x-show="project.technologies.length > 3"
                                              class="px-2 py-1 rounded-lg text-xs font-medium glass-card">
                                            +<span x-text="project.technologies.length - 3"></span> more
                                        </span>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex justify-between items-center pt-6 sm:pt-8 border-t border-slate-200/20">
                                        <button @click="viewProject(project.id)"
                                                class="btn btn-secondary">
                                            View Details
                                        </button>
                                        <button @click="editProject(project)"
                                                class="btn btn-secondary">
                                            <i class="fas fa-edit mr-2"></i>
                                            Edit
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>

                <!-- Add Project Button -->
                <div class="text-center mt-12 sm:mt-24">
                    <button @click="openModal('addProject')"
                            class="btn btn-primary px-8 sm:px-12 py-4 sm:py-6">
                        <i class="fas fa-plus mr-2 sm:mr-3"></i>
                        <span class="text-base sm:text-lg">Add New Project</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-16 sm:py-28 relative">
            <div class="container mx-auto px-4 sm:px-6">
                <!-- Section Header -->
                <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
                    <div class="inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card mb-6 sm:mb-8 shadow-lg">
                        <i class="fas fa-envelope text-blue-500"></i>
                        <span class="text-sm font-semibold gradient-text">Get in Touch</span>
                    </div>

                    <h2 class="section-title mb-6 sm:mb-8">
                        Let's <span class="gradient-text">Connect</span>
                    </h2>

                    <p class="lead-text">
                        Ready to bring your ideas to life? Let's discuss your project
                    </p>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 sm:gap-16 max-w-6xl mx-auto">
                    <!-- Contact Information -->
                    <div class="space-y-8 sm:space-y-12">
                        <!-- Contact Card -->
                        <div class="p-6 sm:p-8 rounded-3xl glass-card shadow-lg card-hover">
                            <div class="flex items-center space-x-4 sm:space-x-6 mb-6 sm:mb-10">
                                <div class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i class="fas fa-envelope-open-text text-white text-xl sm:text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-xl sm:text-2xl">Email</h3>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">Quick response guaranteed</p>
                                </div>
                            </div>
                            <p class="text-xl sm:text-2xl font-bold gradient-text" x-text="profile.email"></p>
                        </div>

                        <!-- Phone Card -->
                        <div class="p-6 sm:p-8 rounded-3xl glass-card shadow-lg card-hover">
                            <div class="flex items-center space-x-4 sm:space-x-6 mb-6 sm:mb-10">
                                <div class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl flex items-center justify-center shadow-lg"
                                     :class="isDark ? 'bg-blue-500/20' : 'bg-blue-500/10'">
                                    <i class="fas fa-phone text-xl sm:text-2xl"
                                       :class="isDark ? 'text-blue-400' : 'text-blue-600'"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-xl sm:text-2xl">Phone</h3>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">Available for calls</p>
                                </div>
                            </div>
                            <p class="text-xl sm:text-2xl font-bold" x-text="profile.phone"></p>
                        </div>

                        <!-- Social Links -->
                        <div class="pt-8 sm:pt-12">
                            <h4 class="font-bold text-2xl sm:text-3xl mb-6 sm:mb-10">Connect With Me</h4>
                            <div class="flex flex-wrap gap-4 sm:gap-5">
                                <template x-for="(social, index) in socialLinks" :key="index">
                                    <a :href="social.url" 
                                       target="_blank" 
                                       rel="noopener noreferrer"
                                       class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl flex items-center justify-center hover:scale-110 transition-transform duration-300 shadow-lg focus-visible"
                                       :class="getSocialPlatformColorClass(social.platform)"
                                       x-show="social.url && social.url.trim() !== ''"
                                       :title="getSocialPlatformName(social.platform)">
                                        <i :class="social.icon" 
                                           class="text-xl sm:text-2xl text-white"></i>
                                    </a>
                                </template>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Form -->
                    <div>
                        <div class="p-6 sm:p-8 lg:p-10 rounded-3xl glass-card shadow-lg card-hover">
                            <form @submit.prevent="submitContact" class="space-y-6 sm:space-y-10">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-user mr-2"></i>Your Name
                                    </label>
                                    <input type="text" x-model="contactForm.name" required
                                           class="form-input"
                                           placeholder="Enter your name">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-envelope mr-2"></i>Email Address
                                    </label>
                                    <input type="email" x-model="contactForm.email" required
                                           class="form-input"
                                           placeholder="Enter your email">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-comment mr-2"></i>Your Message
                                    </label>
                                    <textarea rows="5" x-model="contactForm.message" required
                                              class="form-input"
                                              placeholder="Tell me about your project..."></textarea>
                                </div>

                                <button type="submit"
                                        class="btn btn-primary w-full py-4 sm:py-6 text-base sm:text-lg"
                                        :disabled="isSubmitting">
                                    <template x-if="!isSubmitting">
                                        <span>Send Message <i class="fas fa-paper-plane ml-2"></i></span>
                                    </template>
                                    <template x-if="isSubmitting">
                                        <span class="flex items-center justify-center">
                                            <i class="fas fa-spinner animate-spin mr-2"></i>
                                            Sending...
                                        </span>
                                    </template>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="py-12 sm:py-20 relative bg-slate-50/30 dark:bg-slate-900/30">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <!-- Logo & Info -->
                <div class="mb-8 sm:mb-12 md:mb-0 text-center md:text-left">
                    <div class="flex items-center space-x-4 sm:space-x-5 mb-6 sm:mb-8">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-2xl gradient-bg flex items-center justify-center shadow-lg animate-float">
                            <i class="fas fa-code text-white text-xl sm:text-2xl"></i>
                        </div>
                        <div>
                            <span class="text-2xl sm:text-3xl font-bold gradient-text">Portfolio</span>
                            <p class="text-sm text-slate-600 dark:text-slate-400">Full Stack Developer</p>
                        </div>
                    </div>

                    <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
                        Â© <span x-text="portfolioYear"></span> All rights reserved
                    </p>

                    <p class="text-xs text-slate-500 dark:text-slate-500">
                        Professional Experience: Since 2023 (<span x-text="totalExperienceYears"></span> years)
                    </p>
                </div>

                <!-- Quick Links -->
                <div class="flex space-x-6 sm:space-x-10">
                    <a href="#skills" class="text-sm font-semibold transition-all duration-300 hover:scale-105 hover:gradient-text text-slate-600 dark:text-slate-400 focus-visible">
                        Skills
                    </a>
                    <a href="#projects" class="text-sm font-semibold transition-all duration-300 hover:scale-105 hover:gradient-text text-slate-600 dark:text-slate-400 focus-visible">
                        Projects
                    </a>
                    <a href="#contact" class="text-sm font-semibold transition-all duration-300 hover:scale-105 hover:gradient-text text-slate-600 dark:text-slate-400 focus-visible">
                        Contact
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- MODALS -->

    <!-- Delete Confirmation Modal -->
    <template x-if="modals.deleteConfirm">
        <div>
            <div class="modal-overlay" @click="closeModal('deleteConfirm')"></div>
            <div class="modal-container">
                <div class="modal-content max-w-md">
                    <div class="p-6 sm:p-10">
                        <!-- Warning Icon -->
                        <div class="w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-500/10 to-red-600/10 flex items-center justify-center">
                            <i class="fas fa-exclamation-triangle text-red-500 text-2xl sm:text-3xl"></i>
                        </div>

                        <!-- Confirmation Message -->
                        <div class="text-center mb-6 sm:mb-8">
                            <h3 class="text-xl sm:text-2xl font-bold mb-4">Confirm Deletion</h3>
                            <p class="text-lg mb-2 text-slate-600 dark:text-slate-400">
                                Are you sure you want to delete
                            </p>
                            <p class="text-xl sm:text-2xl font-bold gradient-text mb-4 sm:mb-6" x-text="`'${deleteItem.name}'`"></p>
                            <p class="text-sm px-4 sm:px-6 py-2 sm:py-3 rounded-xl glass-card bg-red-500/10 text-red-600 dark:text-red-400">
                                <i class="fas fa-info-circle mr-2"></i>
                                This action cannot be undone
                            </p>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                            <button @click="closeModal('deleteConfirm')"
                                    class="btn btn-secondary flex-1">
                                <i class="fas fa-times mr-2"></i>
                                Cancel
                            </button>
                            <button @click="executeDelete"
                                    class="btn flex-1 bg-red-500 hover:bg-red-600 text-white">
                                <i class="fas fa-trash mr-2"></i>
                                Delete Permanently
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Add/Edit Skill Modal -->
    <template x-if="modals.addSkill">
        <div>
            <div class="modal-overlay" @click="closeModal('addSkill')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10 pb-6 sm:pb-8 border-b border-slate-200/20">
                            <div class="flex items-center gap-4 sm:gap-5">
                                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i :class="editingSkill ? 'fas fa-edit' : 'fas fa-plus'" class="text-lg sm:text-xl text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl sm:text-3xl font-bold mb-2">
                                        <span x-text="editingSkill ? 'Edit Skill' : 'Add New Skill'"></span>
                                    </h3>
                                    <p class="text-lg text-slate-600 dark:text-slate-400">
                                        <span x-text="editingSkill ? 'Update your skill details' : 'Expand your technical expertise'"></span>
                                    </p>
                                </div>
                            </div>
                            <button @click="closeModal('addSkill')"
                                    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Skill Form -->
                        <form @submit.prevent="editingSkill ? updateSkill() : addNewSkill()" class="space-y-6 sm:space-y-8">
                            <!-- Basic Info -->
                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-tag mr-2"></i>Skill Name
                                    </label>
                                    <input type="text" x-model="newSkill.name" required
                                           class="form-input"
                                           placeholder="e.g., React, Laravel, Docker">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-folder mr-2"></i>Category
                                    </label>
                                    <select x-model="newSkill.category" required
                                            class="form-input">
                                        <option value="">Select a category</option>
                                        <template x-for="category in skillCategories" :key="category">
                                            <option :value="category"
                                                    x-text="getCategoryName(category)">
                                            </option>
                                        </template>
                                    </select>
                                </div>
                            </div>

                            <div class="form-container">
                                <label class="form-label">
                                    <i class="fas fa-file-alt mr-2"></i>Skill Description
                                </label>
                                <textarea x-model="newSkill.description" rows="3"
                                          class="form-input"
                                          placeholder="Briefly describe your experience with this skill..."></textarea>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-chart-line mr-2"></i>Proficiency Level
                                    </label>
                                    <div class="space-y-4">
                                        <input type="range" x-model="newSkill.level" min="0" max="100" step="1"
                                               class="w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer">
                                        <div class="flex justify-between">
                                            <span class="text-sm text-slate-500">Beginner</span>
                                            <span class="text-xl font-bold gradient-text" x-text="newSkill.level + '%'"></span>
                                            <span class="text-sm text-slate-500">Expert</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-project-diagram mr-2"></i>Years Experience
                                    </label>
                                    <input type="number" x-model="newSkill.years" min="0" max="50" step="0.5"
                                           class="form-input"
                                           placeholder="e.g., 3.5">
                                </div>
                            </div>

                            <!-- Submit Buttons -->
                            <div class="flex justify-end gap-4 pt-6 sm:pt-10 border-t border-slate-200/20">
                                <button type="button" @click="closeModal('addSkill')"
                                        class="btn btn-secondary">
                                    Cancel
                                </button>
                                <button type="submit"
                                        class="btn btn-primary">
                                    <span x-text="editingSkill ? 'Update Skill' : 'Add Skill'"></span>
                                    <i class="fas fa-check ml-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Add/Edit Project Modal -->
    <template x-if="modals.addProject">
        <div>
            <div class="modal-overlay" @click="closeModal('addProject')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10 pb-6 sm:pb-8 border-b border-slate-200/20">
                            <div class="flex items-center gap-4 sm:gap-5">
                                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i :class="editingProject ? 'fas fa-edit' : 'fas fa-plus'" class="text-lg sm:text-xl text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl sm:text-3xl font-bold mb-2">
                                        <span x-text="editingProject ? 'Edit Project' : 'Add New Project'"></span>
                                    </h3>
                                    <p class="text-lg text-slate-600 dark:text-slate-400">
                                        <span x-text="editingProject ? 'Update project details' : 'Showcase your work'"></span>
                                    </p>
                                </div>
                            </div>
                            <button @click="closeModal('addProject')"
                                    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Project Form -->
                        <form @submit.prevent="editingProject ? updateProject() : addNewProject()" class="space-y-6 sm:space-y-8">
                            <!-- Basic Info -->
                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-tag mr-2"></i>Project Name
                                    </label>
                                    <input type="text" x-model="newProject.name" required
                                           class="form-input"
                                           placeholder="e.g., E-commerce Platform">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-layer-group mr-2"></i>Project Type
                                    </label>
                                    <select x-model="newProject.type"
                                            class="form-input">
                                        <option value="web">Web Application</option>
                                        <option value="mobile">Mobile App</option>
                                        <option value="api">API Development</option>
                                        <option value="desktop">Desktop Application</option>
                                        <option value="ai">AI/ML Project</option>
                                        <option value="saas">SaaS Platform</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-container">
                                <label class="form-label">
                                    <i class="fas fa-align-left mr-2"></i>Project Description
                                </label>
                                <textarea x-model="newProject.description" rows="4" required
                                          class="form-input"
                                          placeholder="Describe your project goals, features, and achievements..."></textarea>
                            </div>

                            <div class="form-container">
                                <label class="form-label">
                                    <i class="fas fa-code mr-2"></i>Technologies Used
                                </label>
                                <div class="space-y-3">
                                    <div class="flex flex-wrap gap-2">
                                        <template x-for="tech in newProject.technologies" :key="tech">
                                            <span class="tag">
                                                <span x-text="tech"></span>
                                                <button type="button" @click="removeTech(tech)" 
                                                        class="ml-2 text-white/80 hover:text-white">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </span>
                                        </template>
                                    </div>
                                    <div class="flex gap-2">
                                        <input type="text" x-model="techInput"
                                               @keydown.enter.prevent="addTechnology"
                                               class="form-input flex-1"
                                               placeholder="Type technology and press Enter...">
                                        <button type="button" @click="addTechnology"
                                                class="btn btn-secondary">
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Submit Buttons -->
                            <div class="flex justify-end gap-4 pt-6 sm:pt-10 border-t border-slate-200/20">
                                <button type="button" @click="closeModal('addProject')"
                                        class="btn btn-secondary">
                                    Cancel
                                </button>
                                <button type="submit"
                                        class="btn btn-primary">
                                    <span x-text="editingProject ? 'Update Project' : 'Add Project'"></span>
                                    <i class="fas fa-check ml-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Edit Profile Modal -->
    <template x-if="modals.editProfile">
        <div>
            <div class="modal-overlay" @click="closeModal('editProfile')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10 pb-6 sm:pb-8 border-b border-slate-200/20">
                            <div class="flex items-center gap-4 sm:gap-5">
                                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i class="fas fa-user-edit text-lg sm:text-xl text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl sm:text-3xl font-bold mb-2">
                                        Edit Profile
                                    </h3>
                                    <p class="text-lg text-slate-600 dark:text-slate-400">
                                        Update your personal information
                                    </p>
                                </div>
                            </div>
                            <button @click="closeModal('editProfile')"
                                    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Profile Form -->
                        <form @submit.prevent="updateProfile()" class="space-y-6 sm:space-y-8">
                            <!-- Profile Image -->
                            <div class="text-center">
                                <div class="relative mx-auto w-40 h-40 sm:w-48 sm:h-48 mb-6">
                                    <img :src="profileImageSrc" alt="Profile" 
                                         id="modal-profile-image"
                                         class="w-full h-full rounded-xl object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg">
                                    
                                    <!-- Upload Button -->
                                    <label for="profile-upload" 
                                           class="absolute bottom-2 right-2 cursor-pointer group">
                                        <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-full gradient-bg flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300">
                                            <i class="fas fa-camera text-white text-lg"></i>
                                        </div>
                                        <input id="profile-upload" type="file" accept="image/*" 
                                               class="absolute inset-0 opacity-0 cursor-pointer w-full h-full" 
                                               @change="uploadProfileImage($event)">
                                    </label>
                                    
                                    <!-- Loading Overlay -->
                                    <div x-show="uploadingProfileImage" 
                                         class="absolute inset-0 rounded-xl bg-black/50 flex items-center justify-center">
                                        <div class="text-center">
                                            <div class="w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-2 border-3 border-transparent border-t-white rounded-full loading-spinner"></div>
                                            <p class="text-white text-sm font-medium">Uploading...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <p class="text-sm text-slate-600 dark:text-slate-400">
                                    Click camera icon to upload new profile picture
                                </p>
                            </div>

                            <!-- Personal Information -->
                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-user-circle mr-2"></i>
                                        Full Name
                                    </label>
                                    <input type="text" x-model="profile.name" required
                                           class="form-input"
                                           placeholder="Your full name">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-briefcase mr-2"></i>
                                        Professional Title
                                    </label>
                                    <input type="text" x-model="profile.title"
                                           class="form-input"
                                           placeholder="e.g., Full Stack Developer">
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-envelope mr-2"></i>
                                        Email Address
                                    </label>
                                    <input type="email" x-model="profile.email" required
                                           class="form-input"
                                           placeholder="your.email@example.com">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-phone mr-2"></i>
                                        Phone Number
                                    </label>
                                    <input type="tel" x-model="profile.phone"
                                           class="form-input"
                                           placeholder="+62 822 9569 2941">
                                </div>
                            </div>

                            <!-- Bio Section -->
                            <div class="form-container">
                                <label class="form-label">
                                    <i class="fas fa-edit mr-2"></i>
                                    Professional Bio
                                </label>
                                <textarea x-model="profile.bio" rows="4"
                                          class="form-input"
                                          placeholder="Describe your professional background and expertise..."></textarea>
                            </div>

                            <!-- Social Links -->
                            <div class="space-y-6">
                                <div class="flex items-center justify-between">
                                    <label class="form-label">
                                        <i class="fas fa-share-alt mr-2"></i>
                                        Social Links
                                    </label>
                                    <span class="text-sm text-slate-500 dark:text-slate-400">
                                        <span x-text="socialLinks.length"></span> links added
                                    </span>
                                </div>
                                
                                <div class="space-y-4" x-show="socialLinks.length > 0">
                                    <template x-for="(link, index) in socialLinks" :key="index">
                                        <div class="flex gap-3 items-start p-4 rounded-xl glass-card">
                                            <div class="flex items-center justify-center w-12 h-12 rounded-lg"
                                                 :class="getSocialPlatformColorClass(link.platform)">
                                                <i :class="link.icon" class="text-xl text-white"></i>
                                            </div>
                                            
                                            <div class="flex-1">
                                                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
                                                    <div>
                                                        <label class="block text-sm font-medium mb-2">Platform</label>
                                                        <select x-model="link.platform"
                                                                class="form-input text-sm py-2.5">
                                                            <option value="github">GitHub</option>
                                                            <option value="linkedin">LinkedIn</option>
                                                            <option value="twitter">Twitter</option>
                                                            <option value="instagram">Instagram</option>
                                                            <option value="email">Email</option>
                                                            <option value="website">Website</option>
                                                        </select>
                                                    </div>
                                                    
                                                    <div>
                                                        <label class="block text-sm font-medium mb-2">Profile URL</label>
                                                        <input type="url" x-model="link.url"
                                                               class="form-input text-sm py-2.5"
                                                               :placeholder="getSocialPlaceholder(link.platform)">
                                                    </div>
                                                </div>
                                                
                                                <div class="flex justify-between items-center">
                                                    <span class="text-sm text-slate-500"
                                                          x-text="getSocialPlatformName(link.platform)"></span>
                                                    <button type="button" @click="removeSocialLink(index)"
                                                            class="text-red-500 hover:text-red-600">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                                
                                <button type="button" @click="addSocialLink"
                                        class="btn btn-secondary w-full py-3">
                                    <i class="fas fa-plus mr-2"></i>
                                    Add Social Link
                                </button>
                            </div>

                            <!-- Submit Buttons -->
                            <div class="flex justify-end gap-4 pt-6 sm:pt-10 border-t border-slate-200/20">
                                <button type="button" @click="closeModal('editProfile')"
                                        class="btn btn-secondary">
                                    Cancel
                                </button>
                                <button type="submit"
                                        class="btn btn-primary">
                                    Update Profile
                                    <i class="fas fa-check ml-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Project Detail Modal -->
    <template x-if="modals.projectDetail">
        <div>
            <div class="modal-overlay" @click="closeModal('projectDetail')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10">
                            <div>
                                <h3 class="text-2xl sm:text-4xl font-bold mb-3" 
                                    x-text="selectedProject ? selectedProject.name : ''"></h3>
                                <div class="flex items-center space-x-4">
                                    <span class="px-4 sm:px-5 py-1.5 sm:py-2.5 rounded-full text-sm font-semibold gradient-bg text-white shadow-lg capitalize"
                                          x-text="selectedProject ? selectedProject.type : ''"></span>
                                    <span class="px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-sm font-semibold glass-card">
                                        <i class="fas fa-calendar mr-2"></i>
                                        <span x-text="selectedProject?.date || '2024'"></span>
                                    </span>
                                </div>
                            </div>
                            <button @click="closeModal('projectDetail')"
                                    class="w-10 h-10 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl flex items-center justify-center glass-card hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times text-lg sm:text-xl"></i>
                            </button>
                        </div>

                        <!-- Project Content -->
                        <div x-show="selectedProject" class="space-y-8 sm:space-y-10">
                            <!-- Project Image -->
                            <div class="rounded-3xl overflow-hidden shadow-xl">
                                <img :src="selectedProject.image"
                                     :alt="selectedProject.name"
                                     class="w-full h-64 sm:h-[400px] object-cover"
                                     @error="handleProjectImageError($event, selectedProject.id)">
                            </div>

                            <!-- Project Details -->
                            <div class="grid lg:grid-cols-3 gap-8 sm:gap-16">
                                <!-- Left Column -->
                                <div class="lg:col-span-2 space-y-8">
                                    <!-- Description -->
                                    <div>
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Project Overview
                                        </h4>
                                        <p class="leading-relaxed text-slate-600 dark:text-slate-300"
                                           x-text="selectedProject.description"></p>
                                    </div>

                                    <!-- Technologies -->
                                    <div>
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Technology Stack
                                        </h4>
                                        <div class="flex flex-wrap gap-2">
                                            <template x-for="tech in selectedProject.technologies" :key="tech">
                                                <span class="px-3 py-1.5 rounded-lg text-xs font-medium glass-card"
                                                      x-text="tech"></span>
                                            </template>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Column -->
                                <div class="space-y-8">
                                    <!-- Project Links -->
                                    <div>
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Project Links
                                        </h4>
                                        <div class="space-y-3 sm:space-y-4">
                                            <a :href="selectedProject.demoUrl" x-show="selectedProject.demoUrl" target="_blank" rel="noopener noreferrer"
                                               class="flex items-center justify-between p-4 sm:p-5 rounded-2xl glass-card hover:scale-105 transition-transform duration-300 group">
                                                <div class="flex items-center space-x-3 sm:space-x-4">
                                                    <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                                        <i class="fas fa-external-link-alt text-white text-sm sm:text-lg"></i>
                                                    </div>
                                                    <div>
                                                        <p class="font-semibold">Live Demo</p>
                                                        <p class="text-sm text-slate-500">View live project</p>
                                                    </div>
                                                </div>
                                                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
                                            </a>

                                            <a :href="selectedProject.sourceUrl" x-show="selectedProject.sourceUrl" target="_blank" rel="noopener noreferrer"
                                               class="flex items-center justify-between p-4 sm:p-5 rounded-2xl glass-card hover:scale-105 transition-transform duration-300 group">
                                                <div class="flex items-center space-x-3 sm:space-x-4">
                                                    <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center shadow-lg glass-card">
                                                        <i class="fab fa-github"
                                                           :class="isDark ? 'text-slate-300' : 'text-slate-700'"></i>
                                                    </div>
                                                    <div>
                                                        <p class="font-semibold">Source Code</p>
                                                        <p class="text-sm text-slate-500">View on GitHub</p>
                                                    </div>
                                                </div>
                                                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Toast Notification -->
    <div x-show="showToast" x-transition
         class="toast-container">
        <div class="toast"
             :class="toastType === 'success' 
                     ? 'border-l-4 border-green-500' 
                     : toastType === 'error'
                     ? 'border-l-4 border-red-500'
                     : 'border-l-4 border-yellow-500'">
            <div class="flex items-center space-x-3 sm:space-x-4">
                <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center"
                     :class="toastType === 'success' 
                             ? 'bg-green-500/20 text-green-500'
                             : toastType === 'error'
                             ? 'bg-red-500/20 text-red-500'
                             : 'bg-yellow-500/20 text-yellow-500'">
                    <i :class="toastType === 'success' 
                              ? 'fas fa-check-circle' 
                              : toastType === 'error'
                              ? 'fas fa-exclamation-circle'
                              : 'fas fa-exclamation-triangle'"></i>
                </div>
                <div class="flex-1">
                    <p class="font-semibold text-sm sm:text-base" x-text="toastMessage"></p>
                </div>
                <button @click="showToast = false"
                        class="w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center glass-card hover:scale-110 transition-transform duration-300 focus-visible"
                        aria-label="Close notification">
                    <i class="fas fa-times text-xs"></i>
                </button>
            </div>
        </div>
    </div>

<script>
    function portfolio() {
        return {
            // State
            isLoading: true,
            isDark: true,
            mobileMenu: false,
            activeSection: 'home',
            scrollProgress: 0,
            isAtTop: true,
            showToast: false,
            toastMessage: '',
            toastType: 'success',
            techInput: '',
            editingSkill: null,
            editingProject: null,
            uploadingProfileImage: false,
            isSubmitting: false,
            deleteItem: { type: '', id: null, name: '' },
            loadingMessage: 'Initializing portfolio...',
            loadingProgress: 0,
            selectedProject: null,

            // Profile Data
            profile: {
                name: 'Zuyyina Firdausi Muhammad',
                title: 'Full Stack Developer',
                email: 'muhammadzuyyina@gmail.com',
                phone: '+62 822 9569 2941',
                bio: 'Passionate full-stack developer with expertise in modern web technologies. Specializing in creating scalable and efficient applications that deliver exceptional user experiences.',
                image: null
            },

            // Navigation
            navItems: [
                { name: 'Home', href: '#home' },
                { name: 'Skills', href: '#skills' },
                { name: 'Projects', href: '#projects' },
                { name: 'Contact', href: '#contact' }
            ],

            skills: [],
            projects: [],
            portfolioYear: new Date().getFullYear(),
            socialLinks: [],

            // Skill Categories
            skillCategories: [
                'frontend', 'backend', 'database', 'mobile', 
                'devops', 'cloud', 'tools', 'design'
            ],

            // Active Skill Category
            activeSkillCategory: 'all',

            // New Skill Data
            newSkill: {
                name: '',
                category: 'frontend',
                level: 50,
                years: 1,
                icon: 'fas fa-code',
                description: ''
            },

            // New Project Data
            newProject: {
                name: '',
                description: '',
                type: 'web',
                technologies: [],
                image: 'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                demoUrl: '',
                sourceUrl: ''
            },

            // Contact Form
            contactForm: {
                name: '',
                email: '',
                message: ''
            },

            // Modals
            modals: {
                projectDetail: false,
                addProject: false,
                addSkill: false,
                editProfile: false,
                deleteConfirm: false
            },

            // Computed Properties
            get filteredSkills() {
                if (this.activeSkillCategory === 'all') {
                    return this.skills;
                }
                return this.skills.filter(skill => skill.category === this.activeSkillCategory);
            },

            get averageSkillLevel() {
                if (this.skills.length === 0) return 0;
                const total = this.skills.reduce((sum, skill) => sum + skill.level, 0);
                return Math.round(total / this.skills.length);
            },

            get totalProjectCount() {
                return this.skills.reduce((total, skill) => total + (skill.projects || 0), 0);
            },

            get totalExperienceYears() {
                const startYear = 2023;
                const currentYear = new Date().getFullYear();
                return Math.max(1, currentYear - startYear);
            },

            get profileImageSrc() {
                if (!this.profile.image || this.profile.image.trim() === '') {
                    return this.generateDefaultAvatar();
                }
                return this.profile.image;
            },

            // Initialize
            async init() {
                console.log('ðŸš€ Portfolio initialization started');
                
                // Load theme preference
                const savedTheme = localStorage.getItem('theme');
                this.isDark = savedTheme ? savedTheme === 'dark' : true;

                this.initParticles();

                // Setup event listeners
                window.addEventListener('scroll', this.handleScroll.bind(this));
                window.addEventListener('resize', this.handleResize.bind(this));

                // Load data from Firebase
                await this.loadFromFirebase();
                
                // If no data in Firebase, load sample data
                if (this.skills.length === 0 && this.projects.length === 0) {
                    await this.loadSampleData();
                }
                
                setTimeout(() => {
                    this.isLoading = false;
                    console.log('âœ… Portfolio loaded successfully');
                }, 1500);
            },

            handleScroll() {
                const winScroll = document.documentElement.scrollTop || document.body.scrollTop;
                const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                this.scrollProgress = height > 0 ? (winScroll / height) * 100 : 0;
                
                this.isAtTop = window.scrollY < 50;
                
                const sections = ['home', 'skills', 'projects', 'contact'];
                for (const section of sections) {
                    const element = document.getElementById(section);
                    if (element) {
                        const rect = element.getBoundingClientRect();
                        if (rect.top <= 100 && rect.bottom >= 100) {
                            this.activeSection = section;
                            break;
                        }
                    }
                }
            },

            handleResize() {
                // Handle resize if needed
            },

            // Project Image Error Handling
            handleProjectImageError(event, projectId) {
                console.log('Project image error for project:', projectId);
                event.target.src = 'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
            },

            // Theme Management
            toggleTheme() {
                this.isDark = !this.isDark;
                localStorage.setItem('theme', this.isDark ? 'dark' : 'light');
                
                if (window.pJSDom && window.pJSDom.length > 0) {
                    const particles = window.pJSDom[0].pJS;
                    if (particles) {
                        particles.particles.color.value = this.isDark ? "#ffffff" : "#3b82f6";
                        particles.particles.line_linked.color = this.isDark ? "#ffffff" : "#3b82f6";
                        particles.fn.particlesRefresh();
                    }
                }
            },

            // Navigation
            scrollTo(sectionId) {
                const element = document.getElementById(sectionId);
                if (element) {
                    const offset = 80;
                    const elementPosition = element.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - offset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
                this.mobileMenu = false;
            },

            // Modal Management
            openModal(modalName) {
                this.modals[modalName] = true;
                document.body.style.overflow = 'hidden';
            },

            closeModal(modalName) {
                this.modals[modalName] = false;
                document.body.style.overflow = 'auto';
                
                if (modalName === 'addSkill') {
                    this.resetSkillForm();
                } else if (modalName === 'addProject') {
                    this.resetProjectForm();
                } else if (modalName === 'projectDetail') {
                    this.selectedProject = null;
                }
            },

            // Delete Confirmation
            confirmDelete(type, id, name) {
                this.deleteItem = { type, id, name };
                this.openModal('deleteConfirm');
            },

            async executeDelete() {
                try {
                    if (this.deleteItem.type === 'skill') {
                        await this.deleteSkill(this.deleteItem.id);
                    } else if (this.deleteItem.type === 'project') {
                        await this.deleteProject(this.deleteItem.id);
                    }
                    this.showToastMessage(`${this.deleteItem.type} deleted successfully`, 'success');
                } catch (error) {
                    this.showToastMessage(`Error deleting ${this.deleteItem.type}`, 'error');
                    console.error('Delete error:', error);
                } finally {
                    this.closeModal('deleteConfirm');
                }
            },

            // Skill Management
            resetSkillForm() {
                this.newSkill = {
                    name: '',
                    category: 'frontend',
                    level: 50,
                    years: 1,
                    icon: 'fas fa-code',
                    description: ''
                };
                this.editingSkill = null;
            },

            editSkill(skill) {
                this.newSkill = { ...skill };
                this.editingSkill = skill;
                this.openModal('addSkill');
            },

            async addNewSkill() {
                try {
                    this.isSubmitting = true;

                    const skillId = this.editingSkill ? this.editingSkill.id : Date.now().toString();
                    
                    const newSkill = {
                        id: skillId,
                        ...this.newSkill,
                        icon: this.getSkillIcon(this.newSkill.category)
                    };

                    if (this.editingSkill) {
                        const index = this.skills.findIndex(s => s.id === this.editingSkill.id);
                        if (index !== -1) {
                            this.skills[index] = newSkill;
                        }
                        await this.saveSkillToFirebase(newSkill);
                        this.showToastMessage('Skill updated successfully', 'success');
                    } else {
                        this.skills.push(newSkill);
                        await this.saveSkillToFirebase(newSkill);
                        this.showToastMessage('Skill added successfully', 'success');
                    }

                    this.closeModal('addSkill');
                    this.resetSkillForm();
                } catch (error) {
                    this.showToastMessage('Error saving skill', 'error');
                    console.error('Error adding skill:', error);
                } finally {
                    this.isSubmitting = false;
                }
            },

            updateSkill() {
                this.addNewSkill();
            },

            async deleteSkill(skillId) {
                this.skills = this.skills.filter(skill => skill.id !== skillId);
                await this.deleteSkillFromFirebase(skillId);
            },

            // Project Management
            resetProjectForm() {
                this.newProject = {
                    name: '',
                    description: '',
                    type: 'web',
                    technologies: [],
                    image: 'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '',
                    sourceUrl: ''
                };
                this.techInput = '';
                this.editingProject = null;
            },

            editProject(project) {
                this.newProject = { ...project };
                this.editingProject = project;
                this.openModal('addProject');
            },

            async addNewProject() {
                try {
                    this.isSubmitting = true;

                    const projectId = this.editingProject ? this.editingProject.id : Date.now().toString();
                    
                    const newProject = {
                        id: projectId,
                        ...this.newProject,
                        date: new Date().getFullYear().toString()
                    };

                    if (this.editingProject) {
                        const index = this.projects.findIndex(p => p.id === this.editingProject.id);
                        if (index !== -1) {
                            this.projects[index] = newProject;
                        }
                        await this.saveProjectToFirebase(newProject);
                        this.showToastMessage('Project updated successfully', 'success');
                    } else {
                        this.projects.push(newProject);
                        await this.saveProjectToFirebase(newProject);
                        this.showToastMessage('Project added successfully', 'success');
                    }

                    this.closeModal('addProject');
                    this.resetProjectForm();
                } catch (error) {
                    this.showToastMessage('Error saving project', 'error');
                    console.error('Error adding project:', error);
                } finally {
                    this.isSubmitting = false;
                }
            },

            updateProject() {
                this.addNewProject();
            },

            async deleteProject(projectId) {
                this.projects = this.projects.filter(project => project.id !== projectId);
                await this.deleteProjectFromFirebase(projectId);
            },

            viewProject(projectId) {
                this.selectedProject = this.projects.find(p => p.id === projectId);
                this.openModal('projectDetail');
            },

            // Technology Management
            addTechnology() {
                const tech = this.techInput.trim();
                if (tech && !this.newProject.technologies.includes(tech)) {
                    this.newProject.technologies.push(tech);
                    this.techInput = '';
                }
            },

            removeTech(tech) {
                this.newProject.technologies = this.newProject.technologies.filter(t => t !== tech);
            },

            // Contact Form
            submitContact() {
                try {
                    this.isSubmitting = true;
                    
                    if (!this.contactForm.name || !this.contactForm.email || !this.contactForm.message) {
                        this.showToastMessage('Please fill in all fields', 'error');
                        this.isSubmitting = false;
                        return;
                    }
                    
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    if (!emailRegex.test(this.contactForm.email)) {
                        this.showToastMessage('Please enter a valid email address', 'error');
                        this.isSubmitting = false;
                        return;
                    }
                    
                    console.log('Starting email sending process...');
                    
                    // Initialize EmailJS
                    emailjs.init('GIIXeb6Xt3whWfqvo');
                    
                    const templateParams = {
                        from_name: this.contactForm.name,
                        from_email: this.contactForm.email,
                        message: this.contactForm.message,
                        to_name: this.profile.name,
                        to_email: this.profile.email,
                        reply_to: this.contactForm.email
                    };
                    
                    emailjs.send('service_fkkrcdr', 'template_g9cfnn2', templateParams)
                        .then((response) => {
                            console.log('Email sent successfully:', response);
                            this.showToastMessage('Message sent successfully! I\'ll get back to you soon.', 'success');
                            
                            this.contactForm = {
                                name: '',
                                email: '',
                                message: ''
                            };
                        })
                        .catch((error) => {
                            console.error('Email sending error:', error);
                            this.showToastMessage('Error sending message. Please try again later.', 'error');
                        })
                        .finally(() => {
                            this.isSubmitting = false;
                        });
                    
                } catch (error) {
                    console.error('Email sending error:', error);
                    this.showToastMessage('Error sending message. Please try again later.', 'error');
                    this.isSubmitting = false;
                }
            },

            // Firebase Operations
            async loadFromFirebase() {
                try {
                    const db = window.firestore;
                    
                    // Load skills
                    const skillsSnapshot = await getDocs(collection(db, 'skills'));
                    this.skills = skillsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    
                    // Load projects
                    const projectsSnapshot = await getDocs(collection(db, 'projects'));
                    this.projects = projectsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    
                    // Load profile
                    const profileDoc = await getDoc(doc(db, 'profile', 'main'));
                    if (profileDoc.exists()) {
                        const profileData = profileDoc.data();
                        if (profileData) {
                            this.profile = { ...this.profile, ...profileData };
                        }
                    }
                    
                    // Load social links
                    const socialSnapshot = await getDocs(collection(db, 'socialLinks'));
                    this.socialLinks = socialSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    
                    console.log('âœ… Firebase data loaded successfully');
                    console.log('Skills:', this.skills.length);
                    console.log('Projects:', this.projects.length);
                    console.log('Social Links:', this.socialLinks.length);
                    
                } catch (error) {
                    console.error('Error loading from Firebase:', error);
                    // Fallback to local storage
                    this.loadFromLocalStorage();
                }
            },

            async saveSkillToFirebase(skill) {
                try {
                    const db = window.firestore;
                    await setDoc(doc(db, 'skills', skill.id), skill);
                    console.log('Skill saved to Firebase:', skill.id);
                } catch (error) {
                    console.error('Error saving skill to Firebase:', error);
                    // Fallback to local storage
                    this.saveToLocalStorage();
                }
            },

            async deleteSkillFromFirebase(skillId) {
                try {
                    const db = window.firestore;
                    await deleteDoc(doc(db, 'skills', skillId));
                    console.log('Skill deleted from Firebase:', skillId);
                } catch (error) {
                    console.error('Error deleting skill from Firebase:', error);
                }
            },

            async saveProjectToFirebase(project) {
                try {
                    const db = window.firestore;
                    await setDoc(doc(db, 'projects', project.id), project);
                    console.log('Project saved to Firebase:', project.id);
                } catch (error) {
                    console.error('Error saving project to Firebase:', error);
                    // Fallback to local storage
                    this.saveToLocalStorage();
                }
            },

            async deleteProjectFromFirebase(projectId) {
                try {
                    const db = window.firestore;
                    await deleteDoc(doc(db, 'projects', projectId));
                    console.log('Project deleted from Firebase:', projectId);
                } catch (error) {
                    console.error('Error deleting project from Firebase:', error);
                }
            },

            async saveProfileToFirebase() {
                try {
                    const db = window.firestore;
                    await setDoc(doc(db, 'profile', 'main'), this.profile);
                    console.log('Profile saved to Firebase');
                } catch (error) {
                    console.error('Error saving profile to Firebase:', error);
                }
            },

            async saveSocialLinksToFirebase() {
                try {
                    const db = window.firestore;
                    
                    // Delete all existing social links
                    const snapshot = await getDocs(collection(db, 'socialLinks'));
                    const deletePromises = snapshot.docs.map(doc => deleteDoc(doc.ref));
                    await Promise.all(deletePromises);
                    
                    // Save new social links
                    const savePromises = this.socialLinks.map((link, index) => {
                        const linkId = `link_${index}_${Date.now()}`;
                        return setDoc(doc(db, 'socialLinks', linkId), link);
                    });
                    
                    await Promise.all(savePromises);
                    console.log('Social links saved to Firebase');
                } catch (error) {
                    console.error('Error saving social links to Firebase:', error);
                }
            },

            // Profile Management
            async updateProfile() {
                try {
                    this.isSubmitting = true;
                    
                    // Save to Firebase
                    await this.saveProfileToFirebase();
                    await this.saveSocialLinksToFirebase();
                    
                    // Update profile image in main element
                    const mainProfileImage = document.getElementById('main-profile-image');
                    if (mainProfileImage) {
                        mainProfileImage.src = this.profileImageSrc;
                    }
                    
                    this.showToastMessage('Profile updated successfully', 'success');
                    this.closeModal('editProfile');
                } catch (error) {
                    this.showToastMessage('Error updating profile', 'error');
                    console.error('Profile update error:', error);
                } finally {
                    this.isSubmitting = false;
                }
            },

            async uploadProfileImage(event) {
                const file = event.target.files[0];
                if (!file) return;

                // Check file size (max 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    this.showToastMessage('File size too large. Maximum size is 5MB.', 'error');
                    return;
                }

                // Check file type
                if (!file.type.startsWith('image/')) {
                    this.showToastMessage('Please upload an image file', 'error');
                    return;
                }

                this.uploadingProfileImage = true;

                try {
                    // Upload to Firebase Storage
                    const storage = window.storage;
                    const storageRef = ref(storage, `profile-images/${Date.now()}_${file.name}`);
                    await uploadBytes(storageRef, file);
                    
                    // Get download URL
                    const downloadURL = await getDownloadURL(storageRef);
                    
                    // Update profile image
                    this.profile.image = downloadURL;
                    
                    // Update modal image
                    const modalImage = document.getElementById('modal-profile-image');
                    if (modalImage) {
                        modalImage.src = downloadURL;
                    }
                    
                    this.showToastMessage('Profile image updated successfully', 'success');
                } catch (error) {
                    console.error('Image upload error:', error);
                    this.showToastMessage('Error uploading image', 'error');
                } finally {
                    this.uploadingProfileImage = false;
                }
            },

            // Social Links Management
            addSocialLink() {
                this.socialLinks.push({
                    platform: 'github',
                    url: '',
                    icon: 'fab fa-github'
                });
            },

            removeSocialLink(index) {
                this.socialLinks.splice(index, 1);
            },

            // Download Resume
            downloadResume() {
                const resumeContent = `
                    ${this.profile.name}
                    ${this.profile.title}
                    
                    Contact Information:
                    Email: ${this.profile.email}
                    Phone: ${this.profile.phone}
                    
                    Professional Summary:
                    ${this.profile.bio}
                    
                    Skills:
                    ${this.skills.map(skill => `â€¢ ${skill.name} (${skill.level}%)`).join('\n')}
                    
                    Projects:
                    ${this.projects.map(project => `â€¢ ${project.name}: ${project.description}`).join('\n\n')}
                    
                    Social Links:
                    ${this.socialLinks.map(link => `â€¢ ${this.getSocialPlatformName(link.platform)}: ${link.url}`).join('\n')}
                `;

                const blob = new Blob([resumeContent], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${this.profile.name.replace(/\s+/g, '-').toLowerCase()}-resume.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.showToastMessage('Resume downloaded successfully', 'success');
            },

            // Helper Methods
            getCategoryName(category) {
                const names = {
                    'frontend': 'Frontend',
                    'backend': 'Backend',
                    'database': 'Database',
                    'mobile': 'Mobile',
                    'devops': 'DevOps',
                    'cloud': 'Cloud',
                    'tools': 'Tools',
                    'design': 'Design'
                };
                return names[category] || category;
            },

            getCategoryIcon(category) {
                const icons = {
                    'frontend': 'fas fa-code',
                    'backend': 'fas fa-server',
                    'database': 'fas fa-database',
                    'mobile': 'fas fa-mobile-alt',
                    'devops': 'fas fa-cogs',
                    'cloud': 'fas fa-cloud',
                    'tools': 'fas fa-tools',
                    'design': 'fas fa-palette'
                };
                return icons[category] || 'fas fa-code';
            },

            getSkillIcon(category) {
                return this.getCategoryIcon(category);
            },

            getSkillCategoryColor(category) {
                const colors = {
                    'frontend': 'bg-blue-500',
                    'backend': 'bg-green-500',
                    'database': 'bg-yellow-500',
                    'mobile': 'bg-purple-500',
                    'devops': 'bg-red-500',
                    'cloud': 'bg-indigo-500',
                    'tools': 'bg-pink-500',
                    'design': 'bg-teal-500'
                };
                return colors[category] || 'bg-slate-500';
            },

            getProficiencyLevel(level) {
                if (level >= 80) return 'Expert';
                if (level >= 60) return 'Advanced';
                if (level >= 40) return 'Intermediate';
                return 'Beginner';
            },

            getProficiencyClass(level) {
                if (level >= 80) return 'status-success';
                if (level >= 60) return 'status-success';
                if (level >= 40) return 'status-warning';
                return 'status-error';
            },

            getSocialIcon(platform) {
                const icons = {
                    'github': 'fab fa-github',
                    'linkedin': 'fab fa-linkedin-in',
                    'twitter': 'fab fa-twitter',
                    'instagram': 'fab fa-instagram',
                    'email': 'fas fa-envelope',
                    'website': 'fas fa-globe'
                };
                return icons[platform] || 'fas fa-external-link-alt';
            },

            getSocialPlatformName(platform) {
                const names = {
                    'github': 'GitHub',
                    'linkedin': 'LinkedIn',
                    'twitter': 'Twitter',
                    'instagram': 'Instagram',
                    'email': 'Email',
                    'website': 'Website'
                };
                return names[platform] || platform.charAt(0).toUpperCase() + platform.slice(1);
            },

            getSocialPlatformColorClass(platform) {
                const colors = {
                    'github': 'bg-gray-800 hover:bg-gray-900',
                    'linkedin': 'bg-blue-700 hover:bg-blue-800',
                    'twitter': 'bg-blue-400 hover:bg-blue-500',
                    'instagram': 'bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600',
                    'email': 'bg-gray-600 hover:bg-gray-700',
                    'website': 'bg-indigo-600 hover:bg-indigo-700'
                };
                return colors[platform] || 'bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700';
            },

            getSocialPlaceholder(platform) {
                const placeholders = {
                    'github': 'https://github.com/username',
                    'linkedin': 'https://linkedin.com/in/username',
                    'twitter': 'https://twitter.com/username',
                    'instagram': 'https://instagram.com/username',
                    'email': 'mailto:email@example.com',
                    'website': 'https://yourwebsite.com'
                };
                return placeholders[platform] || 'https://example.com';
            },

            // Show toast message
            showToastMessage(message, type = 'success') {
                this.toastMessage = message;
                this.toastType = type;
                this.showToast = true;
                
                setTimeout(() => {
                    this.showToast = false;
                }, 3000);
            },

            // Generate default avatar
            generateDefaultAvatar() {
                const name = this.profile.name || 'Developer';
                const initials = name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                const bgColor = '3b82f6';
                const textColor = 'ffffff';
                const size = '400';
                
                return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${bgColor}&color=${textColor}&size=${size}&bold=true&font-size=0.5`;
            },

            // Initialize particles
            initParticles() {
                if (typeof particlesJS === 'function') {
                    particlesJS('particles-js', {
                        particles: {
                            number: { 
                                value: 80, 
                                density: { 
                                    enable: true, 
                                    value_area: 800 
                                } 
                            },
                            color: { 
                                value: this.isDark ? "#ffffff" : "#3b82f6" 
                            },
                            shape: { 
                                type: "circle" 
                            },
                            opacity: { 
                                value: 0.3, 
                                random: true
                            },
                            size: { 
                                value: 3, 
                                random: true
                            },
                            line_linked: {
                                enable: true,
                                distance: 150,
                                color: this.isDark ? "#ffffff" : "#3b82f6",
                                opacity: 0.2,
                                width: 1
                            },
                            move: {
                                enable: true,
                                speed: 1,
                                direction: "none",
                                random: true,
                                straight: false
                            }
                        }
                    });
                }
            },

            // Load sample data
            async loadSampleData() {
                this.skills = [
                    { 
                        id: 'skill_1', 
                        name: 'React', 
                        category: 'frontend', 
                        level: 90, 
                        years: 3, 
                        icon: 'fab fa-react',
                        description: 'Modern React with Hooks, Context API, and Redux'
                    },
                    { 
                        id: 'skill_2', 
                        name: 'Node.js', 
                        category: 'backend', 
                        level: 85, 
                        years: 3, 
                        icon: 'fab fa-node-js',
                        description: 'Building scalable server-side applications and APIs'
                    },
                    { 
                        id: 'skill_3', 
                        name: 'MongoDB', 
                        category: 'database', 
                        level: 80, 
                        years: 2, 
                        icon: 'fas fa-database',
                        description: 'NoSQL database design and optimization'
                    }
                ];

                this.projects = [
                    {
                        id: 'project_1',
                        name: 'E-Commerce Platform',
                        description: 'A full-featured e-commerce platform with real-time inventory management, payment processing, and customer analytics dashboard.',
                        type: 'web',
                        technologies: ['React', 'Node.js', 'MongoDB', 'Express', 'Stripe'],
                        image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                        demoUrl: 'https://demo.example.com',
                        sourceUrl: 'https://github.com/username/ecommerce',
                        date: '2024'
                    }
                ];
                
                // Generate default avatar for profile
                this.profile.image = this.generateDefaultAvatar();
                
                // Load default social links
                this.loadDefaultSocialLinks();
                
                // Save to Firebase
                await this.saveAllToFirebase();
                
                console.log('âœ… Sample data loaded and saved to Firebase');
            },

            loadDefaultSocialLinks() {
                this.socialLinks = [
                    {
                        platform: 'github',
                        icon: 'fab fa-github',
                        url: 'https://github.com/zuyyina'
                    },
                    {
                        platform: 'linkedin',
                        icon: 'fab fa-linkedin-in',
                        url: 'https://linkedin.com/in/zuyyina'
                    },
                    {
                        platform: 'email',
                        icon: 'fas fa-envelope',
                        url: 'mailto:muhammadzuyyina@gmail.com'
                    }
                ];
            },

            async saveAllToFirebase() {
                try {
                    // Save skills
                    for (const skill of this.skills) {
                        await this.saveSkillToFirebase(skill);
                    }
                    
                    // Save projects
                    for (const project of this.projects) {
                        await this.saveProjectToFirebase(project);
                    }
                    
                    // Save profile
                    await this.saveProfileToFirebase();
                    
                    // Save social links
                    await this.saveSocialLinksToFirebase();
                    
                    console.log('âœ… All data saved to Firebase');
                } catch (error) {
                    console.error('Error saving all data to Firebase:', error);
                }
            },

            // Local Storage Fallback (for offline/backup)
            loadFromLocalStorage() {
                try {
                    // Load skills
                    const savedSkills = localStorage.getItem('portfolioSkills');
                    if (savedSkills) {
                        this.skills = JSON.parse(savedSkills);
                    }
                    
                    // Load projects
                    const savedProjects = localStorage.getItem('portfolioProjects');
                    if (savedProjects) {
                        this.projects = JSON.parse(savedProjects);
                    }
                    
                    // Load profile
                    const savedProfile = localStorage.getItem('portfolioProfile');
                    if (savedProfile) {
                        Object.assign(this.profile, JSON.parse(savedProfile));
                    }
                    
                    // Load social links
                    const savedSocialLinks = localStorage.getItem('portfolioSocialLinks');
                    if (savedSocialLinks) {
                        this.socialLinks = JSON.parse(savedSocialLinks);
                    }
                    
                    console.log('âœ… Local storage loaded as fallback');
                } catch (error) {
                    console.error('Error loading from local storage:', error);
                }
            },

            saveToLocalStorage() {
                try {
                    localStorage.setItem('portfolioSkills', JSON.stringify(this.skills));
                    localStorage.setItem('portfolioProjects', JSON.stringify(this.projects));
                    localStorage.setItem('portfolioProfile', JSON.stringify(this.profile));
                    localStorage.setItem('portfolioSocialLinks', JSON.stringify(this.socialLinks));
                    
                    console.log('âœ… Data saved locally as backup');
                } catch (error) {
                    console.error('âŒ Local save error:', error);
                }
            }
        };
    }
</script>
</body>
</html>