<!DOCTYPE html>
<html lang="en" x-data="portfolio()" x-init="init()">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Stack Developer Portfolio | Modern Web Solutions</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        'primary-dark': '#4f46e5',
                        secondary: '#8b5cf6',
                        dark: '#0f172a',
                        light: '#f8fafc',
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s ease-in-out infinite',
                        'bounce-slow': 'bounce 2s infinite',
                        'gradient': 'gradient 3s ease infinite',
                        'slide-in': 'slideIn 0.5s ease-out',
                        'fade-in': 'fadeIn 0.5s ease-out',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        gradient: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        },
                        slideIn: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Alpine JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    
    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --dark: #0f172a;
            --light: #f8fafc;
            --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-dark: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }

        body {
            scroll-behavior: smooth;
            font-family: 'Inter', sans-serif;
        }

        /* Improved Loading */
        .loading-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* Enhanced Cards */
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
        }

        .card-hover:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.25);
            border-color: rgba(99, 102, 241, 0.5);
        }

        /* Enhanced Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            padding: 14px 32px;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
            z-index: -1;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
        }

        .btn-outline {
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 14px 32px;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            background: transparent;
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.2);
        }

        /* Enhanced Modal */
        .modal-content {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: slideIn 0.3s ease-out;
        }

        .dark .modal-content {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }

        /* Enhanced Form Inputs */
        .form-input {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 14px 20px;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            background: white;
        }

        .dark .form-input {
            background: rgba(30, 41, 59, 0.9);
            border-color: #475569;
            color: white;
        }

        .dark .form-input:focus {
            background: #1e293b;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
        }

        /* Enhanced Skill Bars */
        .skill-bar-container {
            background: rgba(226, 232, 240, 0.3);
            border-radius: 10px;
            overflow: hidden;
            height: 10px;
        }

        .dark .skill-bar-container {
            background: rgba(71, 85, 105, 0.3);
        }

        .skill-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 10px;
            transition: width 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .skill-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Enhanced Navigation */
        .nav-link {
            position: relative;
            padding: 10px 20px;
            color: #64748b;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 80%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--primary);
        }

        .dark .nav-link {
            color: #cbd5e1;
        }

        /* Enhanced Auth Button */
        .auth-container {
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 50;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .auth-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 12px 28px;
            border-radius: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3);
            border: none;
            cursor: pointer;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(99, 102, 241, 0.4);
        }

        .auth-btn.logout {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }

        /* Enhanced Social Links */
        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 16px;
        }

        .social-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            transition: all 0.3s ease;
            text-align: center;
        }

        .social-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(99, 102, 241, 0.2);
        }

        .social-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 16px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            transition: all 0.3s ease;
        }

        .social-card:hover .social-icon {
            transform: scale(1.1) rotate(5deg);
        }

        /* Enhanced Technology Spectrum */
        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 20px;
        }

        .tech-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 24px;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tech-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: 0.5s;
        }

        .tech-card:hover::before {
            left: 100%;
        }

        .tech-card:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.15);
        }

        .tech-icon {
            width: 70px;
            height: 70px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
            transition: all 0.3s ease;
        }

        .tech-card:hover .tech-icon {
            transform: scale(1.1) rotate(-5deg);
        }

        /* Enhanced Contact Form */
        .contact-form {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 40px;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(226, 232, 240, 0.1);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--primary), var(--secondary));
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(var(--primary-dark), var(--secondary));
        }

        /* Improved Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Section Spacing */
        section {
            padding: 100px 0;
        }

        /* Background Patterns */
        .bg-pattern {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(99, 102, 241, 0.1) 0%, transparent 55%),
                radial-gradient(circle at 75% 75%, rgba(139, 92, 246, 0.1) 0%, transparent 55%);
        }

        /* Responsive Improvements */
        @media (max-width: 768px) {
            .tech-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 16px;
            }
            
            .social-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .auth-container {
                top: 16px;
                right: 16px;
                flex-direction: column;
                align-items: flex-end;
            }
            
            section {
                padding: 60px 0;
            }
            
            .modal-content {
                margin: 16px;
            }
        }

        /* Animation Classes */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Publish Button Enhancement */
        .publish-btn {
            position: fixed;
            bottom: 32px;
            right: 32px;
            z-index: 40;
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
            color: white;
            padding: 16px 32px;
            border-radius: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
            border: none;
            cursor: pointer;
        }

        .publish-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 25px 50px rgba(99, 102, 241, 0.4);
            animation: none;
        }

        /* Enhanced Project Cards */
        .project-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .project-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 30px 60px rgba(99, 102, 241, 0.2);
        }

        .project-image {
            height: 240px;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .project-card:hover .project-image {
            transform: scale(1.05);
        }

        /* Enhanced Modal Transitions */
        .modal-enter {
            animation: modalEnter 0.3s ease-out;
        }

        @keyframes modalEnter {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Glass Effect Enhancement */
        .glass {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dark .glass {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.7), rgba(15, 23, 42, 0.5));
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Gradient Background Animation */
        .gradient-bg {
            background: linear-gradient(-45deg, #6366f1, #8b5cf6, #ec4899, #6366f1);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        /* Floating Elements */
        .floating {
            animation: float 6s ease-in-out infinite;
        }

        .floating-2 {
            animation: float 8s ease-in-out infinite;
            animation-delay: 1s;
        }

        .floating-3 {
            animation: float 10s ease-in-out infinite;
            animation-delay: 2s;
        }
    </style>
</head>
<body :class="{'dark': isDark}" class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 transition-colors duration-300 overflow-x-hidden">
    
    <!-- Background Elements -->
    <div class="fixed inset-0 bg-pattern z-0"></div>
    <div class="fixed top-0 left-0 w-96 h-96 bg-gradient-to-br from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl floating"></div>
    <div class="fixed bottom-0 right-0 w-96 h-96 bg-gradient-to-br from-pink-500/10 to-blue-500/10 rounded-full blur-3xl floating-2"></div>
    
    <!-- Scroll Progress Bar -->
    <div class="fixed top-0 left-0 h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 z-50" 
         :style="'width: ' + scrollProgress + '%'"></div>
    
    <!-- Improved Auth Container -->
    <div class="auth-container">
        <div x-show="isPublicMode">
            <button @click="loginWithGoogle()" class="auth-btn">
                <i class="fas fa-sign-in-alt"></i>
                <span>Login to Edit</span>
            </button>
        </div>
        
        <div x-show="!isPublicMode" class="flex items-center gap-4">
            <div class="glass px-4 py-2 rounded-xl">
                <span class="text-sm flex items-center gap-2">
                    <i class="fas fa-user-circle text-primary"></i>
                    <span x-text="userEmail?.split('@')[0] || 'User'" class="font-medium"></span>
                </span>
            </div>
            <button @click="signOut()" class="auth-btn logout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
        </div>
    </div>
    
    <!-- Improved Publish Button -->
    <div x-show="!isPublicMode" class="publish-btn" @click="publishToPublic()">
        <i class="fas fa-cloud-upload-alt text-xl"></i>
        <span>PUBLISH TO CLOUD</span>
    </div>
    
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 py-4">
        <div class="container mx-auto px-6">
            <div class="flex justify-between items-center">
                <div class="text-3xl font-bold">
                    <span class="gradient-text">Portfolio</span>
                    <span class="text-sm ml-2 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 px-3 py-1 rounded-full font-normal">
                        <i class="fas fa-code mr-1"></i>Dev
                    </span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <template x-for="item in navItems" :key="item.name">
                        <a :href="item.href" 
                           @click.prevent="scrollTo(item.href.substring(1))"
                           class="nav-link"
                           :class="{'active': activeSection === item.href.substring(1)}">
                            <span x-text="item.name"></span>
                        </a>
                    </template>
                </div>
                
                <!-- Theme Toggle -->
                <div class="flex items-center space-x-6">
                    <button @click="toggleTheme()" 
                            class="w-14 h-7 rounded-full bg-gray-300 dark:bg-gray-700 relative transition-colors duration-300">
                        <div class="absolute top-1 left-1 w-5 h-5 rounded-full bg-white dark:bg-gray-900 transition-transform duration-300 shadow-lg" 
                             :class="{'translate-x-7': isDark}"></div>
                        <div class="absolute top-1 left-2">
                            <i class="fas fa-sun text-yellow-500 text-xs"></i>
                        </div>
                        <div class="absolute top-1 right-2">
                            <i class="fas fa-moon text-blue-400 text-xs"></i>
                        </div>
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button @click="mobileMenu = !mobileMenu" class="md:hidden text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div x-show="mobileMenu" class="md:hidden glass mt-4 rounded-2xl">
            <div class="container mx-auto px-6 py-4 space-y-2">
                <template x-for="item in navItems" :key="item.name">
                    <a :href="item.href" 
                       @click.prevent="scrollTo(item.href.substring(1)); mobileMenu = false"
                       class="block py-3 text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors font-medium border-b border-gray-200 dark:border-gray-700 last:border-0"
                       :class="{'text-indigo-600 dark:text-indigo-400': activeSection === item.href.substring(1)}">
                        <span x-text="item.name"></span>
                    </a>
                </template>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24">
        <!-- Home Section -->
        <section id="home" class="min-h-screen relative">
            <div id="particles-js" class="absolute inset-0"></div>
            
            <div class="container mx-auto px-6 py-16 relative z-10">
                <div class="grid lg:grid-cols-2 gap-16 items-center">
                    <!-- Left Column: Hero Content -->
                    <div class="text-center lg:text-left">
                        <div class="mb-12">
                            <div class="inline-flex items-center gap-3 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300 px-6 py-3 rounded-full mb-8">
                                <i class="fas fa-terminal"></i>
                                <span class="text-lg font-semibold">Full Stack Developer</span>
                            </div>
                            
                            <h1 class="text-5xl md:text-7xl font-bold mb-8">
                                <span class="gradient-text" x-text="profile.name"></span>
                            </h1>
                            
                            <p class="text-2xl md:text-3xl text-gray-700 dark:text-gray-300 mb-8 leading-relaxed">
                                Building <span class="gradient-text font-bold">Digital Experiences</span> that matter
                            </p>
                            
                            <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl leading-relaxed" x-text="profile.bio"></p>
                        </div>
                        
                        <!-- CTA Buttons -->
                        <div class="flex flex-col sm:flex-row gap-6 mb-12">
                            <button @click="scrollTo('contact')" class="btn-primary">
                                <i class="fas fa-envelope mr-3"></i>Contact Me
                            </button>
                            
                            <button @click="scrollTo('projects')" class="btn-outline">
                                <i class="fas fa-briefcase mr-3"></i>View Projects
                            </button>
                        </div>
                        
                        <!-- Stats -->
                        <div class="grid grid-cols-3 gap-6 max-w-lg">
                            <div class="card-hover p-6 text-center">
                                <div class="text-4xl font-bold gradient-text mb-2" x-text="skills.length"></div>
                                <div class="text-gray-600 dark:text-gray-400 font-medium">Tech Skills</div>
                            </div>
                            <div class="card-hover p-6 text-center">
                                <div class="text-4xl font-bold gradient-text mb-2" x-text="projects.length"></div>
                                <div class="text-gray-600 dark:text-gray-400 font-medium">Projects</div>
                            </div>
                            <div class="card-hover p-6 text-center">
                                <div class="text-4xl font-bold gradient-text mb-2" x-text="averageSkillLevel + '%'"></div>
                                <div class="text-gray-600 dark:text-gray-400 font-medium">Avg. Proficiency</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column: Profile & Social -->
                    <div class="relative">
                        <div class="relative mx-auto lg:mx-0 max-w-md">
                            <!-- Profile Image -->
                            <div class="relative mb-12">
                                <div class="absolute -ins-4 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur-2xl opacity-50"></div>
                                <div class="relative rounded-3xl overflow-hidden border-8 border-white dark:border-gray-800 shadow-2xl">
                                    <img :src="profileImageSrc" 
                                         alt="Profile Picture" 
                                         class="w-full h-96 object-cover">
                                    
                                    <!-- Edit Profile Image Button -->
                                    <div x-show="!isPublicMode" class="absolute bottom-6 right-6">
                                        <label for="profileImageUpload" class="btn-primary cursor-pointer">
                                            <i class="fas fa-camera"></i>
                                        </label>
                                        <input id="profileImageUpload" type="file" accept="image/*" @change="uploadProfileImage" class="hidden">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Tech Stack -->
                            <div class="flex flex-wrap justify-center gap-3">
                                <div class="tech-card !p-4 !rounded-full">
                                    <i class="fab fa-react text-2xl text-blue-500"></i>
                                </div>
                                <div class="tech-card !p-4 !rounded-full">
                                    <i class="fab fa-node-js text-2xl text-green-500"></i>
                                </div>
                                <div class="tech-card !p-4 !rounded-full">
                                    <i class="fas fa-database text-2xl text-yellow-500"></i>
                                </div>
                                <div class="tech-card !p-4 !rounded-full">
                                    <i class="fab fa-aws text-2xl text-orange-500"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce-slow">
                <button @click="scrollTo('skills')" class="text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                    <i class="fas fa-chevron-down text-3xl"></i>
                </button>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="relative">
            <div class="container mx-auto px-6">
                <div class="text-center mb-20">
                    <h2 class="text-5xl font-bold mb-8">
                        <span class="gradient-text">Skills & Expertise</span>
                    </h2>
                    <p class="text-2xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                        Mastering the full stack with expertise in modern web technologies
                    </p>
                </div>
                
                <!-- Technology Spectrum - Enhanced -->
                <div class="mb-20">
                    <h3 class="text-3xl font-bold mb-12 text-center">
                        <i class="fas fa-layer-group mr-3 gradient-text"></i>
                        Technology Spectrum
                    </h3>
                    
                    <div class="tech-grid">
                        <!-- Frontend Technologies -->
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-react"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">React</h4>
                            <p class="text-gray-600 dark:text-gray-400">Frontend Library</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-vuejs"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Vue.js</h4>
                            <p class="text-gray-600 dark:text-gray-400">Progressive Framework</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-angular"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Angular</h4>
                            <p class="text-gray-600 dark:text-gray-400">Platform & Framework</p>
                        </div>
                        
                        <!-- Backend Technologies -->
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-node-js"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Node.js</h4>
                            <p class="text-gray-600 dark:text-gray-400">JavaScript Runtime</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-python"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Python</h4>
                            <p class="text-gray-600 dark:text-gray-400">Backend Language</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-java"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Java</h4>
                            <p class="text-gray-600 dark:text-gray-400">Enterprise Backend</p>
                        </div>
                        
                        <!-- Databases -->
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">PostgreSQL</h4>
                            <p class="text-gray-600 dark:text-gray-400">Relational Database</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">MongoDB</h4>
                            <p class="text-gray-600 dark:text-gray-400">NoSQL Database</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Redis</h4>
                            <p class="text-gray-600 dark:text-gray-400">In-Memory Data Store</p>
                        </div>
                        
                        <!-- DevOps -->
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-docker"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">Docker</h4>
                            <p class="text-gray-600 dark:text-gray-400">Container Platform</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fab fa-aws"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">AWS</h4>
                            <p class="text-gray-600 dark:text-gray-400">Cloud Platform</p>
                        </div>
                        
                        <div class="tech-card">
                            <div class="tech-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h4 class="font-bold text-xl mb-3">CI/CD</h4>
                            <p class="text-gray-600 dark:text-gray-400">DevOps Automation</p>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Skills -->
                <div class="mb-12">
                    <div class="flex justify-between items-center mb-12">
                        <h3 class="text-3xl font-bold">
                            <i class="fas fa-chart-line mr-3 gradient-text"></i>
                            Detailed Skills Analysis
                        </h3>
                        
                        <!-- Add Skill Button -->
                        <button x-show="!isPublicMode" @click="openModal('addSkill')" class="btn-primary">
                            <i class="fas fa-plus"></i> Add Skill
                        </button>
                    </div>
                    
                    <!-- Skill Category Filter -->
                    <div class="flex flex-wrap justify-center gap-3 mb-12">
                        <button @click="activeSkillCategory = 'all'" 
                                class="px-6 py-3 rounded-xl transition-all duration-300"
                                :class="activeSkillCategory === 'all' 
                                    ? 'btn-primary' 
                                    : 'btn-outline'">
                            <i class="fas fa-layer-group mr-2"></i>
                            All Skills
                        </button>
                        <template x-for="category in skillCategories" :key="category">
                            <button @click="activeSkillCategory = category" 
                                    class="px-6 py-3 rounded-xl transition-all duration-300"
                                    :class="activeSkillCategory === category 
                                        ? 'btn-primary' 
                                        : 'btn-outline'">
                                <i :class="getCategoryIcon(category)" class="mr-2"></i>
                                <span x-text="getCategoryName(category)"></span>
                            </button>
                        </template>
                    </div>
                    
                    <!-- Skills Grid -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <template x-for="skill in filteredSkills" :key="skill.id">
                            <div class="card-hover p-8">
                                <div class="flex justify-between items-start mb-6">
                                    <div class="flex items-center gap-4">
                                        <div :class="getSkillCategoryColor(skill.category)" 
                                             class="w-16 h-16 rounded-2xl flex items-center justify-center text-white shadow-lg">
                                            <i :class="skill.icon" class="text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-2xl mb-2" x-text="skill.name"></h3>
                                            <div class="flex items-center gap-2">
                                                <i :class="getProficiencyIcon(skill.level)" class="text-yellow-500"></i>
                                                <span class="text-gray-600 dark:text-gray-400" x-text="getProficiencyLevel(skill.level)"></span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Edit/Delete Buttons -->
                                    <div x-show="!isPublicMode" class="flex gap-2">
                                        <button @click="editSkill(skill)" class="w-10 h-10 bg-blue-500 hover:bg-blue-600 text-white rounded-xl flex items-center justify-center">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button @click="confirmDelete('skill', skill.id, skill.name)" class="w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center justify-center">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <p class="text-gray-600 dark:text-gray-300 mb-6" x-text="skill.description"></p>
                                
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400 font-medium">Proficiency</span>
                                        <span class="font-bold gradient-text" x-text="skill.level + '%'"></span>
                                    </div>
                                    <div class="skill-bar-container">
                                        <div class="skill-bar" :style="'width: ' + skill.level + '%'"></div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="relative">
            <div class="container mx-auto px-6">
                <div class="text-center mb-20">
                    <h2 class="text-5xl font-bold mb-8">
                        <span class="gradient-text">Featured Projects</span>
                    </h2>
                    <p class="text-2xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                        A curated collection of innovative solutions
                    </p>
                </div>
                
                <!-- Project View Toggle -->
                <div class="flex flex-col sm:flex-row justify-between items-center gap-6 mb-12">
                    <div class="flex gap-3">
                        <button @click="setProjectView('grid')" 
                                class="px-6 py-3 rounded-xl transition-all duration-300"
                                :class="projectView === 'grid' ? 'btn-primary' : 'btn-outline'">
                            <i class="fas fa-th-large mr-2"></i>
                            Grid View
                        </button>
                        <button @click="setProjectView('slider')" 
                                class="px-6 py-3 rounded-xl transition-all duration-300"
                                :class="projectView === 'slider' ? 'btn-primary' : 'btn-outline'">
                            <i class="fas fa-sliders-h mr-2"></i>
                            Slider View
                        </button>
                    </div>
                    
                    <!-- Add Project Button -->
                    <button x-show="!isPublicMode" @click="openModal('addProject')" class="btn-primary">
                        <i class="fas fa-plus mr-2"></i> Add Project
                    </button>
                </div>
                
                <!-- Projects Grid View -->
                <div x-show="projectView === 'grid'" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <template x-for="project in projects" :key="project.id">
                        <div class="project-card">
                            <div class="relative overflow-hidden">
                                <img :src="project.image" 
                                     :alt="project.name"
                                     class="project-image">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                            </div>
                            
                            <div class="p-8">
                                <h3 class="text-2xl font-bold mb-4" x-text="project.name"></h3>
                                <p class="text-gray-600 dark:text-gray-300 mb-6" x-text="project.description"></p>
                                
                                <div class="flex flex-wrap gap-2 mb-6">
                                    <template x-for="tech in project.technologies.slice(0, 3)" :key="tech">
                                        <span class="px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg text-sm font-medium">
                                            <span x-text="tech"></span>
                                        </span>
                                    </template>
                                </div>
                                
                                <div class="flex justify-between items-center pt-6 border-t border-gray-100 dark:border-gray-700">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-calendar text-gray-400"></i>
                                        <span class="text-gray-500 dark:text-gray-400" x-text="project.date"></span>
                                    </div>
                                    <button @click="viewProject(project.id)" class="btn-primary !py-2 !px-4">
                                        View Details
                                    </button>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="relative">
            <div class="container mx-auto px-6">
                <div class="text-center mb-20">
                    <h2 class="text-5xl font-bold mb-8">
                        <span class="gradient-text">Get In Touch</span>
                    </h2>
                    <p class="text-2xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                        Ready to bring your ideas to life?
                    </p>
                </div>
                
                <div class="grid lg:grid-cols-3 gap-12">
                    <!-- Contact Info -->
                    <div class="lg:col-span-1">
                        <div class="contact-form">
                            <h3 class="text-2xl font-bold mb-8">
                                <i class="fas fa-id-card mr-3 gradient-text"></i>
                                Contact Information
                            </h3>
                            
                            <div class="space-y-8 mb-10">
                                <div class="flex items-start gap-6">
                                    <div class="w-14 h-14 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-user text-2xl text-indigo-600 dark:text-indigo-400"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-lg mb-2">Name</h4>
                                        <p class="text-gray-600 dark:text-gray-300" x-text="profile.name"></p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start gap-6">
                                    <div class="w-14 h-14 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-envelope text-2xl text-green-600 dark:text-green-400"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-lg mb-2">Email</h4>
                                        <p class="text-gray-600 dark:text-gray-300" x-text="profile.email"></p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start gap-6">
                                    <div class="w-14 h-14 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-phone text-2xl text-purple-600 dark:text-purple-400"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-lg mb-2">Phone</h4>
                                        <p class="text-gray-600 dark:text-gray-300" x-text="profile.phone"></p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Edit Profile Button -->
                            <button x-show="!isPublicMode" @click="openModal('editProfile')" class="btn-primary w-full">
                                <i class="fas fa-edit mr-2"></i>
                                Edit Profile
                            </button>
                        </div>
                    </div>
                    
                    <!-- Enhanced Connect With Me Section -->
                    <div class="lg:col-span-2">
                        <div class="contact-form">
                            <h3 class="text-2xl font-bold mb-8">
                                <i class="fas fa-share-alt mr-3 gradient-text"></i>
                                Connect With Me
                            </h3>
                            
                            <div class="social-grid mb-10">
                                <!-- GitHub -->
                                <a href="https://github.com/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-github"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">GitHub</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Check out my projects</p>
                                </a>
                                
                                <!-- LinkedIn -->
                                <a href="https://linkedin.com/in/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-linkedin-in"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">LinkedIn</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Professional profile</p>
                                </a>
                                
                                <!-- Twitter -->
                                <a href="https://twitter.com/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-twitter"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Twitter</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Tech thoughts & updates</p>
                                </a>
                                
                                <!-- Stack Overflow -->
                                <a href="https://stackoverflow.com/users/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-stack-overflow"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Stack Overflow</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Developer community</p>
                                </a>
                                
                                <!-- Dribbble -->
                                <a href="https://dribbble.com/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-dribbble"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Dribbble</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Design portfolio</p>
                                </a>
                                
                                <!-- Behance -->
                                <a href="https://behance.net/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-behance"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Behance</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Creative work</p>
                                </a>
                                
                                <!-- Medium -->
                                <a href="https://medium.com/@username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-medium"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Medium</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Blog & articles</p>
                                </a>
                                
                                <!-- Dev.to -->
                                <a href="https://dev.to/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-dev"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Dev.to</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Developer community</p>
                                </a>
                                
                                <!-- YouTube -->
                                <a href="https://youtube.com/c/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-youtube"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">YouTube</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Tech tutorials</p>
                                </a>
                                
                                <!-- Twitch -->
                                <a href="https://twitch.tv/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-twitch"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Twitch</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Live coding</p>
                                </a>
                                
                                <!-- Discord -->
                                <a href="https://discord.gg/invite" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-discord"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Discord</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Community chat</p>
                                </a>
                                
                                <!-- Instagram -->
                                <a href="https://instagram.com/username" target="_blank" class="social-card">
                                    <div class="social-icon">
                                        <i class="fab fa-instagram"></i>
                                    </div>
                                    <h4 class="font-bold text-lg mb-2">Instagram</h4>
                                    <p class="text-gray-600 dark:text-gray-400 text-sm">Daily updates</p>
                                </a>
                            </div>
                            
                            <!-- Contact Form -->
                            <h4 class="text-xl font-bold mb-6">Send me a message</h4>
                            <form @submit.prevent="submitContact">
                                <div class="grid md:grid-cols-2 gap-6 mb-6">
                                    <div>
                                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                            Your Name
                                        </label>
                                        <input type="text" x-model="contactForm.name" 
                                               class="form-input w-full"
                                               placeholder="Enter your name"
                                               required>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                            Your Email
                                        </label>
                                        <input type="email" x-model="contactForm.email" 
                                               class="form-input w-full"
                                               placeholder="Enter your email"
                                               required>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                        Your Message
                                    </label>
                                    <textarea x-model="contactForm.message" rows="5"
                                              class="form-input w-full resize-none"
                                              placeholder="Tell me about your project..."
                                              required></textarea>
                                </div>
                                
                                <button type="submit" 
                                        :disabled="isSubmitting"
                                        class="btn-primary w-full">
                                    <i class="fas" :class="isSubmitting ? 'fa-spinner fa-spin' : 'fa-paper-plane'"></i>
                                    <span x-text="isSubmitting ? 'Sending...' : 'Send Message'"></span>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-3 gap-12 items-center">
                <div>
                    <div class="text-3xl font-bold text-white mb-3">Portfolio<span class="gradient-text">.dev</span></div>
                    <p class="text-gray-400" x-text="profile.name"></p>
                </div>
                
                <div class="flex justify-center">
                    <div class="flex flex-wrap gap-4">
                        <template x-for="link in socialLinks" :key="link.platform">
                            <a :href="link.url" target="_blank" 
                               class="w-12 h-12 rounded-full glass flex items-center justify-center hover:scale-110 transition-all duration-300">
                                <i :class="link.icon" class="text-xl"></i>
                            </a>
                        </template>
                    </div>
                </div>
                
                <div class="text-right">
                    <p class="text-sm text-gray-400">&copy; <span x-text="portfolioYear"></span> All rights reserved.</p>
                    <p class="text-sm text-gray-500 mt-2">Made with <i class="fas fa-heart text-red-500 mx-1"></i> by Developer</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Enhanced Modals -->
    <!-- Add/Edit Skill Modal -->
    <div x-show="modals.addSkill" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="modal-content max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-3xl font-bold">
                        <i class="fas fa-magic mr-3 gradient-text"></i>
                        <span x-text="editingSkill ? 'Edit Skill' : 'Add New Skill'"></span>
                    </h3>
                    <button @click="closeModal('addSkill')" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div>
                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Skill Name *</label>
                        <input type="text" x-model="newSkill.name" 
                               class="form-input w-full"
                               placeholder="e.g., React, Node.js, MongoDB"
                               required>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Category</label>
                            <select x-model="newSkill.category" class="form-input w-full">
                                <option value="frontend">Frontend Development</option>
                                <option value="backend">Backend Development</option>
                                <option value="database">Database</option>
                                <option value="mobile">Mobile Development</option>
                                <option value="devops">DevOps</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                Proficiency: <span class="gradient-text font-bold" x-text="newSkill.level + '%'"></span>
                            </label>
                            <input type="range" x-model="newSkill.level" min="0" max="100" step="5"
                                   class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Description</label>
                        <textarea x-model="newSkill.description" rows="4"
                                  class="form-input w-full resize-none"
                                  placeholder="Describe your experience with this skill..."></textarea>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Years Experience</label>
                            <input type="number" x-model="newSkill.years" min="0" max="50"
                                   class="form-input w-full">
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Projects Completed</label>
                            <input type="number" x-model="newSkill.projects" min="0"
                                   class="form-input w-full">
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end gap-4 mt-8 pt-8 border-t border-gray-200 dark:border-gray-700">
                    <button @click="closeModal('addSkill')" class="btn-outline">
                        Cancel
                    </button>
                    <button @click="addNewSkill()" :disabled="!newSkill.name" class="btn-primary">
                        <span x-text="editingSkill ? 'Update Skill' : 'Add Skill'"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Project Modal -->
    <div x-show="modals.addProject" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div class="modal-content max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-8">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-3xl font-bold">
                        <i class="fas fa-rocket mr-3 gradient-text"></i>
                        <span x-text="editingProject ? 'Edit Project' : 'Add New Project'"></span>
                    </h3>
                    <button @click="closeModal('addProject')" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Project Name *</label>
                        <input type="text" x-model="newProject.name" 
                               class="form-input w-full"
                               placeholder="e.g., E-Commerce Platform"
                               required>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Project Type</label>
                        <select x-model="newProject.type" class="form-input w-full">
                            <option value="web">Web Application</option>
                            <option value="mobile">Mobile App</option>
                            <option value="api">API</option>
                            <option value="desktop">Desktop</option>
                        </select>
                    </div>
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Description *</label>
                    <textarea x-model="newProject.description" rows="4"
                              class="form-input w-full resize-none"
                              placeholder="Describe the project..."
                              required></textarea>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Technologies</label>
                        <div class="flex gap-3 mb-3">
                            <input type="text" x-model="techInput" 
                                   @keyup.enter="addTechnology()"
                                   class="form-input flex-1"
                                   placeholder="Add technology...">
                            <button @click="addTechnology()" type="button" class="btn-primary">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <template x-for="tech in newProject.technologies" :key="tech">
                                <span class="px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg flex items-center gap-2">
                                    <i :class="getTechIcon(tech)"></i>
                                    <span x-text="tech"></span>
                                    <button @click="removeTech(tech)" type="button" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </span>
                            </template>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">Project Image URL</label>
                        <input type="text" x-model="newProject.image" 
                               class="form-input w-full"
                               placeholder="https://example.com/image.jpg">
                    </div>
                </div>
                
                <div class="flex justify-end gap-4 mt-8 pt-8 border-t border-gray-200 dark:border-gray-700">
                    <button @click="closeModal('addProject')" class="btn-outline">
                        Cancel
                    </button>
                    <button @click="addNewProject()" :disabled="!newProject.name || !newProject.description" class="btn-primary">
                        <span x-text="editingProject ? 'Update Project' : 'Add Project'"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Project Detail Modal -->
    <div x-show="modals.projectDetail" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4">
        <div x-show="selectedProject" class="modal-content max-w-6xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-8">
                <div class="flex justify-between items-start mb-8">
                    <div>
                        <h3 class="text-3xl font-bold mb-4" x-text="selectedProject?.name"></h3>
                        <div class="flex flex-wrap gap-3">
                            <span class="px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg">
                                <i class="fas fa-layer-group mr-2"></i>
                                <span x-text="getProjectTypeName(selectedProject?.type)"></span>
                            </span>
                            <span :class="getProjectStatusClass(selectedProject?.status)" 
                                  class="px-4 py-2 rounded-lg">
                                <span x-text="selectedProject?.status"></span>
                            </span>
                        </div>
                    </div>
                    <button @click="closeModal('projectDetail')" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <div class="space-y-8">
                    <div class="rounded-2xl overflow-hidden">
                        <img :src="selectedProject?.image" 
                             :alt="selectedProject?.name"
                             class="w-full h-96 object-cover">
                    </div>
                    
                    <div>
                        <h4 class="text-2xl font-bold mb-4">Project Overview</h4>
                        <p class="text-gray-600 dark:text-gray-300 leading-relaxed" x-text="selectedProject?.description"></p>
                    </div>
                    
                    <div x-show="selectedProject?.technologies?.length > 0">
                        <h4 class="text-2xl font-bold mb-4">Technologies Used</h4>
                        <div class="flex flex-wrap gap-3">
                            <template x-for="tech in selectedProject?.technologies" :key="tech">
                                <span class="px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg flex items-center gap-2">
                                    <i :class="getTechIcon(tech)"></i>
                                    <span x-text="tech"></span>
                                </span>
                            </template>
                        </div>
                    </div>
                    
                    <div class="flex gap-4">
                        <button @click="closeModal('projectDetail')" class="btn-outline flex-1">
                            Close
                        </button>
                        <button x-show="!isPublicMode" @click="editProject(selectedProject); closeModal('projectDetail')" class="btn-primary flex-1">
                            <i class="fas fa-edit mr-2"></i>
                            Edit Project
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBAuVIJp4jZCzxuBIBFez2SdLMi7MNHNJk",
            authDomain: "portofolio-4a7eb.firebaseapp.com",
            projectId: "portofolio-4a7eb",
            storageBucket: "portofolio-4a7eb.firebasestorage.app",
            messagingSenderId: "36345970852",
            appId: "1:36345970852:web:d0a47e15126f7038fce631"
        };

        // Predefined public portfolio data
        const predefinedPublicData = {
            profile: {
                name: 'Zuyyina Firdausi Muhammad',
                title: 'Full Stack Developer',
                email: 'muhammadzuyyina@gmail.com',
                phone: '+62 822 9569 2941',
                bio: 'Experienced Full Stack Developer with expertise in modern web technologies. Passionate about creating efficient, scalable, and user-friendly applications.',
                image: null
            },
            skills: [
                {
                    id: 1,
                    name: 'React',
                    category: 'frontend',
                    level: 95,
                    years: 3,
                    projects: 15,
                    icon: 'fab fa-react',
                    description: 'Modern React with Hooks, Context API, and advanced patterns'
                },
                {
                    id: 2,
                    name: 'Node.js',
                    category: 'backend',
                    level: 90,
                    years: 3,
                    projects: 12,
                    icon: 'fab fa-node-js',
                    description: 'Building scalable server-side applications and APIs'
                },
                {
                    id: 3,
                    name: 'MongoDB',
                    category: 'database',
                    level: 85,
                    years: 2,
                    projects: 8,
                    icon: 'fas fa-database',
                    description: 'NoSQL database design and optimization'
                },
                {
                    id: 4,
                    name: 'Tailwind CSS',
                    category: 'frontend',
                    level: 90,
                    years: 2,
                    projects: 10,
                    icon: 'fas fa-paint-brush',
                    description: 'Utility-first CSS framework for rapid UI development'
                },
                {
                    id: 5,
                    name: 'Docker',
                    category: 'devops',
                    level: 80,
                    years: 1,
                    projects: 5,
                    icon: 'fab fa-docker',
                    description: 'Containerization and deployment automation'
                },
                {
                    id: 6,
                    name: 'Python',
                    category: 'backend',
                    level: 75,
                    years: 2,
                    projects: 7,
                    icon: 'fab fa-python',
                    description: 'Backend development and automation scripts'
                }
            ],
            projects: [
                {
                    id: 1,
                    name: 'E-Commerce Platform',
                    description: 'A full-featured e-commerce platform with real-time inventory management, payment processing, and customer analytics. Built with React, Node.js, and MongoDB.',
                    type: 'web',
                    technologies: ['React', 'Node.js', 'MongoDB', 'Express.js', 'Tailwind CSS', 'Stripe API'],
                    image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Real-time inventory', 'Payment integration', 'Admin dashboard', 'Customer analytics'],
                    status: 'completed',
                    date: '2024'
                },
                {
                    id: 2,
                    name: 'Task Management App',
                    description: 'Collaborative task management application with real-time updates, team features, and drag-and-drop interface. Built with Vue.js and Firebase.',
                    type: 'web',
                    technologies: ['Vue.js', 'Firebase', 'Vuex', 'Vue Router', 'Tailwind CSS'],
                    image: 'https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Real-time collaboration', 'Team management', 'File attachments', 'Drag & drop'],
                    status: 'completed',
                    date: '2024'
                },
                {
                    id: 3,
                    name: 'Weather Dashboard',
                    description: 'Real-time weather dashboard with multiple city support, 7-day forecast, and interactive maps. Uses OpenWeather API and Chart.js.',
                    type: 'web',
                    technologies: ['React', 'Chart.js', 'OpenWeather API', 'Leaflet.js', 'CSS3'],
                    image: 'https://images.unsplash.com/photo-1592210454359-9043f067919b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Multiple cities', '7-day forecast', 'Interactive maps', 'Data visualization'],
                    status: 'completed',
                    date: '2023'
                },
                {
                    id: 4,
                    name: 'Fitness Tracker App',
                    description: 'Mobile fitness tracking application with workout plans, progress tracking, and social features. Built with React Native and Firebase.',
                    type: 'mobile',
                    technologies: ['React Native', 'Firebase', 'Redux', 'Expo', 'Chart.js'],
                    image: 'https://images.unsplash.com/photo-1536922246289-88c42f957773?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Workout plans', 'Progress tracking', 'Social features', 'Offline mode'],
                    status: 'completed',
                    date: '2023'
                },
                {
                    id: 5,
                    name: 'Chat Application',
                    description: 'Real-time chat application with group chat, file sharing, and voice messages. Built with Socket.io, Node.js, and React.',
                    type: 'web',
                    technologies: ['React', 'Socket.io', 'Node.js', 'Express', 'MongoDB'],
                    image: 'https://images.unsplash.com/photo-1587560699334-cc4ff634909a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Group chat', 'File sharing', 'Voice messages', 'Typing indicators'],
                    status: 'completed',
                    date: '2023'
                },
                {
                    id: 6,
                    name: 'Portfolio CMS',
                    description: 'Content management system for managing portfolio projects, skills, and blog posts. Built with Next.js and Sanity.io.',
                    type: 'web',
                    technologies: ['Next.js', 'Sanity.io', 'TypeScript', 'Tailwind CSS', 'Vercel'],
                    image: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Content management', 'Blog system', 'SEO optimized', 'Dark mode'],
                    status: 'completed',
                    date: '2024'
                }
            ],
            socialLinks: [
                {
                    platform: 'github',
                    icon: 'fab fa-github',
                    url: 'https://github.com/username'
                },
                {
                    platform: 'linkedin',
                    icon: 'fab fa-linkedin-in',
                    url: 'https://linkedin.com/in/username'
                },
                {
                    platform: 'twitter',
                    icon: 'fab fa-twitter',
                    url: 'https://twitter.com/username'
                },
                {
                    platform: 'email',
                    icon: 'fas fa-envelope',
                    url: 'mailto:muhammadzuyyina@gmail.com'
                }
            ]
        };

        function portfolio() {
            return {
                // STATE BARU: Mode Management
                isPublicMode: true,
                isOwner: false,
                showAuthModal: false,
                
                // STATE YANG DIUPDATE: Load status
                isLoading: true,
                loadingMessage: 'Loading portfolio...',
                loadingProgress: 0,
                portfolioDataLoaded: false,

                // State lainnya
                isDark: true,
                mobileMenu: false,
                activeSection: 'home',
                scrollProgress: 0,
                isAtTop: true,
                showToast: false,
                toastMessage: '',
                toastType: 'success',
                showDataPanel: false,
                techInput: '',
                certificationInput: '',
                tagInput: '',
                activeSkillCategory: 'all',
                activeSkillTab: 'basic',
                activeProjectTab: 'basic',
                selectedProject: null,
                editingSkill: null,
                editingProject: null,
                uploadingImage: false,
                uploadingProfileImage: false,
                isSubmitting: false,
                deleteItem: { type: '', id: null, name: '' },

                // Firebase State
                firebaseApp: null,
                firestore: null,
                auth: null,
                userId: null,
                userEmail: null,
                isOnline: false,
                isSyncing: false,
                syncHistory: [],
                lastSyncTime: 'Never',

                // Data Status
                dataStatus: 'synced',
                storageAvailable: true,
                dataIntegrity: false,
                storageUsage: '0 KB',

                // Project Slider State
                projectView: 'grid',
                currentSlide: 0,
                projectSlides: [],
                autoSlideEnabled: false,
                autoSlideInterval: null,
                projectsPerSlide: 3,

                // Storage Configuration
                storageConfig: {
                    maxImageSize: 1 * 1024 * 1024,
                    compressionQuality: 0.7,
                    enableCompression: true,
                    maxTotalSize: 5 * 1024 * 1024,
                    backupCount: 3
                },

                // Profile Data
                profile: { ...predefinedPublicData.profile },
                skills: [...predefinedPublicData.skills],
                projects: [...predefinedPublicData.projects],
                socialLinks: [...predefinedPublicData.socialLinks],
                portfolioYear: new Date().getFullYear(),

                // Navigation
                navItems: [
                    { name: 'Home', href: '#home' },
                    { name: 'Skills', href: '#skills' },
                    { name: 'Projects', href: '#projects' },
                    { name: 'Contact', href: '#contact' }
                ],

                // Skill Categories
                skillCategories: [
                    'frontend', 'backend', 'database', 'mobile', 
                    'devops', 'cloud', 'tools', 'design', 'ai'
                ],

                // Popular Technologies
                popularTechnologies: [
                    'HTML5', 'CSS3', 'JavaScript', 'TypeScript', 'React', 'Vue.js', 'Angular', 
                    'Svelte', 'Next.js', 'Nuxt.js', 'Tailwind CSS', 'Bootstrap', 'SASS/SCSS',
                    'Node.js', 'Express.js', 'Python', 'Django', 'Flask', 'PHP', 'Laravel', 
                    'Java', 'Spring Boot', 'Go', 'Ruby', 'Ruby on Rails', 'C#', '.NET',
                    'MongoDB', 'MySQL', 'PostgreSQL', 'Firebase', 'Redis', 'SQLite', 'Supabase',
                    'React Native', 'Flutter', 'Electron', 'Swift', 'Kotlin',
                    'Docker', 'Kubernetes', 'AWS', 'Google Cloud', 'Azure', 'Vercel', 'Netlify',
                    'Git', 'GitHub Actions', 'Jenkins', 'Nginx',
                    'GraphQL', 'REST API', 'Jest', 'Cypress', 'Webpack', 'Figma', 'Adobe XD'
                ],

                // New Skill Data
                newSkill: {
                    name: '',
                    category: 'frontend',
                    level: 50,
                    years: 1,
                    projects: 0,
                    icon: 'fas fa-code',
                    description: '',
                    certifications: [],
                    tags: [],
                    customId: ''
                },

                // New Project Data
                newProject: {
                    name: '',
                    description: '',
                    type: 'web',
                    technologies: [],
                    image: '',
                    demoUrl: '',
                    sourceUrl: '',
                    startDate: '',
                    endDate: '',
                    isOngoing: false,
                    role: '',
                    teamSize: 1,
                    status: 'completed',
                    client: '',
                    challenges: '',
                    features: []
                },

                // Contact Form
                contactForm: {
                    name: '',
                    email: '',
                    message: ''
                },

                // Modals
                modals: {
                    projectDetail: false,
                    addProject: false,
                    addSkill: false,
                    editProfile: false,
                    deleteConfirm: false
                },

                // COMPUTED PROPERTIES
                get filteredSkills() {
                    if (this.activeSkillCategory === 'all') {
                        return this.skills;
                    }
                    return this.skills.filter(skill => skill.category === this.activeSkillCategory);
                },

                get averageSkillLevel() {
                    if (this.skills.length === 0) return 0;
                    const total = this.skills.reduce((sum, skill) => sum + skill.level, 0);
                    return Math.round(total / this.skills.length);
                },

                get totalProjectCount() {
                    return this.skills.reduce((total, skill) => total + skill.projects, 0);
                },

                get totalExperienceYears() {
                    const startYear = 2023;
                    const currentYear = new Date().getFullYear();
                    return Math.max(1, currentYear - startYear);
                },

                get totalItems() {
                    return this.skills.length + this.projects.length;
                },

                get connectionStatusText() {
                    if (!this.isOnline) return 'Offline';
                    if (this.isSyncing) return 'Syncing...';
                    if (this.userId) return 'Cloud Sync Active';
                    return 'Cloud Data Loaded';
                },

                get dataStatusText() {
                    if (this.dataStatus === 'synced') return 'Data Synced';
                    if (this.dataStatus === 'unsynced') return 'Data Not Synced';
                    return 'Data Error';
                },

                get profileImageSrc() {
                    if (!this.profile.image || this.profile.image.trim() === '') {
                        return this.generateDefaultAvatar();
                    }
                    return this.profile.image;
                },

                // INITIALIZATION
                init() {
                    console.log(' Portfolio initialization started');
                    
                    this.setupEventListeners();
                    
                    const savedTheme = localStorage.getItem('theme');
                    this.isDark = savedTheme ? savedTheme === 'dark' : true;

                    this.initParticles();

                    this.isOnline = navigator.onLine;
                    console.log(' Online status:', this.isOnline);
                    
                    window.addEventListener('online', () => {
                        this.isOnline = true;
                        console.log(' Went online');
                        this.showToastMessage('You are back online', 'success');
                        if (this.isOnline) {
                            setTimeout(() => this.initFirebasePublic(), 1000);
                        }
                    });
                    
                    window.addEventListener('offline', () => {
                        this.isOnline = false;
                        console.log(' Went offline');
                        this.showToastMessage('You are offline', 'warning');
                    });

                    // Cek jika user sudah login sebelumnya
                    const savedAuth = localStorage.getItem('firebase_auth');
                    if (savedAuth) {
                        try {
                            const authData = JSON.parse(savedAuth);
                            console.log(' Found saved auth data:', authData.email);
                            
                            // Set user data
                            this.userId = authData.uid;
                            this.userEmail = authData.email;
                            this.isOwner = true;
                            this.isPublicMode = false;
                            
                            console.log(' Restored login from localStorage');
                            
                        } catch (e) {
                            console.error('Error parsing saved auth:', e);
                        }
                    }

                    console.log(' Initializing Firebase for public access...');
                    setTimeout(() => {
                        this.initFirebasePublic();
                    }, 1000);
                    
                    this.updateProjectSlides();
                    
                    setTimeout(() => {
                        this.isLoading = false;
                        console.log(' Portfolio loaded successfully');
                    }, 1500);
                },

                // FIREBASE INITIALIZATION UNTUK PUBLIC ACCESS
                initFirebasePublic() {
                    console.log(' Attempting to initialize Firebase for public access...');
                    
                    try {
                        if (typeof firebase === 'undefined') {
                            console.error(' Firebase SDK not loaded!');
                            this.showToastMessage('Firebase SDK not loaded. Using predefined data.', 'warning');
                            this.usePredefinedData();
                            return;
                        }
                        
                        console.log(' Firebase SDK is loaded');
                        
                        try {
                            if (!firebase.apps || firebase.apps.length === 0) {
                                console.log(' Initializing new Firebase app...');
                                this.firebaseApp = firebase.initializeApp(firebaseConfig);
                                console.log(' Firebase app initialized');
                            } else {
                                console.log(' Using existing Firebase app');
                                this.firebaseApp = firebase.app();
                            }
                        } catch (initError) {
                            console.error(' Firebase app initialization error:', initError);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                            return;
                        }
                        
                        try {
                            this.firestore = firebase.firestore(this.firebaseApp);
                            console.log(' Firestore initialized');
                        } catch (firestoreError) {
                            console.error(' Firestore initialization error:', firestoreError);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                            return;
                        }
                        
                        try {
                            this.auth = firebase.auth(this.firebaseApp);
                            console.log(' Auth initialized');
                        } catch (authError) {
                            console.warn(' Auth initialization warning:', authError);
                        }
                        
                        this.loadPublicData();
                        
                    } catch (error) {
                        console.error(' General Firebase init error:', error);
                        this.showToastMessage('Using predefined portfolio data', 'info');
                        this.usePredefinedData();
                    }
                },

                // LOAD PUBLIC DATA DARI FIREBASE
                loadPublicData() {
                    if (!this.firestore || !this.isOnline) {
                        console.log(' Cannot load from Firebase: Firestore or internet not available');
                        this.usePredefinedData();
                        return;
                    }
                    
                    console.log(' Loading public data from Firebase...');
                    
                    this.isLoading = true;
                    this.loadingMessage = 'Loading portfolio data...';
                    
                    const timeoutPromise = new Promise((_, reject) => {
                        setTimeout(() => {
                            reject(new Error('Timeout loading data from Firebase'));
                        }, 10000);
                    });
                    
                    const loadPromise = this.firestore.collection('publicPortfolios').doc('main').get();
                    
                    Promise.race([loadPromise, timeoutPromise])
                        .then((doc) => {
                            if (doc.exists) {
                                const data = doc.data();
                                console.log(' Public data loaded successfully from Firebase');
                                
                                this.updateDataFromFirebase(data);
                                
                                if (data.lastUpdated) {
                                    this.lastSyncTime = new Date(data.lastUpdated.toDate()).toLocaleString();
                                } else {
                                    this.lastSyncTime = 'Recently';
                                }
                                
                                this.dataStatus = 'synced';
                                this.showToastMessage('Portfolio data loaded from cloud', 'success');
                                
                            } else {
                                console.log(' No public data found in Firebase, using predefined data');
                                this.usePredefinedData();
                            }
                        })
                        .catch((error) => {
                            console.error(' Load public data error:', error);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                        })
                        .finally(() => {
                            this.isLoading = false;
                            this.portfolioDataLoaded = true;
                        });
                },

                // UPDATE DATA DARI FIREBASE
                updateDataFromFirebase(data) {
                    try {
                        console.log(' Updating data from Firebase...');
                        
                        if (data.skills && Array.isArray(data.skills)) {
                            this.skills = data.skills;
                            console.log(` Loaded ${this.skills.length} skills`);
                        }
                        
                        if (data.projects && Array.isArray(data.projects)) {
                            this.projects = data.projects;
                            this.updateProjectSlides();
                            console.log(` Loaded ${this.projects.length} projects`);
                        }
                        
                        if (data.profile) {
                            Object.assign(this.profile, data.profile);
                            console.log(' Profile data loaded');
                        }
                        
                        if (data.socialLinks) {
                            this.socialLinks = data.socialLinks.map(link => ({
                                platform: link.platform,
                                url: link.url || '',
                                icon: link.icon || this.getSocialIcon(link.platform)
                            }));
                            console.log(` Loaded ${this.socialLinks.length} social links`);
                        }
                        
                        this.saveToLocalStorage();
                        
                    } catch (error) {
                        console.error('Error updating data from Firebase:', error);
                        this.showToastMessage('Error loading cloud data', 'warning');
                    }
                },

                // USE PREDEFINED DATA (fallback)
                usePredefinedData() {
                    console.log(' Using predefined portfolio data');
                    
                    this.skills = [...predefinedPublicData.skills];
                    this.projects = [...predefinedPublicData.projects];
                    this.profile = { ...predefinedPublicData.profile };
                    this.socialLinks = [...predefinedPublicData.socialLinks];
                    
                    this.updateProjectSlides();
                    this.saveToLocalStorage();
                    
                    this.isLoading = false;
                    this.portfolioDataLoaded = true;
                },

                // AUTH METHODS
                loginWithGoogle() {
                    console.log(' Memulai login Google...');
                    this.isSyncing = true;
                    this.showToastMessage('Sedang login...', 'info');
                    
                    try {
                        // Pastikan Firebase diinisialisasi
                        if (!this.firebaseApp) {
                            console.log(' Menginisialisasi Firebase untuk auth...');
                            this.firebaseApp = firebase.initializeApp(firebaseConfig);
                            this.auth = firebase.auth(this.firebaseApp);
                        }
                        
                        const provider = new firebase.auth.GoogleAuthProvider();
                        provider.addScope('profile');
                        provider.addScope('email');
                        provider.setCustomParameters({ prompt: 'select_account' });
                        
                        console.log(' Login dengan popup...');
                        
                        this.auth.signInWithPopup(provider)
                            .then((result) => {
                                console.log(' Login BERHASIL! User:', result.user.email);
                                
                                this.userId = result.user.uid;
                                this.userEmail = result.user.email;
                                this.isSyncing = false;
                                this.isPublicMode = false;
                                this.isOwner = true;
                                
                                // Simpan data auth
                                this.saveAuthData(result.user);
                                
                                this.showToastMessage(` Selamat datang ${result.user.displayName || result.user.email}! Mode edit diaktifkan.`, 'success');
                                
                                // Muat data pengguna
                                setTimeout(() => {
                                    this.loadUserData();
                                }, 500);
                                
                            })
                            .catch((error) => {
                                console.error(' Error login:', error);
                                this.isSyncing = false;
                                
                                let errorMessage = 'Login gagal';
                                if (error.code === 'auth/popup-blocked') {
                                    errorMessage = 'Popup login diblokir. Silakan izinkan pop-up.';
                                } else if (error.code === 'auth/popup-closed-by-user') {
                                    errorMessage = 'Login dibatalkan';
                                } else if (error.code === 'auth/network-request-failed') {
                                    errorMessage = 'Error jaringan. Cek koneksi internet Anda.';
                                }
                                
                                this.showToastMessage(` ${errorMessage}`, 'error');
                            });
                            
                    } catch (setupError) {
                        console.error(' Setup login error:', setupError);
                        this.isSyncing = false;
                        this.showToastMessage('Setup login gagal. Silakan coba lagi.', 'error');
                    }
                },

                saveAuthData(user) {
                    try {
                        const authData = {
                            uid: user.uid,
                            email: user.email,
                            displayName: user.displayName,
                            photoURL: user.photoURL,
                            lastLogin: new Date().toISOString(),
                        };
                        
                        localStorage.setItem('firebase_auth', JSON.stringify(authData));
                        console.log(' Data auth disimpan');
                        
                    } catch (error) {
                        console.error(' Error menyimpan data auth:', error);
                    }
                },

                signOut() {
                    if (!this.auth) {
                        this.showToastMessage('Firebase Auth tidak terinisialisasi', 'warning');
                        return;
                    }
                    
                    if (confirm('Apakah Anda yakin ingin logout?')) {
                        this.auth.signOut()
                            .then(() => {
                                console.log(' Logout berhasil');
                                
                                localStorage.removeItem('firebase_auth');
                                this.userId = null;
                                this.userEmail = null;
                                this.isOwner = false;
                                this.isPublicMode = true;
                                
                                // Muat ulang data publik
                                this.loadPublicData();
                                
                                this.showToastMessage('Logout berhasil', 'success');
                                
                            })
                            .catch((error) => {
                                console.error('Error logout:', error);
                                this.showToastMessage('Logout gagal', 'error');
                            });
                    }
                },

                loadUserData() {
                    if (!this.userId || !this.firestore || !this.isOnline) {
                        console.log(' Tidak bisa memuat data pengguna');
                        return;
                    }
                    
                    console.log(' Memuat data pengguna untuk:', this.userId);
                    this.showToastMessage('Memuat data pribadi Anda...', 'info');
                    
                    this.firestore.collection('portfolios').doc(this.userId).get()
                        .then((doc) => {
                            if (doc.exists) {
                                const data = doc.data();
                                console.log(' Data pengguna dimuat');
                                
                                // Gabungkan dengan data publik
                                this.mergeUserData(data);
                                this.showToastMessage('Data Anda dimuat dari cloud', 'success');
                            } else {
                                console.log(' Tidak ada data pengguna ditemukan, menggunakan data saat ini');
                                this.showToastMessage('Membuat profil baru untuk Anda', 'info');
                            }
                        })
                        .catch((error) => {
                            console.error(' Error memuat data pengguna:', error);
                            this.showToastMessage('Error memuat data pribadi', 'warning');
                        });
                },

                mergeUserData(userData) {
                    try {
                        console.log(' Menggabungkan data pengguna...');
                        
                        if (userData.skills && Array.isArray(userData.skills)) {
                            this.skills = userData.skills;
                            console.log(` Dimuat ${this.skills.length} skill`);
                        }
                        
                        if (userData.projects && Array.isArray(userData.projects)) {
                            this.projects = userData.projects;
                            this.updateProjectSlides();
                            console.log(` Dimuat ${this.projects.length} proyek`);
                        }
                        
                        if (userData.profile) {
                            Object.assign(this.profile, userData.profile);
                            console.log(' Data profil dimuat');
                        }
                        
                        if (userData.socialLinks) {
                            this.socialLinks = userData.socialLinks.map(link => ({
                                platform: link.platform,
                                url: link.url || '',
                                icon: link.icon || this.getSocialIcon(link.platform)
                            }));
                            console.log(` Dimuat ${this.socialLinks.length} link sosial`);
                        }
                        
                        this.saveToLocalStorage();
                        
                    } catch (error) {
                        console.error('Error menggabungkan data pengguna:', error);
                        this.showToastMessage('Error menggabungkan data', 'warning');
                    }
                },

                publishToPublic() {
                    if (!this.userId) {
                        this.showToastMessage('Silakan login terlebih dahulu untuk publish', 'warning');
                        setTimeout(() => {
                            this.loginWithGoogle();
                        }, 500);
                        return;
                    }
                    
                    if (!this.firestore) {
                        this.showToastMessage('Firebase Firestore tidak tersedia', 'error');
                        return;
                    }
                    
                    if (!this.isOnline) {
                        this.showToastMessage('Anda offline. Tidak bisa publish ke cloud.', 'warning');
                        return;
                    }
                    
                    if (!confirm('Publish perubahan Anda untuk membuatnya terlihat publik?')) {
                        return;
                    }
                    
                    this.isSyncing = true;
                    this.showToastMessage('Mempublish portfolio Anda...', 'info');
                    
                    const data = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks,
                        lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),
                        updatedBy: this.userEmail,
                        version: '2.0',
                        published: true
                    };
                    
                    console.log('Mempublish data ke koleksi publik...');
                    
                    this.firestore.collection('publicPortfolios').doc('main')
                        .set(data, { merge: true })
                        .then(() => {
                            console.log(' Terpublish ke koleksi publik');
                            
                            // Juga simpan ke koleksi pribadi pengguna
                            return this.firestore.collection('portfolios').doc(this.userId)
                                .set({ ...data, userId: this.userId }, { merge: true });
                        })
                        .then(() => {
                            console.log(' Disimpan ke koleksi pengguna');
                            
                            this.lastSyncTime = new Date().toLocaleTimeString();
                            this.dataStatus = 'synced';
                            this.isSyncing = false;
                            
                            this.showToastMessage(' Portfolio berhasil dipublish!', 'success');
                            this.addToSyncHistory('Data dipublish', 'success');
                            
                        })
                        .catch((error) => {
                            console.error(' Error publish:', error);
                            this.isSyncing = false;
                            
                            let errorMessage = 'Publish gagal';
                            if (error.code === 'permission-denied') {
                                errorMessage = 'Izin ditolak. Anda mungkin tidak punya akses tulis.';
                            }
                            
                            this.showToastMessage(` ${errorMessage}`, 'error');
                            this.addToSyncHistory('Publish gagal', 'error');
                        });
                },

                // TOGGLE MODE (Public/Edit)
                toggleMode() {
                    if (this.isPublicMode) {
                        if (!this.userId) {
                            this.showAuthModal = true;
                            this.showToastMessage('Please login to enable edit mode', 'info');
                            return;
                        }
                        this.isPublicMode = false;
                        this.showToastMessage('Edit mode enabled', 'success');
                    } else {
                        this.isPublicMode = true;
                        this.showToastMessage('View mode enabled', 'info');
                    }
                },

                // EVENT LISTENERS
                setupEventListeners() {
                    window.addEventListener('scroll', this.handleScroll.bind(this));
                    window.addEventListener('resize', this.handleResize.bind(this));
                    
                    window.addEventListener('beforeunload', () => {
                        if (!this.isPublicMode) {
                            this.saveToLocalStorage();
                        }
                    });
                },

                handleScroll() {
                    const winScroll = document.documentElement.scrollTop || document.body.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    this.scrollProgress = height > 0 ? (winScroll / height) * 100 : 0;
                    
                    this.isAtTop = window.scrollY < 50;
                    
                    const sections = ['home', 'skills', 'projects', 'contact'];
                    for (const section of sections) {
                        const element = document.getElementById(section);
                        if (element) {
                            const rect = element.getBoundingClientRect();
                            if (rect.top <= 100 && rect.bottom >= 100) {
                                this.activeSection = section;
                                break;
                            }
                        }
                    }
                },

                handleResize() {
                    if (window.innerWidth < 768) {
                        this.projectsPerSlide = 1;
                    } else if (window.innerWidth < 1024) {
                        this.projectsPerSlide = 2;
                    } else {
                        this.projectsPerSlide = 3;
                    }
                    
                    this.updateProjectSlides();
                },

                toggleTheme() {
                    this.isDark = !this.isDark;
                    localStorage.setItem('theme', this.isDark ? 'dark' : 'light');
                    
                    if (window.pJSDom && window.pJSDom.length > 0) {
                        const particles = window.pJSDom[0].pJS;
                        if (particles) {
                            particles.particles.color.value = this.isDark ? "#ffffff" : "#6366f1";
                            particles.particles.line_linked.color = this.isDark ? "#ffffff" : "#6366f1";
                            particles.fn.particlesRefresh();
                        }
                    }
                },

                scrollTo(sectionId) {
                    const element = document.getElementById(sectionId);
                    if (element) {
                        const offset = 80;
                        const elementPosition = element.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - offset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                    this.mobileMenu = false;
                },

                // MODAL METHODS
                openModal(modalName) {
                    if (this.isPublicMode && (modalName === 'addSkill' || modalName === 'addProject' || modalName === 'editProfile' || modalName === 'deleteConfirm')) {
                        this.showToastMessage('Please switch to edit mode to make changes', 'info');
                        return;
                    }
                    this.modals[modalName] = true;
                    document.body.style.overflow = 'hidden';
                },

                closeModal(modalName) {
                    this.modals[modalName] = false;
                    document.body.style.overflow = 'auto';
                    
                    if (modalName === 'addSkill') {
                        this.resetSkillForm();
                    } else if (modalName === 'addProject') {
                        this.resetProjectForm();
                    }
                },

                // SKILL METHODS
                addNewSkill() {
                    if (this.isPublicMode) return;
                    
                    try {
                        this.isSubmitting = true;

                        const newSkill = {
                            id: this.editingSkill ? this.editingSkill.id : Date.now(),
                            ...this.newSkill,
                            icon: this.getSkillIcon(this.newSkill.category)
                        };

                        if (this.editingSkill) {
                            const index = this.skills.findIndex(s => s.id === this.editingSkill.id);
                            if (index !== -1) {
                                this.skills[index] = newSkill;
                            }
                            this.showToastMessage('Skill updated successfully', 'success');
                        } else {
                            this.skills.push(newSkill);
                            this.showToastMessage('Skill added successfully', 'success');
                        }

                        this.saveToLocalStorage();
                        this.closeModal('addSkill');
                        this.resetSkillForm();
                    } catch (error) {
                        this.showToastMessage('Error saving skill', 'error');
                        console.error('Error adding skill:', error);
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                // PROJECT METHODS
                addNewProject() {
                    if (this.isPublicMode) return;
                    
                    try {
                        this.isSubmitting = true;

                        const newProject = {
                            id: this.editingProject ? this.editingProject.id : Date.now(),
                            ...this.newProject,
                            date: new Date().getFullYear().toString()
                        };

                        if (this.editingProject) {
                            const index = this.projects.findIndex(p => p.id === this.editingProject.id);
                            if (index !== -1) {
                                this.projects[index] = newProject;
                            }
                            this.showToastMessage('Project updated successfully', 'success');
                        } else {
                            this.projects.push(newProject);
                            this.showToastMessage('Project added successfully', 'success');
                        }

                        this.updateProjectSlides();
                        this.saveToLocalStorage();
                        this.closeModal('addProject');
                        this.resetProjectForm();
                    } catch (error) {
                        this.showToastMessage('Error saving project', 'error');
                        console.error('Error adding project:', error);
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                // DELETE METHODS
                confirmDelete(type, id, name) {
                    if (this.isPublicMode) return;
                    
                    this.deleteItem = { type, id, name };
                    this.openModal('deleteConfirm');
                },

                executeDelete() {
                    if (this.isPublicMode) return;
                    
                    if (this.deleteItem.type === 'skill') {
                        this.skills = this.skills.filter(skill => skill.id !== this.deleteItem.id);
                        this.showToastMessage('Skill deleted successfully', 'success');
                    } else if (this.deleteItem.type === 'project') {
                        this.projects = this.projects.filter(project => project.id !== this.deleteItem.id);
                        this.updateProjectSlides();
                        this.showToastMessage('Project deleted successfully', 'success');
                    }
                    
                    this.saveToLocalStorage();
                    this.closeModal('deleteConfirm');
                },

                // PROFILE METHODS
                updateProfile() {
                    if (this.isPublicMode) return;
                    
                    try {
                        this.saveToLocalStorage();
                        this.showToastMessage('Profile updated successfully', 'success');
                        this.closeModal('editProfile');
                    } catch (error) {
                        this.showToastMessage('Error updating profile', 'error');
                        console.error('Error updating profile:', error);
                    }
                },

                // CONTACT FORM
                submitContact() {
                    try {
                        this.isSubmitting = true;
                        
                        if (!this.contactForm.name || !this.contactForm.email || !this.contactForm.message) {
                            this.showToastMessage('Please fill in all fields', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(this.contactForm.email)) {
                            this.showToastMessage('Please enter a valid email address', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        console.log('Starting email sending process...');
                        
                        const serviceID = 'service_fkkrcdr';
                        const templateID = 'template_g9cfnn2';
                        const publicKey = 'GIIXeb6Xt3whWfqvo';
                        
                        if (typeof emailjs === 'undefined') {
                            console.error('EmailJS is not loaded');
                            this.showToastMessage('Email service not available. Please refresh the page.', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        emailjs.init(publicKey);
                        
                        const templateParams = {
                            from_name: this.contactForm.name,
                            from_email: this.contactForm.email,
                            message: this.contactForm.message,
                            to_name: this.profile.name,
                            to_email: this.profile.email,
                            reply_to: this.contactForm.email
                        };
                        
                        emailjs.send(serviceID, templateID, templateParams)
                            .then((response) => {
                                console.log('Email response:', response);
                                
                                if (response.status === 200) {
                                    this.showToastMessage('Message sent successfully! I\'ll get back to you soon.', 'success');
                                    
                                    this.contactForm = {
                                        name: '',
                                        email: '',
                                        message: ''
                                    };
                                } else {
                                    throw new Error(`EmailJS responded with status: ${response.status}`);
                                }
                            })
                            .catch((error) => {
                                console.error('Email sending error:', error);
                                
                                let errorMessage = 'Error sending message. Please try again later.';
                                
                                if (error.text) {
                                    console.error('EmailJS error text:', error.text);
                                }
                                
                                this.showToastMessage(errorMessage, 'error');
                            })
                            .finally(() => {
                                this.isSubmitting = false;
                            });
                        
                    } catch (error) {
                        console.error('Email sending error:', error);
                        this.showToastMessage('Error sending message. Please try again later.', 'error');
                        this.isSubmitting = false;
                    }
                },

                // HELPER METHODS
                generateDefaultAvatar() {
                    const name = this.profile.name || 'John Doe';
                    const initials = name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                    const bgColor = '6366f1';
                    const textColor = 'ffffff';
                    const size = '400';
                    
                    return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${bgColor}&color=${textColor}&size=${size}&bold=true&font-size=0.5`;
                },

                showToastMessage(message, type = 'success') {
                    this.toastMessage = message;
                    this.toastType = type;
                    this.showToast = true;
                    
                    setTimeout(() => {
                        this.showToast = false;
                    }, 3000);
                },

                initParticles() {
                    if (typeof particlesJS === 'function') {
                        particlesJS('particles-js', {
                            particles: {
                                number: { 
                                    value: 80, 
                                    density: { 
                                        enable: true, 
                                        value_area: 800 
                                    } 
                                },
                                color: { 
                                    value: this.isDark ? "#ffffff" : "#6366f1" 
                                },
                                shape: { 
                                    type: "circle" 
                                },
                                opacity: { 
                                    value: 0.3, 
                                    random: true
                                },
                                size: { 
                                    value: 3, 
                                    random: true
                                },
                                line_linked: {
                                    enable: true,
                                    distance: 150,
                                    color: this.isDark ? "#ffffff" : "#6366f1",
                                    opacity: 0.2,
                                    width: 1
                                },
                                move: {
                                    enable: true,
                                    speed: 1,
                                    direction: "none",
                                    random: true,
                                    straight: false
                                }
                            },
                            interactivity: {
                                events: {
                                    onhover: { 
                                        enable: true, 
                                        mode: "grab" 
                                    }
                                }
                            }
                        });
                    }
                },

                // DATA MANAGEMENT METHODS
                saveToLocalStorage() {
                    if (this.isPublicMode) return;
                    
                    try {
                        localStorage.setItem('portfolioSkills', JSON.stringify(this.skills));
                        localStorage.setItem('portfolioProjects', JSON.stringify(this.projects));
                        localStorage.setItem('portfolioProfile', JSON.stringify(this.profile));
                        
                        const linksToSave = this.socialLinks.map(link => ({
                            platform: link.platform,
                            url: link.url,
                            icon: link.icon
                        }));
                        localStorage.setItem('portfolioSocialLinks', JSON.stringify(linksToSave));
                        
                        localStorage.setItem('portfolioCacheTime', new Date().toISOString());
                        
                        console.log(' Data saved locally');
                        this.calculateStorageUsage();
                        
                    } catch (error) {
                        console.error(' Save error:', error);
                    }
                },

                calculateStorageUsage() {
                    try {
                        let totalBytes = 0;
                        for (let i = 0; i < localStorage.length; i++) {
                            const key = localStorage.key(i);
                            if (key && key.startsWith('portfolio')) {
                                const value = localStorage.getItem(key);
                                totalBytes += new Blob([value]).size;
                            }
                        }
                        
                        this.storageUsage = this.formatBytes(totalBytes);
                    } catch (error) {
                        console.error('Error calculating storage usage:', error);
                        this.storageUsage = 'Unknown';
                    }
                },

                formatBytes(bytes, decimals = 2) {
                    if (bytes === 0) return '0 Bytes';
                    
                    const k = 1024;
                    const dm = decimals < 0 ? 0 : decimals;
                    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                    
                    const i = Math.floor(Math.log(bytes) / Math.log(k));
                    
                    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
                },

                addToSyncHistory(action, status) {
                    this.syncHistory.unshift({
                        action,
                        status,
                        timestamp: new Date().toISOString()
                    });
                    
                    if (this.syncHistory.length > 10) {
                        this.syncHistory.pop();
                    }
                    
                    localStorage.setItem('portfolioSyncHistory', JSON.stringify(this.syncHistory));
                },

                // PROJECT SLIDER METHODS
                updateProjectSlides() {
                    this.projectSlides = [];
                    
                    if (this.projects.length <= 6) {
                        this.projectView = 'grid';
                        return;
                    }
                    
                    for (let i = 0; i < this.projects.length; i += this.projectsPerSlide) {
                        this.projectSlides.push(this.projects.slice(i, i + this.projectsPerSlide));
                    }
                    
                    if (this.currentSlide >= this.projectSlides.length) {
                        this.currentSlide = 0;
                    }
                },

                setProjectView(view) {
                    this.projectView = view;
                    if (view === 'slider') {
                        this.currentSlide = 0;
                    }
                },

                nextSlide() {
                    if (this.currentSlide < this.projectSlides.length - 1) {
                        this.currentSlide++;
                    }
                },

                prevSlide() {
                    if (this.currentSlide > 0) {
                        this.currentSlide--;
                    }
                },

                goToSlide(index) {
                    if (index >= 0 && index < this.projectSlides.length) {
                        this.currentSlide = index;
                    }
                },

                toggleAutoSlide() {
                    this.autoSlideEnabled = !this.autoSlideEnabled;
                    
                    if (this.autoSlideEnabled) {
                        this.autoSlideInterval = setInterval(() => {
                            if (this.currentSlide < this.projectSlides.length - 1) {
                                this.currentSlide++;
                            } else {
                                this.currentSlide = 0;
                            }
                        }, 5000);
                    } else if (this.autoSlideInterval) {
                        clearInterval(this.autoSlideInterval);
                        this.autoSlideInterval = null;
                    }
                },

                // CATEGORY & ICON HELPER METHODS
                getCategoryName(category) {
                    const names = {
                        'frontend': 'Frontend',
                        'backend': 'Backend',
                        'database': 'Database',
                        'mobile': 'Mobile',
                        'devops': 'DevOps',
                        'cloud': 'Cloud',
                        'tools': 'Tools',
                        'design': 'Design',
                        'ai': 'AI/ML'
                    };
                    return names[category] || category;
                },

                getCategoryIcon(category) {
                    const icons = {
                        'frontend': 'fas fa-code',
                        'backend': 'fas fa-server',
                        'database': 'fas fa-database',
                        'mobile': 'fas fa-mobile-alt',
                        'devops': 'fas fa-cogs',
                        'cloud': 'fas fa-cloud',
                        'tools': 'fas fa-tools',
                        'design': 'fas fa-palette',
                        'ai': 'fas fa-brain'
                    };
                    return icons[category] || 'fas fa-code';
                },

                getSkillCategoryColor(category) {
                    const colors = {
                        'frontend': 'bg-blue-500',
                        'backend': 'bg-green-500',
                        'database': 'bg-yellow-500',
                        'mobile': 'bg-purple-500',
                        'devops': 'bg-red-500',
                        'cloud': 'bg-indigo-500',
                        'tools': 'bg-pink-500',
                        'design': 'bg-teal-500',
                        'ai': 'bg-orange-500'
                    };
                    return colors[category] || 'bg-slate-500';
                },

                getSkillIcon(category) {
                    return this.getCategoryIcon(category);
                },

                getProficiencyLevel(level) {
                    if (level >= 90) return 'Expert';
                    if (level >= 70) return 'Advanced';
                    if (level >= 50) return 'Intermediate';
                    if (level >= 30) return 'Beginner';
                    return 'Novice';
                },

                getProficiencyClass(level) {
                    if (level >= 90) return 'status-success';
                    if (level >= 70) return 'status-success';
                    if (level >= 50) return 'status-warning';
                    return 'status-error';
                },

                getProficiencyIcon(level) {
                    if (level >= 90) return 'fas fa-fire';
                    if (level >= 70) return 'fas fa-chart-line';
                    if (level >= 50) return 'fas fa-seedling';
                    return 'fas fa-leaf';
                },

                getProjectTypeName(type) {
                    const names = {
                        'web': 'Web App',
                        'mobile': 'Mobile App',
                        'api': 'API',
                        'desktop': 'Desktop',
                        'ai': 'AI/ML',
                        'saas': 'SaaS'
                    };
                    return names[type] || type;
                },

                getTechIcon(tech) {
                    const iconMap = {
                        'React': 'fab fa-react',
                        'Vue.js': 'fab fa-vuejs',
                        'Angular': 'fab fa-angular',
                        'Node.js': 'fab fa-node-js',
                        'Python': 'fab fa-python',
                        'Django': 'fab fa-python',
                        'Flask': 'fab fa-python',
                        'Java': 'fab fa-java',
                        'PHP': 'fab fa-php',
                        'Laravel': 'fab fa-laravel',
                        'Ruby': 'fab fa-ruby',
                        'Rails': 'fab fa-ruby',
                        'Go': 'fab fa-golang',
                        'Rust': 'fab fa-rust',
                        'Swift': 'fab fa-swift',
                        'Kotlin': 'fab fa-android',
                        'C#': 'fab fa-microsoft',
                        '.NET': 'fab fa-microsoft',
                        'Docker': 'fab fa-docker',
                        'Kubernetes': 'fab fa-docker',
                        'AWS': 'fab fa-aws',
                        'Azure': 'fab fa-microsoft',
                        'Google Cloud': 'fab fa-google',
                        'Firebase': 'fab fa-firebase',
                        'MongoDB': 'fas fa-database',
                        'MySQL': 'fas fa-database',
                        'PostgreSQL': 'fas fa-database',
                        'Redis': 'fas fa-database',
                        'SQLite': 'fas fa-database',
                        'Git': 'fab fa-git-alt',
                        'GitHub': 'fab fa-github',
                        'GitLab': 'fab fa-gitlab',
                        'Bitbucket': 'fab fa-bitbucket',
                        'HTML5': 'fab fa-html5',
                        'CSS3': 'fab fa-css3-alt',
                        'JavaScript': 'fab fa-js',
                        'TypeScript': 'fab fa-js',
                        'SASS': 'fab fa-sass',
                        'Bootstrap': 'fab fa-bootstrap',
                        'Tailwind CSS': 'fas fa-paint-brush',
                        'Material-UI': 'fas fa-palette',
                        'Figma': 'fab fa-figma',
                        'Adobe XD': 'fas fa-palette',
                        'Sketch': 'fas fa-palette',
                        'Jest': 'fas fa-vial',
                        'Cypress': 'fas fa-vial',
                        'Webpack': 'fas fa-cube',
                        'Babel': 'fas fa-cog',
                        'ESLint': 'fas fa-code',
                        'Prettier': 'fas fa-code',
                        'Nginx': 'fas fa-server',
                        'Apache': 'fas fa-server',
                        'Linux': 'fab fa-linux',
                        'Windows': 'fab fa-windows',
                        'macOS': 'fab fa-apple'
                    };
                    
                    return iconMap[tech] || 'fas fa-code';
                },

                // SOCIAL MEDIA HELPER METHODS
                getSocialIcon(platform) {
                    const iconMap = {
                        'github': 'fab fa-github',
                        'gitlab': 'fab fa-gitlab',
                        'bitbucket': 'fab fa-bitbucket',
                        'linkedin': 'fab fa-linkedin-in',
                        'twitter': 'fab fa-twitter',
                        'instagram': 'fab fa-instagram',
                        'facebook': 'fab fa-facebook-f',
                        'whatsapp': 'fab fa-whatsapp',
                        'telegram': 'fab fa-telegram',
                        'discord': 'fab fa-discord',
                        'youtube': 'fab fa-youtube',
                        'tiktok': 'fab fa-tiktok',
                        'twitch': 'fab fa-twitch',
                        'medium': 'fab fa-medium',
                        'devto': 'fab fa-dev',
                        'hashnode': 'fab fa-hashnode',
                        'dribbble': 'fab fa-dribbble',
                        'behance': 'fab fa-behance',
                        'figma': 'fab fa-figma',
                        'stackoverflow': 'fab fa-stack-overflow',
                        'codepen': 'fab fa-codepen',
                        'upwork': 'fab fa-upwork',
                        'fiverr': 'fas fa-dollar-sign',
                        'freelancer': 'fas fa-briefcase',
                        'udemy': 'fas fa-graduation-cap',
                        'coursera': 'fas fa-graduation-cap',
                        'pluralsight': 'fas fa-graduation-cap',
                        'notion': 'fas fa-sticky-note',
                        'email': 'fas fa-envelope',
                        'personal': 'fas fa-globe',
                        'other': 'fas fa-external-link-alt'
                    };
                    
                    return iconMap[platform] || 'fas fa-external-link-alt';
                },

                getSocialPlaceholder(platform) {
                    const placeholders = {
                        'github': 'https://github.com/username',
                        'linkedin': 'https://linkedin.com/in/username',
                        'twitter': 'https://twitter.com/username',
                        'instagram': 'https://instagram.com/username',
                        'facebook': 'https://facebook.com/username',
                        'whatsapp': 'https://wa.me/phone-number',
                        'telegram': 'https://t.me/username',
                        'discord': 'https://discord.gg/invite',
                        'youtube': 'https://youtube.com/c/username',
                        'tiktok': 'https://tiktok.com/@username',
                        'twitch': 'https://twitch.tv/username',
                        'medium': 'https://medium.com/@username',
                        'devto': 'https://dev.to/username',
                        'hashnode': 'https://username.hashnode.dev',
                        'dribbble': 'https://dribbble.com/username',
                        'behance': 'https://behance.net/username',
                        'figma': 'https://figma.com/@username',
                        'stackoverflow': 'https://stackoverflow.com/users/username',
                        'codepen': 'https://codepen.io/username',
                        'upwork': 'https://upwork.com/freelancers/~username',
                        'fiverr': 'https://fiverr.com/username',
                        'freelancer': 'https://freelancer.com/u/username',
                        'udemy': 'https://udemy.com/user/username',
                        'coursera': 'https://coursera.org/user/username',
                        'pluralsight': 'https://pluralsight.com/profile/username',
                        'notion': 'https://notion.so/username',
                        'email': 'mailto:email@example.com',
                        'personal': 'https://yourwebsite.com',
                        'other': 'https://example.com'
                    };
                    return placeholders[platform] || 'https://example.com';
                },

                getSocialPlatformName(platform) {
                    const names = {
                        'github': 'GitHub',
                        'gitlab': 'GitLab',
                        'bitbucket': 'Bitbucket',
                        'linkedin': 'LinkedIn',
                        'twitter': 'Twitter',
                        'instagram': 'Instagram',
                        'facebook': 'Facebook',
                        'whatsapp': 'WhatsApp',
                        'telegram': 'Telegram',
                        'discord': 'Discord',
                        'youtube': 'YouTube',
                        'tiktok': 'TikTok',
                        'twitch': 'Twitch',
                        'medium': 'Medium',
                        'devto': 'Dev.to',
                        'hashnode': 'Hashnode',
                        'dribbble': 'Dribbble',
                        'behance': 'Behance',
                        'figma': 'Figma',
                        'stackoverflow': 'Stack Overflow',
                        'codepen': 'CodePen',
                        'upwork': 'Upwork',
                        'fiverr': 'Fiverr',
                        'freelancer': 'Freelancer',
                        'udemy': 'Udemy',
                        'coursera': 'Coursera',
                        'pluralsight': 'Pluralsight',
                        'notion': 'Notion',
                        'email': 'Email',
                        'personal': 'Personal Website',
                        'other': 'Other'
                    };
                    return names[platform] || platform.charAt(0).toUpperCase() + platform.slice(1);
                },

                getSocialPlatformColorClass(platform) {
                    const colorMap = {
                        'github': 'bg-gray-800 hover:bg-gray-900',
                        'gitlab': 'bg-orange-600 hover:bg-orange-700',
                        'bitbucket': 'bg-blue-600 hover:bg-blue-700',
                        'linkedin': 'bg-blue-700 hover:bg-blue-800',
                        'twitter': 'bg-blue-400 hover:bg-blue-500',
                        'instagram': 'bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600',
                        'facebook': 'bg-blue-600 hover:bg-blue-700',
                        'whatsapp': 'bg-green-500 hover:bg-green-600',
                        'telegram': 'bg-blue-500 hover:bg-blue-600',
                        'discord': 'bg-indigo-600 hover:bg-indigo-700',
                        'youtube': 'bg-red-600 hover:bg-red-700',
                        'tiktok': 'bg-black hover:bg-gray-900',
                        'twitch': 'bg-purple-600 hover:bg-purple-700',
                        'medium': 'bg-gray-800 hover:bg-gray-900',
                        'devto': 'bg-gray-900 hover:bg-black',
                        'hashnode': 'bg-blue-600 hover:bg-blue-700',
                        'dribbble': 'bg-pink-500 hover:bg-pink-600',
                        'behance': 'bg-blue-800 hover:bg-blue-900',
                        'figma': 'bg-orange-500 hover:bg-orange-600',
                        'stackoverflow': 'bg-orange-500 hover:bg-orange-600',
                        'codepen': 'bg-gray-800 hover:bg-gray-900',
                        'upwork': 'bg-green-600 hover:bg-green-700',
                        'fiverr': 'bg-green-500 hover:bg-green-600',
                        'freelancer': 'bg-blue-500 hover:bg-blue-600',
                        'udemy': 'bg-purple-700 hover:bg-purple-800',
                        'coursera': 'bg-blue-800 hover:bg-blue-900',
                        'pluralsight': 'bg-orange-500 hover:bg-orange-600',
                        'notion': 'bg-gray-800 hover:bg-gray-900',
                        'email': 'bg-gray-600 hover:bg-gray-700',
                        'personal': 'bg-indigo-600 hover:bg-indigo-700',
                        'other': 'bg-slate-600 hover:bg-slate-700'
                    };
                    return colorMap[platform] || 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700';
                },

                isValidUrl(url) {
                    try {
                        new URL(url);
                        return true;
                    } catch (_) {
                        return false;
                    }
                },

                getSocialUsername(url) {
                    if (!url) return '';
                    try {
                        const urlObj = new URL(url);
                        const pathname = urlObj.pathname;
                        if (url.includes('github.com')) return pathname.split('/')[1] || '';
                        if (url.includes('linkedin.com/in/')) return pathname.split('/in/')[1] || '';
                        if (url.includes('twitter.com/')) return pathname.split('/')[1] || '';
                        if (url.includes('instagram.com/')) return pathname.split('/')[1] || '';
                        return urlObj.hostname;
                    } catch (_) {
                        return '';
                    }
                },

                // RESET METHODS
                resetSkillForm() {
                    this.newSkill = {
                        name: '',
                        category: 'frontend',
                        level: 50,
                        years: 1,
                        projects: 0,
                        icon: 'fas fa-code',
                        description: '',
                        certifications: [],
                        tags: [],
                        customId: ''
                    };
                    this.certificationInput = '';
                    this.tagInput = '';
                    this.editingSkill = null;
                },

                resetProjectForm() {
                    this.newProject = {
                        name: '',
                        description: '',
                        type: 'web',
                        technologies: [],
                        image: '',
                        demoUrl: '',
                        sourceUrl: '',
                        startDate: '',
                        endDate: '',
                        isOngoing: false,
                        role: '',
                        teamSize: 1,
                        status: 'completed',
                        client: '',
                        challenges: '',
                        features: []
                    };
                    this.techInput = '';
                    this.editingProject = null;
                },

                // EDIT SKILL/PROJECT METHODS
                editSkill(skill) {
                    if (this.isPublicMode) return;
                    
                    this.editingSkill = { ...skill };
                    this.newSkill = { ...skill };
                    this.openModal('addSkill');
                },

                editProject(project) {
                    if (this.isPublicMode) return;
                    
                    this.editingProject = { ...project };
                    this.newProject = { ...project };
                    this.openModal('addProject');
                },

                viewProject(projectId) {
                    this.selectedProject = this.projects.find(p => p.id === projectId);
                    this.openModal('projectDetail');
                },

                // SKILL FORM HELPERS
                addCertification() {
                    if (this.certificationInput.trim()) {
                        this.newSkill.certifications.push(this.certificationInput.trim());
                        this.certificationInput = '';
                    }
                },

                removeCertification(index) {
                    this.newSkill.certifications.splice(index, 1);
                },

                addTag() {
                    if (this.tagInput.trim()) {
                        this.newSkill.tags.push(this.tagInput.trim());
                        this.tagInput = '';
                    }
                },

                removeTag(index) {
                    this.newSkill.tags.splice(index, 1);
                },

                nextSkillTab() {
                    if (this.activeSkillTab === 'basic') {
                        this.activeSkillTab = 'details';
                    } else if (this.activeSkillTab === 'details') {
                        this.activeSkillTab = 'advanced';
                    }
                },

                prevSkillTab() {
                    if (this.activeSkillTab === 'advanced') {
                        this.activeSkillTab = 'details';
                    } else if (this.activeSkillTab === 'details') {
                        this.activeSkillTab = 'basic';
                    }
                },

                // PROJECT FORM HELPERS
                addTechnology() {
                    if (this.techInput.trim() && !this.newProject.technologies.includes(this.techInput.trim())) {
                        this.newProject.technologies.push(this.techInput.trim());
                        this.techInput = '';
                    }
                },

                addTechFromSuggestion(tech) {
                    if (!this.newProject.technologies.includes(tech)) {
                        this.newProject.technologies.push(tech);
                    }
                },

                removeTech(tech) {
                    this.newProject.technologies = this.newProject.technologies.filter(t => t !== tech);
                },

                nextProjectTab() {
                    if (this.activeProjectTab === 'basic') {
                        this.activeProjectTab = 'tech';
                    } else if (this.activeProjectTab === 'tech') {
                        this.activeProjectTab = 'media';
                    } else if (this.activeProjectTab === 'media') {
                        this.activeProjectTab = 'details';
                    }
                },

                prevProjectTab() {
                    if (this.activeProjectTab === 'details') {
                        this.activeProjectTab = 'media';
                    } else if (this.activeProjectTab === 'media') {
                        this.activeProjectTab = 'tech';
                    } else if (this.activeProjectTab === 'tech') {
                        this.activeProjectTab = 'basic';
                    }
                },

                // IMAGE UPLOAD METHODS
                triggerFileInput() {
                    document.getElementById('projectImageInput').click();
                },

                uploadImage(event) {
                    const file = event.target.files[0];
                    if (file) {
                        if (file.size > this.storageConfig.maxImageSize) {
                            this.showToastMessage('Image size too large. Max 1MB.', 'error');
                            return;
                        }
                        
                        this.uploadingImage = true;
                        
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.newProject.image = e.target.result;
                            this.uploadingImage = false;
                            this.showToastMessage('Image uploaded successfully', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                },

                uploadProfileImage(event) {
                    const file = event.target.files[0];
                    if (file) {
                        if (file.size > this.storageConfig.maxImageSize) {
                            this.showToastMessage('Image size too large. Max 1MB.', 'error');
                            return;
                        }
                        
                        this.uploadingProfileImage = true;
                        
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.profile.image = e.target.result;
                            this.uploadingProfileImage = false;
                            this.showToastMessage('Profile image updated successfully', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                },

                handleDrop(event) {
                    event.preventDefault();
                    const file = event.dataTransfer.files[0];
                    if (file && file.type.startsWith('image/')) {
                        this.uploadImage({ target: { files: [file] } });
                    }
                },

                handleProjectImageError(event, projectId) {
                    console.error('Error loading project image:', event);
                    event.target.src = 'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                    
                    const projectIndex = this.projects.findIndex(p => p.id === projectId);
                    if (projectIndex !== -1) {
                        this.projects[projectIndex].image = event.target.src;
                    }
                },

                // SOCIAL LINKS METHODS
                addSocialLink() {
                    if (this.isPublicMode) return;
                    
                    this.socialLinks.push({
                        platform: 'github',
                        url: '',
                        icon: 'fab fa-github'
                    });
                },

                addQuickSocialLink(platform) {
                    if (this.isPublicMode) return;
                    
                    const placeholder = this.getSocialPlaceholder(platform);
                    this.socialLinks.push({
                        platform: platform,
                        url: placeholder.includes('username') ? '' : placeholder,
                        icon: this.getSocialIcon(platform)
                    });
                },

                removeSocialLink(index) {
                    if (this.isPublicMode) return;
                    
                    this.socialLinks.splice(index, 1);
                },

                moveSocialLink(index, direction) {
                    if (this.isPublicMode) return;
                    
                    if (direction === 'up' && index > 0) {
                        const temp = this.socialLinks[index];
                        this.socialLinks[index] = this.socialLinks[index - 1];
                        this.socialLinks[index - 1] = temp;
                    } else if (direction === 'down' && index < this.socialLinks.length - 1) {
                        const temp = this.socialLinks[index];
                        this.socialLinks[index] = this.socialLinks[index + 1];
                        this.socialLinks[index + 1] = temp;
                    }
                },

                handlePlatformChange(link, index) {
                    if (this.isPublicMode) return;
                    
                    link.icon = this.getSocialIcon(link.platform);
                    if (!link.url || link.url.includes('username') || link.url === this.getSocialPlaceholder(this.socialLinks[index].platform)) {
                        link.url = this.getSocialPlaceholder(link.platform);
                    }
                },

                editSocialLink(index) {
                    if (this.isPublicMode) return;
                    
                    const newUrl = prompt('Enter new URL for ' + this.getSocialPlatformName(this.socialLinks[index].platform), this.socialLinks[index].url);
                    if (newUrl !== null) {
                        this.socialLinks[index].url = newUrl;
                        this.saveToLocalStorage();
                        this.showToastMessage('Social link updated', 'success');
                    }
                },

                // DATA IMPORT/EXPORT METHODS
                importSampleData() {
                    if (this.isPublicMode) {
                        this.showToastMessage('Please switch to edit mode to import data', 'info');
                        return;
                    }
                    
                    if (confirm('This will replace your current data with sample data. Continue?')) {
                        this.skills = [...predefinedPublicData.skills];
                        this.projects = [...predefinedPublicData.projects];
                        this.socialLinks = [...predefinedPublicData.socialLinks];
                        
                        this.updateProjectSlides();
                        this.saveToLocalStorage();
                        
                        this.showToastMessage('Sample data loaded successfully', 'success');
                        this.showDataPanel = false;
                    }
                },

                exportToJSON() {
                    const data = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks,
                        exportedAt: new Date().toISOString()
                    };
                    
                    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `portfolio-backup-${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    this.showToastMessage('Data exported successfully', 'success');
                },

                clearAllData() {
                    if (this.isPublicMode) {
                        this.showToastMessage('Please switch to edit mode to clear data', 'info');
                        return;
                    }
                    
                    if (confirm('This will delete ALL your data. This action cannot be undone. Continue?')) {
                        localStorage.clear();
                        this.skills = [];
                        this.projects = [];
                        this.socialLinks = [];
                        this.profile = { ...predefinedPublicData.profile };
                        this.syncHistory = [];
                        
                        this.updateProjectSlides();
                        this.showToastMessage('All data cleared', 'success');
                        this.showDataPanel = false;
                    }
                },

                runDataHealthCheck() {
                    try {
                        const issues = [];
                        
                        if (this.skills.length === 0) issues.push('No skills found');
                        
                        this.skills.forEach((skill, index) => {
                            if (!skill.name) issues.push(`Skill ${index + 1}: Missing name`);
                            if (skill.level < 0 || skill.level > 100) issues.push(`Skill ${skill.name}: Invalid level`);
                        });
                        
                        if (this.projects.length === 0) issues.push('No projects found');
                        
                        this.projects.forEach((project, index) => {
                            if (!project.name) issues.push(`Project ${index + 1}: Missing name`);
                            if (!project.description) issues.push(`Project ${project.name}: Missing description`);
                        });
                        
                        if (!this.profile.name) issues.push('Profile: Missing name');
                        if (!this.profile.email) issues.push('Profile: Missing email');
                        
                        if (issues.length === 0) {
                            this.dataIntegrity = true;
                            this.showToastMessage('Data health check passed!', 'success');
                        } else {
                            this.dataIntegrity = false;
                            console.warn('Data health issues:', issues);
                            this.showToastMessage(`Found ${issues.length} data issues`, 'warning');
                        }
                        
                        this.calculateStorageUsage();
                        
                    } catch (error) {
                        console.error('Health check error:', error);
                        this.showToastMessage('Health check failed', 'error');
                    }
                },

                formatTimeAgo(timestamp) {
                    const now = new Date();
                    const past = new Date(timestamp);
                    const diff = now - past;
                    
                    const minutes = Math.floor(diff / 60000);
                    const hours = Math.floor(diff / 3600000);
                    const days = Math.floor(diff / 86400000);
                    
                    if (minutes < 1) return 'Just now';
                    if (minutes < 60) return `${minutes}m ago`;
                    if (hours < 24) return `${hours}h ago`;
                    return `${days}d ago`;
                }
            };
        }
    </script>
</body>
</html>
