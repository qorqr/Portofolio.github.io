<!DOCTYPE html>
<html lang="en" x-data="portfolio()" x-init="init()">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Full Stack Developer Portfolio | Modern Web Solutions</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine JS -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    
    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --dark: #0f172a;
            --light: #f8fafc;
            --gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-dark: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }

        body {
            scroll-behavior: smooth;
        }

        .gradient-bg {
            background: var(--gradient);
        }
        .dark .gradient-bg {
            background: var(--gradient-dark);
        }
        
        .gradient-text {
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .skill-bar {
            transition: width 1s ease-in-out;
        }
        
        .particles-js-canvas-el {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: var(--gradient);
            z-index: 1000;
            transition: width 0.1s ease;
        }
        
        .status-success { background-color: #10b981; }
        .status-warning { background-color: #f59e0b; }
        .status-error { background-color: #ef4444; }
        
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .animate-pulse-slow {
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .animate-bounce-slow {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .dark .glass-effect {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .floating-shapes {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 70%);
            filter: blur(40px);
            z-index: 0;
        }

        .floating-shapes:nth-child(1) {
            top: 10%;
            left: 5%;
            animation: float 15s ease-in-out infinite;
        }

        .floating-shapes:nth-child(2) {
            top: 60%;
            right: 5%;
            animation: float 18s ease-in-out infinite reverse;
        }

        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .dark .hover-lift:hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .timeline {
            position: relative;
            padding-left: 2rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gradient);
        }

        .code-bg {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .dark .code-bg {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .grid-pattern {
            background-size: 30px 30px;
            background-image: 
                linear-gradient(to right, rgba(99, 102, 241, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(99, 102, 241, 0.1) 1px, transparent 1px);
        }

        .dark .grid-pattern {
            background-image: 
                linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
        }

        .tech-badge {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tech-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .tech-badge:hover::before {
            left: 100%;
        }

        .tech-badge:hover {
            transform: scale(1.05);
        }

        .section-title {
            position: relative;
            display: inline-block;
            padding-bottom: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: var(--gradient);
            border-radius: 3px;
        }

        .floating-element {
            animation: float 8s ease-in-out infinite;
        }

        .floating-element-delay-1 {
            animation-delay: 1s;
        }

        .floating-element-delay-2 {
            animation-delay: 2s;
        }

        .text-gradient {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .bg-dots {
            background-image: radial-gradient(currentColor 1px, transparent 1px);
            background-size: calc(10 * 1px) calc(10 * 1px);
        }

        .card-hover-effect {
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }

        .card-hover-effect:hover {
            transform: translateY(-5px) rotateX(2deg) rotateY(2deg);
        }

        .glow-effect {
            position: relative;
        }

        .glow-effect::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--gradient);
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .glow-effect:hover::after {
            opacity: 1;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .blob {
            position: absolute;
            width: 500px;
            height: 500px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
            opacity: 0.1;
            filter: blur(40px);
            z-index: 0;
        }

        .blob-1 {
            top: -200px;
            right: -200px;
            animation: float 20s ease-in-out infinite;
        }

        .blob-2 {
            bottom: -200px;
            left: -200px;
            animation: float 25s ease-in-out infinite reverse;
        }

        .stagger-animation > * {
            opacity: 0;
            transform: translateY(20px);
            animation: stagger 0.5s forwards;
        }

        @keyframes stagger {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stagger-animation > *:nth-child(1) { animation-delay: 0.1s; }
        .stagger-animation > *:nth-child(2) { animation-delay: 0.2s; }
        .stagger-animation > *:nth-child(3) { animation-delay: 0.3s; }
        .stagger-animation > *:nth-child(4) { animation-delay: 0.4s; }
        .stagger-animation > *:nth-child(5) { animation-delay: 0.5s; }
        .stagger-animation > *:nth-child(6) { animation-delay: 0.6s; }

        .typewriter {
            overflow: hidden;
            border-right: 2px solid var(--primary);
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--primary) }
        }

        /* New Enhanced Loading Styles */
        .loading-container {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #312e81 100%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .loading-content {
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .loading-animation {
            position: relative;
            width: 120px;
            height: 120px;
            margin: 0 auto 2rem;
        }

        .loading-orb {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #6366f1, #8b5cf6, #ec4899, #6366f1);
            animation: spin 2s linear infinite;
            filter: blur(10px);
            opacity: 0.7;
        }

        .loading-orb-inner {
            position: absolute;
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
            border-radius: 50%;
            background: conic-gradient(from 180deg, #8b5cf6, #6366f1, #8b5cf6, #6366f1);
            animation: spin 1.5s linear infinite reverse;
        }

        .loading-center {
            position: absolute;
            width: 40%;
            height: 40%;
            top: 30%;
            left: 30%;
            border-radius: 50%;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s ease-in-out infinite;
        }

        .loading-center i {
            color: white;
            font-size: 1.5rem;
        }

        .loading-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 1.5rem;
        }

        .loading-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #6366f1;
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }
        .loading-dot:nth-child(3) { animation-delay: 0s; }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes bounce {
            0%, 80%, 100% { 
                transform: scale(0);
                opacity: 0.5;
            }
            40% { 
                transform: scale(1);
                opacity: 1;
            }
        }

        .loading-text {
            margin-top: 1.5rem;
            font-size: 1.125rem;
            color: #c7d2fe;
            font-weight: 500;
        }

        .loading-subtext {
            margin-top: 0.5rem;
            font-size: 0.875rem;
            color: #94a3b8;
        }

        .loading-progress-container {
            width: 300px;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 2rem auto 0;
            overflow: hidden;
        }

        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .loading-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Enhanced Modal Styles */
        .modal-enhanced {
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-overlay-enhanced {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
        }

        .modal-header-enhanced {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 1rem 1rem 0 0;
        }

        .modal-body-enhanced {
            max-height: calc(90vh - 200px);
            overflow-y: auto;
        }

        .form-input-enhanced {
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }

        .form-input-enhanced:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .dark .form-input-enhanced {
            border-color: #475569;
            background: #1e293b;
        }

        .dark .form-input-enhanced:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .form-label-enhanced {
            font-weight: 600;
            color: #334155;
            margin-bottom: 0.5rem;
            display: block;
        }

        .dark .form-label-enhanced {
            color: #cbd5e1;
        }

        .form-section-enhanced {
            background: #f8fafc;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .dark .form-section-enhanced {
            background: #1e293b;
        }

        .modal-footer-enhanced {
            background: #f8fafc;
            border-radius: 0 0 1rem 1rem;
            padding: 1.5rem 2rem;
            border-top: 1px solid #e2e8f0;
        }

        .dark .modal-footer-enhanced {
            background: #1e293b;
            border-color: #475569;
        }

        /* Project Detail Modal Enhancement */
        .project-image-large {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
        }

        .tech-tag-enhanced {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .feature-list-enhanced li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: #f1f5f9;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .dark .feature-list-enhanced li {
            background: #334155;
        }

        .feature-list-enhanced li i {
            color: #10b981;
            font-size: 1rem;
        }

        /* Animation for modal buttons */
        .modal-btn-animate {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .modal-btn-animate::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .modal-btn-animate:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }

        /* Tab styling enhancement */
        .tab-enhanced {
            position: relative;
            padding: 1rem 1.5rem;
            font-weight: 500;
            color: #64748b;
            transition: all 0.3s ease;
        }

        .tab-enhanced.active {
            color: #6366f1;
        }

        .tab-enhanced.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            border-radius: 3px 3px 0 0;
        }

        .dark .tab-enhanced {
            color: #94a3b8;
        }

        .dark .tab-enhanced.active {
            color: #c7d2fe;
        }
    </style>
</head>
<body :class="{'dark': isDark}" class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 transition-colors duration-300 overflow-x-hidden">
    
    <!-- Enhanced Background Elements -->
    <div class="floating-shapes"></div>
    <div class="floating-shapes"></div>
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    
    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" :style="'width: ' + scrollProgress + '%'"></div>
    
    <!-- Toast Notification -->
    <div x-show="showToast" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 translate-y-2"
         class="fixed top-4 right-4 z-50 max-w-sm w-full"
         :class="{
             'bg-green-100 border-green-400 text-green-800 dark:bg-green-900 dark:text-green-200': toastType === 'success',
             'bg-red-100 border-red-400 text-red-800 dark:bg-red-900 dark:text-red-200': toastType === 'error',
             'bg-yellow-100 border-yellow-400 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200': toastType === 'warning',
             'bg-blue-100 border-blue-400 text-blue-800 dark:bg-blue-900 dark:text-blue-200': toastType === 'info'
         }"
         class="border-l-4 p-4 rounded-lg shadow-lg backdrop-blur-sm">
        <div class="flex items-center">
            <div class="flex-shrink-0">
                <i class="fas text-lg"
                   :class="{
                       'fa-check-circle text-green-500': toastType === 'success',
                       'fa-exclamation-circle text-red-500': toastType === 'error',
                       'fa-exclamation-triangle text-yellow-500': toastType === 'warning',
                       'fa-info-circle text-blue-500': toastType === 'info'
                   }"></i>
            </div>
            <div class="ml-3">
                <p class="text-sm font-medium" x-text="toastMessage"></p>
            </div>
            <button @click="showToast = false" 
                    class="ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 inline-flex h-8 w-8 hover:bg-gray-200 dark:hover:bg-gray-700">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    
    <!-- Enhanced Loading Screen -->
    <div x-show="isLoading" x-transition:enter="transition ease-out duration-500" 
         x-transition:leave="transition ease-in duration-300"
         class="loading-container">
        
        <!-- Animated Background Elements -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-full blur-3xl animate-float"></div>
            <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-pink-500/20 to-blue-500/20 rounded-full blur-3xl animate-float floating-element-delay-1"></div>
            <div class="absolute top-1/2 left-1/3 w-80 h-80 bg-gradient-to-r from-teal-500/20 to-cyan-500/20 rounded-full blur-3xl animate-float floating-element-delay-2"></div>
        </div>
        
        <div class="loading-content">
            <!-- Main Loading Animation -->
            <div class="loading-animation">
                <div class="loading-orb"></div>
                <div class="loading-orb-inner"></div>
                <div class="loading-center">
                    <i class="fas fa-code"></i>
                </div>
            </div>
            
            <!-- Loading Text -->
            <h2 class="text-3xl font-bold text-white mb-2" x-text="loadingMessage"></h2>
            <p class="loading-text">Preparing your portfolio experience...</p>
            
            <!-- Progress Bar -->
            <div class="loading-progress-container mt-8">
                <div class="loading-progress-bar" :style="'width: ' + loadingProgress + '%'"></div>
            </div>
            <p class="loading-subtext mt-2" x-text="loadingProgress + '%'"></p>
            
            <!-- Animated Dots -->
            <div class="loading-dots mt-6">
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
            </div>
        </div>
        
        <!-- Floating Particles -->
        <div class="absolute bottom-8 left-8 text-gray-400 text-sm">
            <i class="fas fa-spinner fa-spin mr-2"></i>
            <span>Loading assets...</span>
        </div>
        
        <div class="absolute bottom-8 right-8 text-gray-400 text-sm">
            <i class="fas fa-bolt mr-2"></i>
            <span>Optimizing performance...</span>
        </div>
    </div>
    
    <!-- Auth Button Fixed -->
    <div class="fixed top-4 right-4 z-50">
        <div x-show="isPublicMode">
            <button @click="loginWithGoogle()" 
                    class="glass-effect hover-lift text-white px-6 py-3 rounded-xl shadow-lg transition-all duration-300 flex items-center gap-3 group">
                <i class="fas fa-sign-in-alt text-lg group-hover:scale-110 transition-transform"></i>
                <span class="font-semibold">Login untuk Edit</span>
            </button>
        </div>
        
        <div x-show="!isPublicMode" class="flex items-center gap-4">
            <div class="glass-effect px-4 py-2 rounded-xl">
                <span class="text-sm text-gray-600 dark:text-gray-300 flex items-center gap-2">
                    <i class="fas fa-user-circle"></i>
                    <span x-text="userEmail?.split('@')[0] || 'User'" class="font-medium"></span>
                </span>
            </div>
            <button @click="signOut()" 
                    class="bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white px-6 py-3 rounded-xl shadow-lg transition-all duration-300 flex items-center gap-3 hover-lift">
                <i class="fas fa-sign-out-alt"></i>
                <span class="font-semibold">Logout</span>
            </button>
        </div>
    </div>
    
    <!-- Publish Button (Edit Mode Only) -->
    <div x-show="!isPublicMode" class="fixed bottom-6 right-6 z-40">
        <button @click="publishToPublic()" 
                class="bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-8 py-4 rounded-xl shadow-lg transition-all duration-300 flex items-center gap-3 hover-lift animate-pulse-slow glow-effect">
            <i class="fas fa-cloud-upload-alt text-xl"></i>
            <span class="font-bold">PUBLISH KE CLOUD</span>
        </button>
    </div>
    
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 transition-all duration-300" 
         :class="{'glass-effect shadow-xl': !isAtTop, 'bg-transparent': isAtTop}">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="text-3xl font-bold">
                    <span class="gradient-text">Portfolio</span>
                    <span class="text-sm ml-2 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 px-2 py-1 rounded-full font-normal">
                        <i class="fas fa-code mr-1"></i>Dev
                    </span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <template x-for="item in navItems" :key="item.name">
                        <a :href="item.href" 
                           @click.prevent="scrollTo(item.href.substring(1))"
                           class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all duration-300 font-medium relative group"
                           :class="{'text-indigo-600 dark:text-indigo-400': activeSection === item.href.substring(1)}">
                            <span x-text="item.name" class="relative z-10"></span>
                            <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 group-hover:w-full transition-all duration-300"></span>
                        </a>
                    </template>
                </div>
                
                <!-- Theme Toggle -->
                <div class="flex items-center space-x-6">
                    <button @click="toggleTheme()" 
                            class="w-14 h-7 rounded-full bg-gray-300 dark:bg-gray-700 relative transition-colors duration-300 group">
                        <div class="absolute top-1 left-1 w-5 h-5 rounded-full bg-white dark:bg-gray-900 transition-transform duration-300 shadow-lg" 
                             :class="{'translate-x-7': isDark}"></div>
                        <div class="absolute top-1 left-2">
                            <i class="fas fa-sun text-yellow-500 text-xs opacity-70"></i>
                        </div>
                        <div class="absolute top-1 right-2">
                            <i class="fas fa-moon text-blue-400 text-xs opacity-70"></i>
                        </div>
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button @click="mobileMenu = !mobileMenu" class="md:hidden text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div x-show="mobileMenu" x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0 -translate-y-2" x-transition:enter-end="opacity-100 translate-y-0"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 -translate-y-2"
             class="md:hidden glass-effect shadow-xl">
            <div class="container mx-auto px-6 py-4 space-y-4">
                <template x-for="item in navItems" :key="item.name">
                    <a :href="item.href" 
                       @click.prevent="scrollTo(item.href.substring(1)); mobileMenu = false"
                       class="block py-3 text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors font-medium border-b border-gray-200 dark:border-gray-700 last:border-0"
                       :class="{'text-indigo-600 dark:text-indigo-400': activeSection === item.href.substring(1)}">
                        <span x-text="item.name"></span>
                    </a>
                </template>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24">
        <!-- Home Section with Enhanced Background -->
        <section id="home" class="min-h-screen relative overflow-hidden code-bg">
            <div id="particles-js" class="absolute inset-0"></div>
            
            <!-- Animated Background Elements -->
            <div class="absolute inset-0 overflow-hidden">
                <div class="floating-element absolute top-1/4 left-1/4 w-64 h-64 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 rounded-full blur-3xl"></div>
                <div class="floating-element floating-element-delay-1 absolute top-3/4 right-1/4 w-96 h-96 bg-gradient-to-r from-pink-500/10 to-blue-500/10 rounded-full blur-3xl"></div>
                <div class="floating-element floating-element-delay-2 absolute bottom-1/4 left-1/3 w-80 h-80 bg-gradient-to-r from-teal-500/10 to-cyan-500/10 rounded-full blur-3xl"></div>
            </div>
            
            <div class="container mx-auto px-6 py-16 relative z-10">
                <div class="grid lg:grid-cols-2 gap-16 items-center">
                    <!-- Left Column: Hero Content -->
                    <div class="text-center lg:text-left">
                        <div class="mb-8">
                            <div class="inline-flex items-center gap-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300 px-4 py-2 rounded-full mb-6">
                                <i class="fas fa-terminal"></i>
                                <span class="text-sm font-medium">Full Stack Developer</span>
                            </div>
                            
                            <h1 class="text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-6 leading-tight">
                                <span class="gradient-text" x-text="profile.name"></span>
                            </h1>
                            
                            <div class="typewriter-container mb-6">
                                <p class="text-2xl md:text-3xl text-gray-700 dark:text-gray-300 typewriter">
                                    Building <span class="gradient-text font-bold">Digital Experiences</span> that matter
                                </p>
                            </div>
                            
                            <p class="text-lg text-gray-600 dark:text-gray-400 max-w-xl leading-relaxed" x-text="profile.bio"></p>
                        </div>
                        
                        <!-- CTA Buttons -->
                        <div class="flex flex-col sm:flex-row gap-4 mb-12">
                            <a href="#contact" 
                               @click.prevent="scrollTo('contact')"
                               class="group relative bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-10 py-4 rounded-xl font-bold text-lg transition-all duration-300 hover-lift flex items-center justify-center gap-3 overflow-hidden">
                                <span class="relative z-10">
                                    <i class="fas fa-envelope mr-3"></i>Contact Me
                                </span>
                                <div class="absolute inset-0 bg-gradient-to-r from-indigo-700 to-purple-700 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500"></div>
                            </a>
                            
                            <a href="#projects" 
                               @click.prevent="scrollTo('projects')"
                               class="group relative glass-effect border-2 border-transparent hover:border-indigo-500 text-gray-800 dark:text-white px-10 py-4 rounded-xl font-bold text-lg transition-all duration-300 hover-lift flex items-center justify-center gap-3">
                                <span class="relative z-10">
                                    <i class="fas fa-briefcase mr-3"></i>View Projects
                                </span>
                            </a>
                        </div>
                        
                        <!-- Stats -->
                        <div class="grid grid-cols-3 gap-6 mb-8 max-w-lg">
                            <div class="glass-effect p-6 rounded-2xl text-center hover-lift">
                                <div class="text-4xl font-bold gradient-text" x-text="skills.length"></div>
                                <div class="text-gray-600 dark:text-gray-400 font-medium">Tech Skills</div>
                            </div>
                            <div class="glass-effect p-6 rounded-2xl text-center hover-lift">
                                <div class="text-4xl font-bold gradient-text" x-text="projects.length"></div>
                                <div class="text-gray-600 dark:text-gray-400 font-medium">Projects</div>
                            </div>
                            <div class="glass-effect p-6 rounded-2xl text-center hover-lift">
                                <div class="text-4xl font-bold gradient-text" x-text="averageSkillLevel + '%'"></div>
                                <div class="text-gray-600 dark:text-gray-400 font-medium">Avg. Proficiency</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Column: Profile & Social -->
                    <div class="relative">
                        <div class="relative mx-auto lg:mx-0 max-w-md">
                            <!-- Profile Image Container -->
                            <div class="relative group">
                                <div class="absolute -inset-4 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur-xl opacity-70 group-hover:opacity-100 transition-opacity duration-300"></div>
                                <div class="relative rounded-full overflow-hidden border-8 border-white dark:border-gray-800 shadow-2xl animate-float">
                                    <img :src="profileImageSrc" 
                                         alt="Profile Picture" 
                                         class="w-full h-full object-cover aspect-square">
                                </div>
                                
                                <!-- Floating Badges -->
                                <div class="absolute -top-2 -right-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-full shadow-lg flex items-center gap-2 animate-bounce-slow">
                                    <i class="fas fa-medal"></i>
                                    <span class="font-bold">Pro</span>
                                </div>
                                
                                <!-- Edit Profile Image Button (Edit Mode Only) -->
                                <div x-show="!isPublicMode" class="absolute bottom-6 right-6 z-20">
                                    <label for="profileImageUpload" 
                                           class="bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white p-3 rounded-full cursor-pointer shadow-lg hover-lift transition-all duration-300">
                                        <i class="fas fa-camera text-xl"></i>
                                        <input id="profileImageUpload" type="file" accept="image/*" @change="uploadProfileImage" class="hidden">
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Tech Stack Badges -->
                            <div class="mt-12">
                                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6 text-center">Tech Stack</h3>
                                <div class="flex flex-wrap justify-center gap-3">
                                    <div class="tech-badge bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-4 py-2 rounded-full flex items-center gap-2">
                                        <i class="fab fa-react"></i>
                                        <span>React</span>
                                    </div>
                                    <div class="tech-badge bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 px-4 py-2 rounded-full flex items-center gap-2">
                                        <i class="fab fa-node-js"></i>
                                        <span>Node.js</span>
                                    </div>
                                    <div class="tech-badge bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-4 py-2 rounded-full flex items-center gap-2">
                                        <i class="fas fa-database"></i>
                                        <span>MongoDB</span>
                                    </div>
                                    <div class="tech-badge bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 px-4 py-2 rounded-full flex items-center gap-2">
                                        <i class="fab fa-aws"></i>
                                        <span>AWS</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce-slow">
                <a href="#skills" @click.prevent="scrollTo('skills')" class="text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors">
                    <i class="fas fa-chevron-down text-2xl"></i>
                </a>
            </div>
        </section>

        <!-- Skills Section with Enhanced Layout -->
        <section id="skills" class="py-20 relative overflow-hidden grid-pattern">
            <div class="absolute inset-0 bg-gradient-to-b from-transparent via-gray-50/50 to-transparent dark:via-gray-900/50"></div>
            
            <div class="container mx-auto px-6 relative z-10">
                <div class="text-center mb-16" data-aos="fade-up">
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                        <span class="section-title">Skills & Expertise</span>
                    </h2>
                    <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                        Mastering the full stack with expertise in modern web technologies, cloud infrastructure, and DevOps practices.
                    </p>
                </div>
                
                <!-- Technology Spectrum -->
                <div class="mb-16" data-aos="fade-up" data-aos-delay="100">
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-8 text-center">
                        <i class="fas fa-layer-group mr-3 gradient-text"></i>
                        Technology Spectrum
                    </h3>
                    <div class="glass-effect rounded-2xl p-8">
                        <div class="tech-grid stagger-animation">
                            <div class="tech-badge group bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-900/10 text-blue-800 dark:text-blue-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-react text-3xl mb-3"></i>
                                <div class="font-bold">React</div>
                                <div class="text-sm opacity-75">Frontend</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-900/10 text-green-800 dark:text-green-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-vuejs text-3xl mb-3"></i>
                                <div class="font-bold">Vue.js</div>
                                <div class="text-sm opacity-75">Frontend</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-900/10 text-yellow-800 dark:text-yellow-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-angular text-3xl mb-3"></i>
                                <div class="font-bold">Angular</div>
                                <div class="text-sm opacity-75">Frontend</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-900/10 text-red-800 dark:text-red-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-node-js text-3xl mb-3"></i>
                                <div class="font-bold">Node.js</div>
                                <div class="text-sm opacity-75">Backend</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-900/10 text-purple-800 dark:text-purple-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-python text-3xl mb-3"></i>
                                <div class="font-bold">Python</div>
                                <div class="text-sm opacity-75">Backend</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-900/10 text-indigo-800 dark:text-indigo-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fas fa-database text-3xl mb-3"></i>
                                <div class="font-bold">PostgreSQL</div>
                                <div class="text-sm opacity-75">Database</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-900/20 dark:to-teal-900/10 text-teal-800 dark:text-teal-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fas fa-database text-3xl mb-3"></i>
                                <div class="font-bold">MongoDB</div>
                                <div class="text-sm opacity-75">Database</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-900/10 text-pink-800 dark:text-pink-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-docker text-3xl mb-3"></i>
                                <div class="font-bold">Docker</div>
                                <div class="text-sm opacity-75">DevOps</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-900/10 text-orange-800 dark:text-orange-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-aws text-3xl mb-3"></i>
                                <div class="font-bold">AWS</div>
                                <div class="text-sm opacity-75">Cloud</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/20 dark:to-cyan-900/10 text-cyan-800 dark:text-cyan-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-google text-3xl mb-3"></i>
                                <div class="font-bold">GCP</div>
                                <div class="text-sm opacity-75">Cloud</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900/20 dark:to-gray-900/10 text-gray-800 dark:text-gray-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fab fa-git-alt text-3xl mb-3"></i>
                                <div class="font-bold">Git</div>
                                <div class="text-sm opacity-75">Tools</div>
                            </div>
                            
                            <div class="tech-badge group bg-gradient-to-br from-rose-50 to-rose-100 dark:from-rose-900/20 dark:to-rose-900/10 text-rose-800 dark:text-rose-300 p-4 rounded-xl text-center hover-lift">
                                <i class="fas fa-cogs text-3xl mb-3"></i>
                                <div class="font-bold">CI/CD</div>
                                <div class="text-sm opacity-75">DevOps</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Detailed Skills -->
                <div class="mb-12">
                    <div class="flex justify-between items-center mb-8" data-aos="fade-up">
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white">
                            <i class="fas fa-chart-line mr-3 gradient-text"></i>
                            Detailed Skills Analysis
                        </h3>
                        
                        <!-- Add Skill Button (Edit Mode Only) -->
                        <div x-show="!isPublicMode" class="flex gap-4">
                            <button @click="openModal('addSkill')" 
                                    class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl flex items-center gap-3 hover-lift transition-all duration-300">
                                <i class="fas fa-plus"></i>
                                Add Skill
                            </button>
                        </div>
                    </div>
                    
                    <!-- Skill Category Filter -->
                    <div class="flex flex-wrap justify-center gap-3 mb-8" data-aos="fade-up" data-aos-delay="50">
                        <button @click="activeSkillCategory = 'all'" 
                                class="px-5 py-2.5 rounded-xl transition-all duration-300 flex items-center gap-2 hover-lift"
                                :class="activeSkillCategory === 'all' 
                                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg' 
                                    : 'glass-effect text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400'">
                            <i class="fas fa-layer-group"></i>
                            All Skills
                        </button>
                        <template x-for="category in skillCategories" :key="category">
                            <button @click="activeSkillCategory = category" 
                                    class="px-5 py-2.5 rounded-xl transition-all duration-300 flex items-center gap-2 hover-lift"
                                    :class="activeSkillCategory === category 
                                        ? getSkillCategoryColor(category) + ' text-white shadow-lg' 
                                        : 'glass-effect text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400'">
                                <i :class="getCategoryIcon(category)"></i>
                                <span x-text="getCategoryName(category)"></span>
                            </button>
                        </template>
                    </div>
                    
                    <!-- Skills Grid -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <template x-for="skill in filteredSkills" :key="skill.id">
                            <div class="card-hover-effect glass-effect rounded-2xl p-6 transition-all duration-300" data-aos="zoom-in">
                                <div class="flex justify-between items-start mb-4">
                                    <div class="flex items-center gap-4">
                                        <div :class="getSkillCategoryColor(skill.category)" 
                                             class="w-14 h-14 rounded-xl flex items-center justify-center text-white shadow-lg">
                                            <i :class="skill.icon" class="text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-xl text-gray-900 dark:text-white" x-text="skill.name"></h3>
                                            <div class="flex items-center gap-2 text-sm">
                                                <i :class="getProficiencyIcon(skill.level)" class="text-yellow-500"></i>
                                                <span class="text-gray-600 dark:text-gray-400" x-text="getProficiencyLevel(skill.level)"></span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Edit/Delete Buttons (Edit Mode Only) -->
                                    <div x-show="!isPublicMode" class="flex gap-2">
                                        <button @click="editSkill(skill)" 
                                                class="w-10 h-10 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center transition-colors">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button @click="confirmDelete('skill', skill.id, skill.name)" 
                                                class="w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-lg flex items-center justify-center transition-colors">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <p class="text-gray-600 dark:text-gray-300 mb-6 line-clamp-3" x-text="skill.description"></p>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-gray-600 dark:text-gray-400 font-medium">Proficiency</span>
                                        <span class="font-bold gradient-text" x-text="skill.level + '%'"></span>
                                    </div>
                                    <div class="h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                                        <div class="h-full skill-bar rounded-full transition-all duration-1000" 
                                             :class="getProficiencyClass(skill.level)"
                                             :style="'width: ' + skill.level + '%'"></div>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold gradient-text" x-text="skill.years"></div>
                                        <div class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider">Years</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold gradient-text" x-text="skill.projects"></div>
                                        <div class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider">Projects</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold gradient-text">
                                            <i :class="getCategoryIcon(skill.category)"></i>
                                        </div>
                                        <div class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider" x-text="getCategoryName(skill.category)"></div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section with Enhanced Layout -->
        <section id="projects" class="py-20 relative overflow-hidden bg-gradient-to-b from-gray-50 to-white dark:from-gray-900 dark:to-gray-800">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16" data-aos="fade-up">
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                        <span class="section-title">Featured Projects</span>
                    </h2>
                    <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                        A curated collection of innovative solutions showcasing technical expertise and creative problem-solving.
                    </p>
                </div>
                
                <!-- Project View Toggle -->
                <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-12" data-aos="fade-up">
                    <div class="flex gap-3">
                        <button @click="setProjectView('grid')" 
                                class="px-6 py-3 rounded-xl flex items-center gap-3 transition-all duration-300 hover-lift"
                                :class="projectView === 'grid' 
                                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg' 
                                    : 'glass-effect text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400'">
                            <i class="fas fa-th-large"></i>
                            Grid View
                        </button>
                        <button @click="setProjectView('slider')" 
                                class="px-6 py-3 rounded-xl flex items-center gap-3 transition-all duration-300 hover-lift"
                                :class="projectView === 'slider' 
                                    ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg' 
                                    : 'glass-effect text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400'">
                            <i class="fas fa-sliders-h"></i>
                            Slider View
                        </button>
                    </div>
                    
                    <!-- Add Project Button (Edit Mode Only) -->
                    <div x-show="!isPublicMode" class="flex gap-4">
                        <button @click="openModal('addProject')" 
                                class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl flex items-center gap-3 hover-lift transition-all duration-300">
                            <i class="fas fa-plus"></i>
                            Add Project
                        </button>
                    </div>
                </div>
                
                <!-- Projects Grid View -->
                <div x-show="projectView === 'grid'" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 stagger-animation">
                    <template x-for="(project, index) in projects" :key="project.id">
                        <div class="card-hover-effect bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden transition-all duration-300" data-aos="zoom-in" :data-aos-delay="(index % 3) * 100">
                            <div class="relative h-56 overflow-hidden group">
                                <img :src="project.image" 
                                     :alt="project.name"
                                     @error="handleProjectImageError($event, project.id)"
                                     class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                                
                                <!-- Project Badges -->
                                <div class="absolute top-4 left-4 flex flex-col gap-2">
                                    <span class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-3 py-1.5 rounded-lg text-sm font-bold shadow-lg">
                                        <span x-text="getProjectTypeName(project.type)"></span>
                                    </span>
                                    <span :class="getProjectStatusClass(project.status)" 
                                          class="px-3 py-1.5 rounded-lg text-sm font-bold shadow-lg">
                                        <span x-text="project.status"></span>
                                    </span>
                                </div>
                                
                                <!-- Edit/Delete Buttons (Edit Mode Only) -->
                                <div x-show="!isPublicMode" class="absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <button @click="editProject(project)" 
                                            class="bg-blue-500 hover:bg-blue-600 text-white p-2.5 rounded-lg shadow-lg transition-colors">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button @click="confirmDelete('project', project.id, project.name)" 
                                            class="bg-red-500 hover:bg-red-600 text-white p-2.5 rounded-lg shadow-lg transition-colors">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="p-6">
                                <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-3" x-text="project.name"></h3>
                                <p class="text-gray-600 dark:text-gray-300 mb-6 line-clamp-3" x-text="project.description"></p>
                                
                                <div class="flex flex-wrap gap-2 mb-6">
                                    <template x-for="tech in project.technologies.slice(0, 4)" :key="tech">
                                        <span class="px-3 py-1.5 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-lg text-xs font-medium">
                                            <span x-text="tech"></span>
                                        </span>
                                    </template>
                                    <span x-show="project.technologies.length > 4" 
                                          class="px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-xs font-medium">
                                        +<span x-text="project.technologies.length - 4"></span> more
                                    </span>
                                </div>
                                
                                <div class="flex justify-between items-center pt-6 border-t border-gray-100 dark:border-gray-700">
                                    <div class="flex items-center gap-2">
                                        <i class="fas fa-calendar text-gray-400"></i>
                                        <span class="text-gray-500 dark:text-gray-400 text-sm" x-text="project.date"></span>
                                    </div>
                                    <div class="flex gap-3">
                                        <button @click="viewProject(project.id)" 
                                                class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-semibold text-sm flex items-center gap-1 group">
                                            Details
                                            <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                                        </button>
                                        <a :href="project.demoUrl" target="_blank" x-show="project.demoUrl"
                                           class="text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 font-semibold text-sm flex items-center gap-1 group">
                                            Live
                                            <i class="fas fa-external-link-alt text-xs"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>
                
                <!-- Projects Slider View -->
                <div x-show="projectView === 'slider'" class="relative" data-aos="fade-up">
                    <div class="overflow-hidden rounded-2xl">
                        <div class="flex transition-transform duration-500 ease-in-out" 
                             :style="'transform: translateX(-' + (currentSlide * 100) + '%)'">
                            <template x-for="(slide, slideIndex) in projectSlides" :key="slideIndex">
                                <div class="w-full flex-shrink-0">
                                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 p-4">
                                        <template x-for="project in slide" :key="project.id">
                                            <div class="card-hover-effect bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                                                <div class="relative h-48 overflow-hidden group">
                                                    <img :src="project.image" :alt="project.name" 
                                                         @error="handleProjectImageError($event, project.id)"
                                                         class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                                                    <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"></div>
                                                </div>
                                                <div class="p-5">
                                                    <h4 class="font-bold text-lg text-gray-900 dark:text-white mb-2" x-text="project.name"></h4>
                                                    <p class="text-gray-600 dark:text-gray-300 text-sm line-clamp-2 mb-4" x-text="project.description"></p>
                                                    <button @click="viewProject(project.id)" 
                                                            class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium text-sm flex items-center gap-2 group">
                                                        View Details
                                                        <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </template>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                    
                    <!-- Slider Controls -->
                    <div class="flex justify-center items-center mt-10 gap-6">
                        <button @click="prevSlide()" 
                                class="w-14 h-14 rounded-full glass-effect hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-all duration-300 hover-lift">
                            <i class="fas fa-chevron-left text-xl"></i>
                        </button>
                        
                        <div class="flex gap-3">
                            <template x-for="(slide, index) in projectSlides" :key="index">
                                <button @click="goToSlide(index)" 
                                        class="w-3 h-3 rounded-full transition-all duration-300"
                                        :class="currentSlide === index 
                                            ? 'bg-gradient-to-r from-indigo-600 to-purple-600' 
                                            : 'bg-gray-300 dark:bg-gray-600'"></button>
                            </template>
                        </div>
                        
                        <button @click="nextSlide()" 
                                class="w-14 h-14 rounded-full glass-effect hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-center transition-all duration-300 hover-lift">
                            <i class="fas fa-chevron-right text-xl"></i>
                        </button>
                        
                        <button @click="toggleAutoSlide()" 
                                class="ml-6 px-5 py-2.5 rounded-xl flex items-center gap-3 transition-all duration-300 hover-lift"
                                :class="autoSlideEnabled 
                                    ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-white' 
                                    : 'glass-effect text-gray-700 dark:text-gray-300'">
                            <i class="fas" :class="autoSlideEnabled ? 'fa-pause' : 'fa-play'"></i>
                            Auto Slide
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section with Enhanced Layout -->
        <section id="contact" class="py-20 relative overflow-hidden code-bg">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16" data-aos="fade-up">
                    <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                        <span class="section-title">Get In Touch</span>
                    </h2>
                    <p class="text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto leading-relaxed">
                        Ready to bring your ideas to life? Let's collaborate on your next project.
                    </p>
                </div>
                
                <div class="grid lg:grid-cols-3 gap-12 max-w-7xl mx-auto" data-aos="fade-up">
                    <!-- Contact Info -->
                    <div class="lg:col-span-1">
                        <div class="glass-effect rounded-2xl p-8 h-full">
                            <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">
                                <i class="fas fa-id-card mr-3 gradient-text"></i>
                                Contact Information
                            </h3>
                            
                            <div class="space-y-8 mb-10">
                                <div class="flex items-start gap-5">
                                    <div class="w-14 h-14 bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-user text-2xl text-indigo-600 dark:text-indigo-400"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-gray-900 dark:text-white mb-1">Name</h4>
                                        <p class="text-gray-600 dark:text-gray-300" x-text="profile.name"></p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start gap-5">
                                    <div class="w-14 h-14 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-envelope text-2xl text-green-600 dark:text-green-400"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-gray-900 dark:text-white mb-1">Email</h4>
                                        <p class="text-gray-600 dark:text-gray-300" x-text="profile.email"></p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start gap-5">
                                    <div class="w-14 h-14 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl flex items-center justify-center">
                                        <i class="fas fa-phone text-2xl text-purple-600 dark:text-purple-400"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-bold text-gray-900 dark:text-white mb-1">Phone</h4>
                                        <p class="text-gray-600 dark:text-gray-300" x-text="profile.phone"></p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Edit Profile Button (Edit Mode Only) -->
                            <div x-show="!isPublicMode" class="pt-6 border-t border-gray-200 dark:border-gray-700">
                                <button @click="openModal('editProfile')" 
                                        class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white py-4 rounded-xl flex items-center justify-center gap-3 transition-all duration-300 hover-lift">
                                    <i class="fas fa-edit"></i>
                                    Edit Profile
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contact Form -->
                    <div class="lg:col-span-2">
                        <div class="glass-effect rounded-2xl p-8">
                            <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-8">
                                <i class="fas fa-paper-plane mr-3 gradient-text"></i>
                                Send Message
                            </h3>
                            
                            <form @submit.prevent="submitContact">
                                <div class="grid md:grid-cols-2 gap-6 mb-6">
                                    <div>
                                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                            <i class="fas fa-user mr-2 text-indigo-500"></i>
                                            Your Name
                                        </label>
                                        <input type="text" x-model="contactForm.name" 
                                               class="w-full px-5 py-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300"
                                               placeholder="Enter your name"
                                               required>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                            <i class="fas fa-envelope mr-2 text-indigo-500"></i>
                                            Your Email
                                        </label>
                                        <input type="email" x-model="contactForm.email" 
                                               class="w-full px-5 py-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300"
                                               placeholder="Enter your email"
                                               required>
                                    </div>
                                </div>
                                
                                <div class="mb-6">
                                    <label class="block text-gray-700 dark:text-gray-300 mb-3 font-semibold">
                                        <i class="fas fa-message mr-2 text-indigo-500"></i>
                                        Your Message
                                    </label>
                                    <textarea x-model="contactForm.message" rows="6"
                                              class="w-full px-5 py-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-300 resize-none"
                                              placeholder="Tell me about your project or inquiry..."
                                              required></textarea>
                                </div>
                                
                                <button type="submit" 
                                        :disabled="isSubmitting"
                                        class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white py-4 px-8 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-3 hover-lift disabled:opacity-50 disabled:cursor-not-allowed">
                                    <i class="fas text-xl" :class="isSubmitting ? 'fa-spinner fa-spin' : 'fa-paper-plane'"></i>
                                    <span x-text="isSubmitting ? 'Sending...' : 'Send Message'"></span>
                                </button>
                            </form>
                            
                            <!-- Social Links -->
                            <div class="mt-10 pt-8 border-t border-gray-200 dark:border-gray-700">
                                <h4 class="font-bold text-gray-900 dark:text-white mb-6 text-lg">Connect with me</h4>
                                <div class="flex flex-wrap gap-3">
                                    <template x-for="(link, index) in socialLinks" :key="index">
                                        <div class="relative group">
                                            <a :href="link.url" target="_blank" 
                                               :class="getSocialPlatformColorClass(link.platform)"
                                               class="px-5 py-3 rounded-xl flex items-center gap-3 text-white transition-all duration-300 hover-lift min-w-[140px]">
                                                <i :class="link.icon" class="text-lg"></i>
                                                <span class="font-medium" x-text="getSocialPlatformName(link.platform)"></span>
                                            </a>
                                            
                                            <!-- Edit/Delete Social Links (Edit Mode Only) -->
                                            <div x-show="!isPublicMode" class="absolute -top-2 -right-2 hidden group-hover:flex gap-1">
                                                <button @click="editSocialLink(index)" 
                                                        class="w-7 h-7 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-blue-600 transition-colors">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button @click="socialLinks.splice(index, 1)" 
                                                        class="w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center text-xs hover:bg-red-600 transition-colors">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </template>
                                    
                                    <!-- Add Social Link Button (Edit Mode Only) -->
                                    <div x-show="!isPublicMode" class="flex flex-wrap gap-3 mt-4 w-full">
                                        <button @click="addQuickSocialLink('github')" 
                                                class="px-4 py-2 bg-gray-800 hover:bg-gray-900 text-white rounded-lg flex items-center gap-2 transition-colors">
                                            <i class="fab fa-github"></i> Add GitHub
                                        </button>
                                        <button @click="addQuickSocialLink('linkedin')" 
                                                class="px-4 py-2 bg-blue-700 hover:bg-blue-800 text-white rounded-lg flex items-center gap-2 transition-colors">
                                            <i class="fab fa-linkedin-in"></i> Add LinkedIn
                                        </button>
                                        <button @click="addQuickSocialLink('email')" 
                                                class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg flex items-center gap-2 transition-colors">
                                            <i class="fas fa-envelope"></i> Add Email
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-12 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
        <div class="container mx-auto px-6 relative z-10">
            <div class="grid md:grid-cols-3 gap-12 items-center">
                <div>
                    <div class="text-3xl font-bold text-white mb-3">Portfolio<span class="gradient-text">.dev</span></div>
                    <p class="text-gray-400" x-text="profile.name"></p>
                </div>
                
                <div class="flex justify-center">
                    <div class="flex items-center space-x-6">
                        <template x-for="link in socialLinks" :key="link.platform">
                            <a :href="link.url" target="_blank" 
                               class="w-12 h-12 rounded-full glass-effect flex items-center justify-center text-gray-300 hover:text-white hover:scale-110 transition-all duration-300">
                                <i :class="link.icon" class="text-xl"></i>
                            </a>
                        </template>
                    </div>
                </div>
                
                <div class="text-right">
                    <p class="text-sm text-gray-400">&copy; <span x-text="portfolioYear"></span> All rights reserved.</p>
                    <p class="text-sm text-gray-500 mt-2">Crafted with <i class="fas fa-heart text-red-500 mx-1"></i> by Zuyyina</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- ENHANCED MODALS -->

    <!-- Enhanced Add/Edit Skill Modal -->
    <div x-show="modals.addSkill" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 modal-overlay-enhanced flex items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="modal-enhanced bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="modal-header-enhanced">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-white">
                        <i class="fas fa-magic mr-3"></i>
                        <span x-text="editingSkill ? 'Edit Skill' : 'Add New Skill'"></span>
                    </h3>
                    <button @click="closeModal('addSkill')" 
                            class="text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <p class="text-indigo-100 mt-2">
                    Add or edit your skill details with advanced options
                </p>
            </div>
            
            <div class="modal-body-enhanced p-8">
                <!-- Enhanced Skill Form Tabs -->
                <div class="mb-8">
                    <div class="flex border-b border-gray-200 dark:border-gray-700">
                        <button @click="activeSkillTab = 'basic'" 
                                class="tab-enhanced"
                                :class="{'active': activeSkillTab === 'basic'}">
                            <i class="fas fa-info-circle mr-2"></i>
                            Basic Info
                        </button>
                        <button @click="activeSkillTab = 'details'" 
                                class="tab-enhanced"
                                :class="{'active': activeSkillTab === 'details'}">
                            <i class="fas fa-list-alt mr-2"></i>
                            Details
                        </button>
                        <button @click="activeSkillTab = 'advanced'" 
                                class="tab-enhanced"
                                :class="{'active': activeSkillTab === 'advanced'}">
                            <i class="fas fa-cogs mr-2"></i>
                            Advanced
                        </button>
                    </div>
                </div>
                
                <!-- Enhanced Basic Info Tab -->
                <div x-show="activeSkillTab === 'basic'" class="space-y-6">
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">Skill Name *</label>
                        <input type="text" x-model="newSkill.name" 
                               class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                               placeholder="e.g., React, Node.js, MongoDB"
                               required>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">Category *</label>
                        <select x-model="newSkill.category" 
                                class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                            <option value="frontend">Frontend Development</option>
                            <option value="backend">Backend Development</option>
                            <option value="database">Database</option>
                            <option value="mobile">Mobile Development</option>
                            <option value="devops">DevOps</option>
                            <option value="cloud">Cloud Platforms</option>
                            <option value="tools">Development Tools</option>
                            <option value="design">UI/UX Design</option>
                            <option value="ai">AI/ML</option>
                        </select>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-chart-line mr-2"></i>
                            Proficiency Level: <span class="gradient-text font-bold" x-text="newSkill.level + '%'"></span>
                        </label>
                        <input type="range" x-model="newSkill.level" min="0" max="100" step="5"
                               class="w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer">
                        <div class="flex justify-between text-sm text-gray-500 dark:text-gray-400 mt-2">
                            <span class="flex items-center gap-1">
                                <i class="fas fa-seedling"></i> Beginner
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-chart-line"></i> Intermediate
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-rocket"></i> Advanced
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-fire"></i> Expert
                            </span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-calendar-alt mr-2"></i>
                                Years of Experience
                            </label>
                            <input type="number" x-model="newSkill.years" min="0" max="50"
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                        </div>
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-project-diagram mr-2"></i>
                                Projects Completed
                            </label>
                            <input type="number" x-model="newSkill.projects" min="0"
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Details Tab -->
                <div x-show="activeSkillTab === 'details'" class="space-y-6">
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-align-left mr-2"></i>
                            Description
                        </label>
                        <textarea x-model="newSkill.description" rows="4"
                                  class="form-input-enhanced w-full px-5 py-3 rounded-lg resize-none"
                                  placeholder="Describe your experience with this skill, key projects, and achievements..."></textarea>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-certificate mr-2"></i>
                            Certifications
                        </label>
                        <div class="flex gap-3 mb-3">
                            <input type="text" x-model="certificationInput" 
                                   @keyup.enter="addCertification()"
                                   class="form-input-enhanced flex-1 px-5 py-3 rounded-lg"
                                   placeholder="Add certification...">
                            <button @click="addCertification()" type="button"
                                    class="modal-btn-animate bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg transition-all duration-300">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <template x-for="(cert, index) in newSkill.certifications" :key="index">
                                <span class="tech-tag-enhanced">
                                    <i class="fas fa-certificate"></i>
                                    <span x-text="cert"></span>
                                    <button @click="removeCertification(index)" type="button"
                                            class="ml-2 hover:text-red-200 transition-colors">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </span>
                            </template>
                        </div>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-tags mr-2"></i>
                            Tags
                        </label>
                        <div class="flex gap-3 mb-3">
                            <input type="text" x-model="tagInput" 
                                   @keyup.enter="addTag()"
                                   class="form-input-enhanced flex-1 px-5 py-3 rounded-lg"
                                   placeholder="Add tag...">
                            <button @click="addTag()" type="button"
                                    class="modal-btn-animate bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-6 py-3 rounded-lg transition-all duration-300">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <template x-for="(tag, index) in newSkill.tags" :key="index">
                                <span class="px-3 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-lg flex items-center gap-2">
                                    <i class="fas fa-tag text-sm"></i>
                                    <span x-text="tag"></span>
                                    <button @click="removeTag(index)" type="button"
                                            class="text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </span>
                            </template>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Advanced Tab -->
                <div x-show="activeSkillTab === 'advanced'" class="space-y-6">
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-icons mr-2"></i>
                            Custom Icon
                        </label>
                        <div class="flex items-center gap-6">
                            <div class="text-4xl p-4 rounded-xl bg-gray-100 dark:bg-gray-700" :class="newSkill.icon"></div>
                            <div class="flex-1">
                                <input type="text" x-model="newSkill.icon" 
                                       class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                       placeholder="fas fa-code">
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                                    Use Font Awesome icon classes. Example: <code class="bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">fab fa-react</code>
                                </p>
                            </div>
                            <button @click="newSkill.icon = getCategoryIcon(newSkill.category)" 
                                    type="button"
                                    class="modal-btn-animate bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-all duration-300">
                                Default Icon
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-fingerprint mr-2"></i>
                            Custom ID
                        </label>
                        <input type="text" x-model="newSkill.customId" 
                               class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                               placeholder="Optional unique identifier">
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                            Leave empty for auto-generated ID
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Enhanced Navigation Buttons -->
            <div class="modal-footer-enhanced">
                <div class="flex justify-between items-center">
                    <button type="button" 
                            @click="prevSkillTab()"
                            :disabled="activeSkillTab === 'basic'"
                            class="modal-btn-animate px-8 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3">
                        <i class="fas fa-arrow-left"></i>
                        Previous
                    </button>
                    
                    <button type="button" 
                            @click="activeSkillTab === 'basic' ? activeSkillTab = 'details' : activeSkillTab === 'details' ? activeSkillTab = 'advanced' : addNewSkill()"
                            :disabled="!newSkill.name"
                            class="modal-btn-animate px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3">
                        <template x-if="activeSkillTab === 'advanced'">
                            <span>
                                <i class="fas fa-check mr-2"></i>
                                <span x-text="editingSkill ? 'Update Skill' : 'Add Skill'"></span>
                            </span>
                        </template>
                        <template x-if="activeSkillTab !== 'advanced'">
                            <span>
                                Next Step
                                <i class="fas fa-arrow-right ml-2"></i>
                            </span>
                        </template>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Add/Edit Project Modal -->
    <div x-show="modals.addProject" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 modal-overlay-enhanced flex items-center justify-center z-50 p-4 overflow-y-auto">
        <div class="modal-enhanced bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="modal-header-enhanced">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-white">
                        <i class="fas fa-rocket mr-3"></i>
                        <span x-text="editingProject ? 'Edit Project' : 'Add New Project'"></span>
                    </h3>
                    <button @click="closeModal('addProject')" 
                            class="text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                
                <p class="text-indigo-100 mt-2">
                    Showcase your project with detailed information and media
                </p>
            </div>
            
            <div class="modal-body-enhanced p-8">
                <!-- Enhanced Project Form Tabs -->
                <div class="mb-8">
                    <div class="flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto">
                        <button @click="activeProjectTab = 'basic'" 
                                class="tab-enhanced whitespace-nowrap"
                                :class="{'active': activeProjectTab === 'basic'}">
                            <i class="fas fa-info-circle mr-2"></i>
                            Basic Info
                        </button>
                        <button @click="activeProjectTab = 'tech'" 
                                class="tab-enhanced whitespace-nowrap"
                                :class="{'active': activeProjectTab === 'tech'}">
                            <i class="fas fa-code mr-2"></i>
                            Technologies
                        </button>
                        <button @click="activeProjectTab = 'media'" 
                                class="tab-enhanced whitespace-nowrap"
                                :class="{'active': activeProjectTab === 'media'}">
                            <i class="fas fa-image mr-2"></i>
                            Media & Links
                        </button>
                        <button @click="activeProjectTab = 'details'" 
                                class="tab-enhanced whitespace-nowrap"
                                :class="{'active': activeProjectTab === 'details'}">
                            <i class="fas fa-clipboard-list mr-2"></i>
                            Details
                        </button>
                    </div>
                </div>
                
                <!-- Enhanced Basic Info Tab -->
                <div x-show="activeProjectTab === 'basic'" class="space-y-6">
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-project-diagram mr-2"></i>
                            Project Name *
                        </label>
                        <input type="text" x-model="newProject.name" 
                               class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                               placeholder="e.g., E-Commerce Platform, Task Manager App"
                               required>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-align-left mr-2"></i>
                            Description *
                        </label>
                        <textarea x-model="newProject.description" rows="4"
                                  class="form-input-enhanced w-full px-5 py-3 rounded-lg resize-none"
                                  placeholder="Describe the project, its purpose, key features, and your role..."
                                  required></textarea>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-layer-group mr-2"></i>
                                Project Type
                            </label>
                            <select x-model="newProject.type" 
                                    class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                                <option value="web"> Web Application</option>
                                <option value="mobile"> Mobile App</option>
                                <option value="api"> API</option>
                                <option value="desktop"> Desktop</option>
                                <option value="ai"> AI/ML</option>
                                <option value="saas"> SaaS</option>
                            </select>
                        </div>
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-tasks mr-2"></i>
                                Status
                            </label>
                            <select x-model="newProject.status" 
                                    class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                                <option value="completed"> Completed</option>
                                <option value="in-progress"> In Progress</option>
                                <option value="planned"> Planned</option>
                                <option value="on-hold"> On Hold</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-calendar-plus mr-2"></i>
                                Start Date
                            </label>
                            <input type="date" x-model="newProject.startDate" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                        </div>
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-calendar-check mr-2"></i>
                                End Date
                            </label>
                            <input type="date" x-model="newProject.endDate" 
                                   :disabled="newProject.isOngoing"
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg disabled:opacity-50">
                            <label class="flex items-center mt-3">
                                <input type="checkbox" x-model="newProject.isOngoing" 
                                       class="mr-3 w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                <span class="text-gray-600 dark:text-gray-400">Ongoing Project</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Technologies Tab -->
                <div x-show="activeProjectTab === 'tech'" class="space-y-6">
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-tools mr-2"></i>
                            Technologies Used
                        </label>
                        <div class="flex gap-3 mb-3">
                            <input type="text" x-model="techInput" 
                                   @keyup.enter="addTechnology()"
                                   class="form-input-enhanced flex-1 px-5 py-3 rounded-lg"
                                   placeholder="Add technology...">
                            <button @click="addTechnology()" type="button"
                                    class="modal-btn-animate bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg transition-all duration-300">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                        
                        <!-- Enhanced Popular Technologies Suggestions -->
                        <div class="mb-6">
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3 font-medium">Quick Add:</p>
                            <div class="flex flex-wrap gap-2">
                                <template x-for="tech in popularTechnologies.slice(0, 15)" :key="tech">
                                    <button @click="addTechFromSuggestion(tech)" type="button"
                                            class="modal-btn-animate px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-300"
                                            :class="{'bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200': newProject.technologies.includes(tech)}">
                                        <i :class="getTechIcon(tech)" class="mr-2"></i>
                                        <span x-text="tech"></span>
                                    </button>
                                </template>
                            </div>
                        </div>
                        
                        <!-- Enhanced Selected Technologies -->
                        <div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-3 font-medium">Selected Technologies:</p>
                            <div class="flex flex-wrap gap-2">
                                <template x-for="tech in newProject.technologies" :key="tech">
                                    <span class="tech-tag-enhanced">
                                        <i :class="getTechIcon(tech)"></i>
                                        <span x-text="tech"></span>
                                        <button @click="removeTech(tech)" type="button"
                                                class="ml-2 hover:text-red-200 transition-colors">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </span>
                                </template>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-user-tie mr-2"></i>
                                Your Role
                            </label>
                            <input type="text" x-model="newProject.role" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                   placeholder="e.g., Full Stack Developer, Lead Developer">
                        </div>
                        
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-users mr-2"></i>
                                Team Size
                            </label>
                            <input type="number" x-model="newProject.teamSize" min="1" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Media & Links Tab -->
                <div x-show="activeProjectTab === 'media'" class="space-y-6">
                    <!-- Enhanced Image Upload -->
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-image mr-2"></i>
                            Project Image
                        </label>
                        <div @dragover.prevent @drop.prevent="handleDrop($event)" 
                             @click="triggerFileInput()"
                             class="border-3 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-12 text-center cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-500 transition-all duration-300 bg-gray-50 dark:bg-gray-900/50">
                            <div class="relative">
                                <div x-show="uploadingImage" class="absolute inset-0 bg-black/70 rounded-2xl flex items-center justify-center z-10">
                                    <div class="text-white text-center">
                                        <i class="fas fa-spinner fa-spin text-4xl mb-3"></i>
                                        <p class="text-lg font-medium">Uploading Image...</p>
                                        <p class="text-sm text-gray-300 mt-1">Please wait</p>
                                    </div>
                                </div>
                                
                                <div x-show="!newProject.image" class="space-y-6">
                                    <div class="text-5xl text-gray-400 mb-4">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div>
                                        <p class="text-xl font-medium text-gray-700 dark:text-gray-300">Drag & drop or click to upload</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Recommended: 1200x800px (Max 2MB)</p>
                                        <p class="text-xs text-gray-400 dark:text-gray-500 mt-1">PNG, JPG, or WebP format</p>
                                    </div>
                                </div>
                                
                                <div x-show="newProject.image" class="relative">
                                    <img :src="newProject.image" alt="Project Preview" class="mx-auto max-h-64 rounded-xl shadow-lg">
                                    <button @click.stop="newProject.image = ''" type="button"
                                            class="absolute top-3 right-3 bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-lg transition-colors">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-3">Click to change image</p>
                                </div>
                            </div>
                            
                            <input type="file" id="projectImageInput" accept="image/*" @change="uploadImage" class="hidden">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-external-link-alt mr-2"></i>
                                Live Demo URL
                            </label>
                            <input type="url" x-model="newProject.demoUrl" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                   placeholder="https://demo.example.com">
                        </div>
                        
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fab fa-github mr-2"></i>
                                Source Code URL
                            </label>
                            <input type="url" x-model="newProject.sourceUrl" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                   placeholder="https://github.com/username/project">
                        </div>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-building mr-2"></i>
                            Client/Company (Optional)
                        </label>
                        <input type="text" x-model="newProject.client" 
                               class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                               placeholder="Client or company name">
                    </div>
                </div>
                
                <!-- Enhanced Details Tab -->
                <div x-show="activeProjectTab === 'details'" class="space-y-6">
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-star mr-2"></i>
                            Key Features
                        </label>
                        <textarea x-model="newProject.features" rows="4"
                                  class="form-input-enhanced w-full px-5 py-3 rounded-lg resize-none"
                                  placeholder="List key features, one per line...
 Real-time updates
 User authentication
 Payment integration
 Admin dashboard"></textarea>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                            Use bullet points or one feature per line
                        </p>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-lightbulb mr-2"></i>
                            Challenges & Solutions
                        </label>
                        <textarea x-model="newProject.challenges" rows="4"
                                  class="form-input-enhanced w-full px-5 py-3 rounded-lg resize-none"
                                  placeholder="Describe challenges faced and how you solved them...
Challenge: Scaling for 10k+ users
Solution: Implemented Redis caching and load balancing
Challenge: Complex data modeling
Solution: Used MongoDB aggregation pipelines"></textarea>
                    </div>
                </div>
            </div>
            
            <!-- Enhanced Navigation Buttons -->
            <div class="modal-footer-enhanced">
                <div class="flex justify-between items-center">
                    <button type="button" 
                            @click="prevProjectTab()"
                            :disabled="activeProjectTab === 'basic'"
                            class="modal-btn-animate px-8 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3">
                        <i class="fas fa-arrow-left"></i>
                        Previous
                    </button>
                    
                    <button type="button" 
                            @click="activeProjectTab === 'basic' ? activeProjectTab = 'tech' : activeProjectTab === 'tech' ? activeProjectTab = 'media' : activeProjectTab === 'media' ? activeProjectTab = 'details' : addNewProject()"
                            :disabled="!newProject.name || !newProject.description"
                            class="modal-btn-animate px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3">
                        <template x-if="activeProjectTab === 'details'">
                            <span>
                                <i class="fas fa-rocket mr-2"></i>
                                <span x-text="editingProject ? 'Update Project' : 'Launch Project'"></span>
                            </span>
                        </template>
                        <template x-if="activeProjectTab !== 'details'">
                            <span>
                                Continue
                                <i class="fas fa-arrow-right ml-2"></i>
                            </span>
                        </template>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Project Detail Modal -->
    <div x-show="modals.projectDetail" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 modal-overlay-enhanced flex items-center justify-center z-50 p-4 overflow-y-auto">
        <div x-show="selectedProject" class="modal-enhanced bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto">
            <div class="modal-header-enhanced">
                <div class="flex justify-between items-center">
                    <div>
                        <h3 class="text-3xl font-bold text-white mb-2" x-text="selectedProject?.name"></h3>
                        <div class="flex items-center gap-4">
                            <span class="px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm font-medium">
                                <i class="fas fa-layer-group mr-2"></i>
                                <span x-text="getProjectTypeName(selectedProject?.type)"></span>
                            </span>
                            <span :class="getProjectStatusClass(selectedProject?.status)" 
                                  class="px-4 py-2 rounded-full text-sm font-medium">
                                <i class="fas fa-circle mr-2 text-xs"></i>
                                <span x-text="selectedProject?.status"></span>
                            </span>
                            <span class="text-indigo-100">
                                <i class="fas fa-calendar-alt mr-2"></i>
                                <span x-text="selectedProject?.date"></span>
                            </span>
                        </div>
                    </div>
                    <button @click="closeModal('projectDetail')" 
                            class="text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="modal-body-enhanced p-8">
                <div class="space-y-8">
                    <!-- Large Project Image -->
                    <div class="rounded-2xl overflow-hidden shadow-2xl">
                        <img :src="selectedProject?.image" 
                             :alt="selectedProject?.name" 
                             @error="handleProjectImageError($event, selectedProject?.id)"
                             class="project-image-large">
                    </div>
                    
                    <div class="grid lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 space-y-8">
                            <!-- Project Overview -->
                            <div class="form-section-enhanced">
                                <h4 class="text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-3">
                                    <i class="fas fa-binoculars text-indigo-600"></i>
                                    Project Overview
                                </h4>
                                <p class="text-gray-600 dark:text-gray-300 leading-relaxed" x-text="selectedProject?.description"></p>
                            </div>
                            
                            <!-- Key Features -->
                            <div x-show="selectedProject?.features && selectedProject?.features.length > 0" 
                                 class="form-section-enhanced">
                                <h4 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                                    <i class="fas fa-star text-yellow-500"></i>
                                    Key Features
                                </h4>
                                <ul class="feature-list-enhanced">
                                    <template x-for="feature in selectedProject?.features" :key="feature">
                                        <li>
                                            <i class="fas fa-check-circle text-green-500"></i>
                                            <span x-text="feature"></span>
                                        </li>
                                    </template>
                                </ul>
                            </div>
                            
                            <!-- Technologies Used -->
                            <div x-show="selectedProject?.technologies && selectedProject?.technologies.length > 0" 
                                 class="form-section-enhanced">
                                <h4 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-3">
                                    <i class="fas fa-code text-blue-500"></i>
                                    Technologies Used
                                </h4>
                                <div class="flex flex-wrap gap-3">
                                    <template x-for="tech in selectedProject?.technologies" :key="tech">
                                        <span class="tech-tag-enhanced">
                                            <i :class="getTechIcon(tech)"></i>
                                            <span x-text="tech"></span>
                                        </span>
                                    </template>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sidebar Info -->
                        <div class="space-y-6">
                            <!-- Project Stats -->
                            <div class="form-section-enhanced">
                                <h4 class="text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                                    <i class="fas fa-chart-bar"></i>
                                    Project Info
                                </h4>
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Type</span>
                                        <span class="font-semibold" x-text="getProjectTypeName(selectedProject?.type)"></span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Status</span>
                                        <span class="font-semibold" x-text="selectedProject?.status"></span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Date</span>
                                        <span class="font-semibold" x-text="selectedProject?.date"></span>
                                    </div>
                                    <div x-show="selectedProject?.role" class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Role</span>
                                        <span class="font-semibold" x-text="selectedProject?.role"></span>
                                    </div>
                                    <div x-show="selectedProject?.teamSize" class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Team Size</span>
                                        <span class="font-semibold" x-text="selectedProject?.teamSize"></span>
                                    </div>
                                    <div x-show="selectedProject?.client" class="flex justify-between items-center">
                                        <span class="text-gray-600 dark:text-gray-400">Client</span>
                                        <span class="font-semibold" x-text="selectedProject?.client"></span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Action Buttons -->
                            <div class="space-y-4">
                                <div x-show="selectedProject?.demoUrl">
                                    <a :href="selectedProject?.demoUrl" target="_blank" 
                                       class="modal-btn-animate block w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white text-center py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-3">
                                        <i class="fas fa-external-link-alt"></i>
                                        View Live Demo
                                    </a>
                                </div>
                                
                                <div x-show="selectedProject?.sourceUrl">
                                    <a :href="selectedProject?.sourceUrl" target="_blank" 
                                       class="modal-btn-animate block w-full bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-900 hover:to-black text-white text-center py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-3">
                                        <i class="fab fa-github"></i>
                                        View Source Code
                                    </a>
                                </div>
                                
                                <!-- Edit/Delete Buttons (Edit Mode Only) -->
                                <div x-show="!isPublicMode" class="space-y-3">
                                    <button @click="editProject(selectedProject); closeModal('projectDetail')" 
                                            class="modal-btn-animate w-full bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-3">
                                        <i class="fas fa-edit"></i>
                                        Edit Project
                                    </button>
                                    <button @click="confirmDelete('project', selectedProject?.id, selectedProject?.name); closeModal('projectDetail')" 
                                            class="modal-btn-animate w-full bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white py-4 rounded-xl font-bold transition-all duration-300 flex items-center justify-center gap-3">
                                        <i class="fas fa-trash"></i>
                                        Delete Project
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Edit Profile Modal -->
    <div x-show="modals.editProfile" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 modal-overlay-enhanced flex items-center justify-center z-50 p-4">
        <div class="modal-enhanced bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full">
            <div class="modal-header-enhanced">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-white">
                        <i class="fas fa-user-cog mr-3"></i> Edit Profile
                    </h3>
                    <button @click="closeModal('editProfile')" 
                            class="text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <p class="text-indigo-100 mt-2">
                    Update your professional information
                </p>
            </div>
            
            <div class="modal-body-enhanced p-8">
                <div class="space-y-8">
                    <!-- Enhanced Profile Image Section -->
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced mb-4">
                            <i class="fas fa-portrait mr-2"></i>
                            Profile Image
                        </label>
                        <div class="flex items-center gap-8">
                            <div class="relative">
                                <div class="relative rounded-full overflow-hidden border-4 border-white dark:border-gray-800 shadow-xl w-32 h-32">
                                    <img :src="profileImageSrc" alt="Profile" 
                                         class="w-full h-full object-cover">
                                </div>
                                <label for="editProfileImageUpload" 
                                       class="absolute bottom-2 right-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white p-3 rounded-full cursor-pointer shadow-lg transition-all duration-300">
                                    <i class="fas fa-camera"></i>
                                    <input id="editProfileImageUpload" type="file" accept="image/*" @change="uploadProfileImage" class="hidden">
                                </label>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-900 dark:text-white text-lg">Upload New Photo</h4>
                                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Recommended: Square image, min 400x400px</p>
                                <p class="text-xs text-gray-500 dark:text-gray-500 mt-1">Max file size: 2MB</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Enhanced Profile Form -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-user mr-2"></i>
                                Full Name *
                            </label>
                            <input type="text" x-model="profile.name" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                   required>
                        </div>
                        
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-briefcase mr-2"></i>
                                Job Title *
                            </label>
                            <input type="text" x-model="profile.title" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                   required>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-envelope mr-2"></i>
                                Email *
                            </label>
                            <input type="email" x-model="profile.email" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg"
                                   required>
                        </div>
                        
                        <div class="form-section-enhanced">
                            <label class="form-label-enhanced">
                                <i class="fas fa-phone mr-2"></i>
                                Phone
                            </label>
                            <input type="tel" x-model="profile.phone" 
                                   class="form-input-enhanced w-full px-5 py-3 rounded-lg">
                        </div>
                    </div>
                    
                    <div class="form-section-enhanced">
                        <label class="form-label-enhanced">
                            <i class="fas fa-align-left mr-2"></i>
                            Bio *
                        </label>
                        <textarea x-model="profile.bio" rows="4"
                                  class="form-input-enhanced w-full px-5 py-3 rounded-lg resize-none"
                                  required></textarea>
                    </div>
                </div>
            </div>
            
            <!-- Enhanced Footer Buttons -->
            <div class="modal-footer-enhanced">
                <div class="flex justify-end gap-4">
                    <button @click="closeModal('editProfile')" 
                            class="modal-btn-animate px-8 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300">
                        Cancel
                    </button>
                    <button @click="updateProfile()" 
                            class="modal-btn-animate px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl transition-all duration-300">
                        Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Delete Confirmation Modal -->
    <div x-show="modals.deleteConfirm" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 modal-overlay-enhanced flex items-center justify-center z-50 p-4">
        <div class="modal-enhanced bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full">
            <div class="modal-header-enhanced">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-white">
                        <i class="fas fa-exclamation-triangle mr-3"></i>
                        Confirm Deletion
                    </h3>
                    <button @click="closeModal('deleteConfirm')" 
                            class="text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
            </div>
            
            <div class="modal-body-enhanced p-8">
                <div class="text-center">
                    <div class="mx-auto flex items-center justify-center h-20 w-20 rounded-full bg-red-100 dark:bg-red-900/30 mb-6">
                        <i class="fas fa-trash-alt text-3xl text-red-600 dark:text-red-400"></i>
                    </div>
                    
                    <h4 class="text-xl font-bold text-gray-900 dark:text-white mb-3">
                        Delete <span class="text-red-600" x-text="deleteItem.name"></span>?
                    </h4>
                    
                    <p class="text-gray-600 dark:text-gray-300 mb-6 leading-relaxed">
                        Are you sure you want to delete this item? This action cannot be undone and all associated data will be permanently removed.
                    </p>
                    
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-500 p-4 rounded-r-lg mb-6 text-left">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <i class="fas fa-exclamation-circle text-yellow-500"></i>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-yellow-700 dark:text-yellow-300">
                                    <span class="font-medium">Warning:</span> This action is permanent and cannot be reversed.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer-enhanced">
                <div class="flex justify-center gap-4">
                    <button @click="closeModal('deleteConfirm')" 
                            class="modal-btn-animate px-8 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300 w-40">
                        Cancel
                    </button>
                    <button @click="executeDelete()" 
                            class="modal-btn-animate px-8 py-3 bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-700 hover:to-pink-700 text-white rounded-xl transition-all duration-300 w-40">
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Auth Modal -->
    <div x-show="showAuthModal" x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
         class="fixed inset-0 modal-overlay-enhanced flex items-center justify-center z-50 p-4">
        <div class="modal-enhanced bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full">
            <div class="modal-header-enhanced">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-white">
                        <i class="fas fa-lock-open mr-3"></i>Login Diperlukan
                    </h3>
                    <button @click="showAuthModal = false" 
                            class="text-white hover:text-gray-200 transition-colors">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <p class="text-indigo-100 mt-2">
                    Akses mode edit untuk mengelola portfolio Anda
                </p>
            </div>
            
            <div class="modal-body-enhanced p-8">
                <div class="space-y-6">
                    <div class="text-center">
                        <div class="text-5xl text-indigo-600 dark:text-indigo-400 mb-4">
                            <i class="fas fa-user-edit"></i>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300">
                            Login dengan Google untuk mengaktifkan mode edit dan menyimpan perubahan Anda ke cloud.
                        </p>
                    </div>
                    
                    <div class="space-y-4">
                        <button @click="loginWithGoogle(); showAuthModal = false" 
                                class="modal-btn-animate w-full bg-white border-2 border-gray-300 hover:bg-gray-50 text-gray-700 px-6 py-4 rounded-xl flex items-center justify-center gap-4 transition-all duration-300 shadow-sm hover:shadow-md">
                            <i class="fab fa-google text-2xl text-red-500"></i>
                            <div class="text-left">
                                <div class="font-bold">Login dengan Google</div>
                                <div class="text-sm text-gray-500">Menggunakan akun Google Anda</div>
                            </div>
                        </button>
                        
                        <div class="text-center text-sm text-gray-500 dark:text-gray-400 pt-4 border-t border-gray-200 dark:border-gray-700">
                            <i class="fas fa-shield-alt mr-2"></i>
                            Data Anda aman dan terenkripsi
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBAuVIJp4jZCzxuBIBFez2SdLMi7MNHNJk",
            authDomain: "portofolio-4a7eb.firebaseapp.com",
            projectId: "portofolio-4a7eb",
            storageBucket: "portofolio-4a7eb.firebasestorage.app",
            messagingSenderId: "36345970852",
            appId: "1:36345970852:web:d0a47e15126f7038fce631"
        };

        // Predefined public portfolio data
        const predefinedPublicData = {
            profile: {
                name: 'Zuyyina Firdausi Muhammad',
                title: 'Full Stack Developer',
                email: 'muhammadzuyyina@gmail.com',
                phone: '+62 822 9569 2941',
                bio: 'Experienced Full Stack Developer with expertise in modern web technologies. Passionate about creating efficient, scalable, and user-friendly applications.',
                image: null
            },
            skills: [
                {
                    id: 1,
                    name: 'React',
                    category: 'frontend',
                    level: 95,
                    years: 3,
                    projects: 15,
                    icon: 'fab fa-react',
                    description: 'Modern React with Hooks, Context API, and advanced patterns'
                },
                // ... (skills data remains the same)
            ],
            projects: [
                {
                    id: 1,
                    name: 'E-Commerce Platform',
                    description: 'A full-featured e-commerce platform with real-time inventory management, payment processing, and customer analytics. Built with React, Node.js, and MongoDB.',
                    type: 'web',
                    technologies: ['React', 'Node.js', 'MongoDB', 'Express.js', 'Tailwind CSS', 'Stripe API'],
                    image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
                    demoUrl: '#',
                    sourceUrl: '#',
                    features: ['Real-time inventory', 'Payment integration', 'Admin dashboard', 'Customer analytics'],
                    status: 'completed',
                    date: '2024'
                },
                // ... (projects data remains the same)
            ],
            socialLinks: [
                // ... (social links data remains the same)
            ]
        };

        function portfolio() {
            return {
                // ... (all existing portfolio function code remains the same)
                // The only change needed is in the init method for enhanced loading
                
                init() {
                    console.log(' Portfolio initialization started');
                    
                    // Initialize AOS
                    if (typeof AOS !== 'undefined') {
                        AOS.init({
                            duration: 800,
                            easing: 'ease-in-out',
                            once: true,
                            mirror: false
                        });
                    }
                    
                    this.setupEventListeners();
                    
                    const savedTheme = localStorage.getItem('theme');
                    this.isDark = savedTheme ? savedTheme === 'dark' : true;

                    this.initParticles();

                    this.isOnline = navigator.onLine;
                    console.log(' Online status:', this.isOnline);
                    
                    window.addEventListener('online', () => {
                        this.isOnline = true;
                        console.log(' Went online');
                        this.showToastMessage('You are back online', 'success');
                        if (this.isOnline) {
                            setTimeout(() => this.initFirebasePublic(), 1000);
                        }
                    });
                    
                    window.addEventListener('offline', () => {
                        this.isOnline = false;
                        console.log(' Went offline');
                        this.showToastMessage('You are offline', 'warning');
                    });

                    // Cek jika user sudah login sebelumnya
                    const savedAuth = localStorage.getItem('firebase_auth');
                    if (savedAuth) {
                        try {
                            const authData = JSON.parse(savedAuth);
                            console.log(' Found saved auth data:', authData.email);
                            
                            // Set user data
                            this.userId = authData.uid;
                            this.userEmail = authData.email;
                            this.isOwner = true;
                            this.isPublicMode = false;
                            
                            console.log(' Restored login from localStorage');
                            
                        } catch (e) {
                            console.error('Error parsing saved auth:', e);
                        }
                    }

                    console.log(' Initializing Firebase for public access...');
                    
                    // Simulate enhanced loading progress
                    this.simulateLoadingProgress();
                    
                    setTimeout(() => {
                        this.initFirebasePublic();
                    }, 1000);
                    
                    this.updateProjectSlides();
                },

                // New method for enhanced loading simulation
                simulateLoadingProgress() {
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += Math.random() * 15;
                        if (progress >= 100) {
                            progress = 100;
                            clearInterval(interval);
                        }
                        this.loadingProgress = Math.min(progress, 100);
                        
                        // Update loading message based on progress
                        if (this.loadingProgress < 30) {
                            this.loadingMessage = 'Initializing...';
                        } else if (this.loadingProgress < 60) {
                            this.loadingMessage = 'Loading assets...';
                        } else if (this.loadingProgress < 90) {
                            this.loadingMessage = 'Finalizing...';
                        } else {
                            this.loadingMessage = 'Ready!';
                        }
                    }, 300);
                },

                // Update the loadPublicData method to finish loading
                loadPublicData() {
                    if (!this.firestore || !this.isOnline) {
                        console.log(' Cannot load from Firebase: Firestore or internet not available');
                        this.usePredefinedData();
                        this.loadingProgress = 100;
                        setTimeout(() => {
                            this.isLoading = false;
                        }, 500);
                        return;
                    }
                    
                    console.log(' Loading public data from Firebase...');
                    
                    const timeoutPromise = new Promise((_, reject) => {
                        setTimeout(() => {
                            reject(new Error('Timeout loading data from Firebase'));
                        }, 10000);
                    });
                    
                    const loadPromise = this.firestore.collection('publicPortfolios').doc('main').get();
                    
                    Promise.race([loadPromise, timeoutPromise])
                        .then((doc) => {
                            if (doc.exists) {
                                const data = doc.data();
                                console.log(' Public data loaded successfully from Firebase');
                                
                                this.updateDataFromFirebase(data);
                                
                                if (data.lastUpdated) {
                                    this.lastSyncTime = new Date(data.lastUpdated.toDate()).toLocaleString();
                                } else {
                                    this.lastSyncTime = 'Recently';
                                }
                                
                                this.dataStatus = 'synced';
                                this.showToastMessage('Portfolio data loaded from cloud', 'success');
                                
                            } else {
                                console.log(' No public data found in Firebase, using predefined data');
                                this.usePredefinedData();
                            }
                        })
                        .catch((error) => {
                            console.error(' Load public data error:', error);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                        })
                        .finally(() => {
                            this.loadingProgress = 100;
                            setTimeout(() => {
                                this.isLoading = false;
                                console.log(' Portfolio loaded successfully');
                            }, 800);
                        });
                },
                
                // ... (rest of the portfolio function remains the same)
            };
        }
          function portfolio() {
            return {
                // STATE BARU: Mode Management
                isPublicMode: true,
                isOwner: false,
                showAuthModal: false,
                
                // STATE YANG DIUPDATE: Load status
                isLoading: true,
                loadingMessage: 'Loading portfolio...',
                loadingProgress: 0,
                portfolioDataLoaded: false,

                // State lainnya
                isDark: true,
                mobileMenu: false,
                activeSection: 'home',
                scrollProgress: 0,
                isAtTop: true,
                showToast: false,
                toastMessage: '',
                toastType: 'success',
                showDataPanel: false,
                techInput: '',
                certificationInput: '',
                tagInput: '',
                activeSkillCategory: 'all',
                activeSkillTab: 'basic',
                activeProjectTab: 'basic',
                selectedProject: null,
                editingSkill: null,
                editingProject: null,
                uploadingImage: false,
                uploadingProfileImage: false,
                isSubmitting: false,
                deleteItem: { type: '', id: null, name: '' },

                // Firebase State
                firebaseApp: null,
                firestore: null,
                auth: null,
                userId: null,
                userEmail: null,
                isOnline: false,
                isSyncing: false,
                syncHistory: [],
                lastSyncTime: 'Never',

                // Data Status
                dataStatus: 'synced',
                storageAvailable: true,
                dataIntegrity: false,
                storageUsage: '0 KB',

                // Project Slider State
                projectView: 'grid',
                currentSlide: 0,
                projectSlides: [],
                autoSlideEnabled: false,
                autoSlideInterval: null,
                projectsPerSlide: 3,

                // Storage Configuration
                storageConfig: {
                    maxImageSize: 1 * 1024 * 1024,
                    compressionQuality: 0.7,
                    enableCompression: true,
                    maxTotalSize: 5 * 1024 * 1024,
                    backupCount: 3
                },

                // Profile Data
                profile: { ...predefinedPublicData.profile },
                skills: [...predefinedPublicData.skills],
                projects: [...predefinedPublicData.projects],
                socialLinks: [...predefinedPublicData.socialLinks],
                portfolioYear: new Date().getFullYear(),

                // Navigation
                navItems: [
                    { name: 'Home', href: '#home' },
                    { name: 'Skills', href: '#skills' },
                    { name: 'Projects', href: '#projects' },
                    { name: 'Contact', href: '#contact' }
                ],

                // Skill Categories
                skillCategories: [
                    'frontend', 'backend', 'database', 'mobile', 
                    'devops', 'cloud', 'tools', 'design', 'ai'
                ],

                // Popular Technologies
                popularTechnologies: [
                    'HTML5', 'CSS3', 'JavaScript', 'TypeScript', 'React', 'Vue.js', 'Angular', 
                    'Svelte', 'Next.js', 'Nuxt.js', 'Tailwind CSS', 'Bootstrap', 'SASS/SCSS',
                    'Node.js', 'Express.js', 'Python', 'Django', 'Flask', 'PHP', 'Laravel', 
                    'Java', 'Spring Boot', 'Go', 'Ruby', 'Ruby on Rails', 'C#', '.NET',
                    'MongoDB', 'MySQL', 'PostgreSQL', 'Firebase', 'Redis', 'SQLite', 'Supabase',
                    'React Native', 'Flutter', 'Electron', 'Swift', 'Kotlin',
                    'Docker', 'Kubernetes', 'AWS', 'Google Cloud', 'Azure', 'Vercel', 'Netlify',
                    'Git', 'GitHub Actions', 'Jenkins', 'Nginx',
                    'GraphQL', 'REST API', 'Jest', 'Cypress', 'Webpack', 'Figma', 'Adobe XD'
                ],

                // New Skill Data
                newSkill: {
                    name: '',
                    category: 'frontend',
                    level: 50,
                    years: 1,
                    projects: 0,
                    icon: 'fas fa-code',
                    description: '',
                    certifications: [],
                    tags: [],
                    customId: ''
                },

                // New Project Data
                newProject: {
                    name: '',
                    description: '',
                    type: 'web',
                    technologies: [],
                    image: '',
                    demoUrl: '',
                    sourceUrl: '',
                    startDate: '',
                    endDate: '',
                    isOngoing: false,
                    role: '',
                    teamSize: 1,
                    status: 'completed',
                    client: '',
                    challenges: '',
                    features: []
                },

                // Contact Form
                contactForm: {
                    name: '',
                    email: '',
                    message: ''
                },

                // Modals
                modals: {
                    projectDetail: false,
                    addProject: false,
                    addSkill: false,
                    editProfile: false,
                    deleteConfirm: false
                },

                // COMPUTED PROPERTIES
                get filteredSkills() {
                    if (this.activeSkillCategory === 'all') {
                        return this.skills;
                    }
                    return this.skills.filter(skill => skill.category === this.activeSkillCategory);
                },

                get averageSkillLevel() {
                    if (this.skills.length === 0) return 0;
                    const total = this.skills.reduce((sum, skill) => sum + skill.level, 0);
                    return Math.round(total / this.skills.length);
                },

                get totalProjectCount() {
                    return this.skills.reduce((total, skill) => total + skill.projects, 0);
                },

                get totalExperienceYears() {
                    const startYear = 2023;
                    const currentYear = new Date().getFullYear();
                    return Math.max(1, currentYear - startYear);
                },

                get totalItems() {
                    return this.skills.length + this.projects.length;
                },

                get connectionStatusText() {
                    if (!this.isOnline) return 'Offline';
                    if (this.isSyncing) return 'Syncing...';
                    if (this.userId) return 'Cloud Sync Active';
                    return 'Cloud Data Loaded';
                },

                get dataStatusText() {
                    if (this.dataStatus === 'synced') return 'Data Synced';
                    if (this.dataStatus === 'unsynced') return 'Data Not Synced';
                    return 'Data Error';
                },

                get profileImageSrc() {
                    if (!this.profile.image || this.profile.image.trim() === '') {
                        return this.generateDefaultAvatar();
                    }
                    return this.profile.image;
                },

                // INITIALIZATION
                init() {
                    console.log(' Portfolio initialization started');
                    
                    // Initialize AOS
                    if (typeof AOS !== 'undefined') {
                        AOS.init({
                            duration: 800,
                            easing: 'ease-in-out',
                            once: true,
                            mirror: false
                        });
                    }
                    
                    this.setupEventListeners();
                    
                    const savedTheme = localStorage.getItem('theme');
                    this.isDark = savedTheme ? savedTheme === 'dark' : true;

                    this.initParticles();

                    this.isOnline = navigator.onLine;
                    console.log(' Online status:', this.isOnline);
                    
                    window.addEventListener('online', () => {
                        this.isOnline = true;
                        console.log(' Went online');
                        this.showToastMessage('You are back online', 'success');
                        if (this.isOnline) {
                            setTimeout(() => this.initFirebasePublic(), 1000);
                        }
                    });
                    
                    window.addEventListener('offline', () => {
                        this.isOnline = false;
                        console.log(' Went offline');
                        this.showToastMessage('You are offline', 'warning');
                    });

                    // Cek jika user sudah login sebelumnya
                    const savedAuth = localStorage.getItem('firebase_auth');
                    if (savedAuth) {
                        try {
                            const authData = JSON.parse(savedAuth);
                            console.log(' Found saved auth data:', authData.email);
                            
                            // Set user data
                            this.userId = authData.uid;
                            this.userEmail = authData.email;
                            this.isOwner = true;
                            this.isPublicMode = false;
                            
                            console.log(' Restored login from localStorage');
                            
                        } catch (e) {
                            console.error('Error parsing saved auth:', e);
                        }
                    }

                    console.log(' Initializing Firebase for public access...');
                    setTimeout(() => {
                        this.initFirebasePublic();
                    }, 1000);
                    
                    this.updateProjectSlides();
                    
                    setTimeout(() => {
                        this.isLoading = false;
                        console.log(' Portfolio loaded successfully');
                    }, 1500);
                },

                // FIREBASE INITIALIZATION UNTUK PUBLIC ACCESS
                initFirebasePublic() {
                    console.log(' Attempting to initialize Firebase for public access...');
                    
                    try {
                        if (typeof firebase === 'undefined') {
                            console.error(' Firebase SDK not loaded!');
                            this.showToastMessage('Firebase SDK not loaded. Using predefined data.', 'warning');
                            this.usePredefinedData();
                            return;
                        }
                        
                        console.log(' Firebase SDK is loaded');
                        
                        try {
                            if (!firebase.apps || firebase.apps.length === 0) {
                                console.log(' Initializing new Firebase app...');
                                this.firebaseApp = firebase.initializeApp(firebaseConfig);
                                console.log(' Firebase app initialized');
                            } else {
                                console.log(' Using existing Firebase app');
                                this.firebaseApp = firebase.app();
                            }
                        } catch (initError) {
                            console.error(' Firebase app initialization error:', initError);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                            return;
                        }
                        
                        try {
                            this.firestore = firebase.firestore(this.firebaseApp);
                            console.log(' Firestore initialized');
                        } catch (firestoreError) {
                            console.error(' Firestore initialization error:', firestoreError);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                            return;
                        }
                        
                        try {
                            this.auth = firebase.auth(this.firebaseApp);
                            console.log(' Auth initialized');
                        } catch (authError) {
                            console.warn(' Auth initialization warning:', authError);
                        }
                        
                        this.loadPublicData();
                        
                    } catch (error) {
                        console.error(' General Firebase init error:', error);
                        this.showToastMessage('Using predefined portfolio data', 'info');
                        this.usePredefinedData();
                    }
                },

                // LOAD PUBLIC DATA DARI FIREBASE
                loadPublicData() {
                    if (!this.firestore || !this.isOnline) {
                        console.log(' Cannot load from Firebase: Firestore or internet not available');
                        this.usePredefinedData();
                        return;
                    }
                    
                    console.log(' Loading public data from Firebase...');
                    
                    this.isLoading = true;
                    this.loadingMessage = 'Loading portfolio data...';
                    
                    const timeoutPromise = new Promise((_, reject) => {
                        setTimeout(() => {
                            reject(new Error('Timeout loading data from Firebase'));
                        }, 10000);
                    });
                    
                    const loadPromise = this.firestore.collection('publicPortfolios').doc('main').get();
                    
                    Promise.race([loadPromise, timeoutPromise])
                        .then((doc) => {
                            if (doc.exists) {
                                const data = doc.data();
                                console.log(' Public data loaded successfully from Firebase');
                                
                                this.updateDataFromFirebase(data);
                                
                                if (data.lastUpdated) {
                                    this.lastSyncTime = new Date(data.lastUpdated.toDate()).toLocaleString();
                                } else {
                                    this.lastSyncTime = 'Recently';
                                }
                                
                                this.dataStatus = 'synced';
                                this.showToastMessage('Portfolio data loaded from cloud', 'success');
                                
                            } else {
                                console.log(' No public data found in Firebase, using predefined data');
                                this.usePredefinedData();
                            }
                        })
                        .catch((error) => {
                            console.error(' Load public data error:', error);
                            this.showToastMessage('Using predefined portfolio data', 'info');
                            this.usePredefinedData();
                        })
                        .finally(() => {
                            this.isLoading = false;
                            this.portfolioDataLoaded = true;
                        });
                },

                // UPDATE DATA DARI FIREBASE
                updateDataFromFirebase(data) {
                    try {
                        console.log(' Updating data from Firebase...');
                        
                        if (data.skills && Array.isArray(data.skills)) {
                            this.skills = data.skills;
                            console.log(` Loaded ${this.skills.length} skills`);
                        }
                        
                        if (data.projects && Array.isArray(data.projects)) {
                            this.projects = data.projects;
                            this.updateProjectSlides();
                            console.log(` Loaded ${this.projects.length} projects`);
                        }
                        
                        if (data.profile) {
                            Object.assign(this.profile, data.profile);
                            console.log(' Profile data loaded');
                        }
                        
                        if (data.socialLinks) {
                            this.socialLinks = data.socialLinks.map(link => ({
                                platform: link.platform,
                                url: link.url || '',
                                icon: link.icon || this.getSocialIcon(link.platform)
                            }));
                            console.log(` Loaded ${this.socialLinks.length} social links`);
                        }
                        
                        this.saveToLocalStorage();
                        
                    } catch (error) {
                        console.error('Error updating data from Firebase:', error);
                        this.showToastMessage('Error loading cloud data', 'warning');
                    }
                },

                // USE PREDEFINED DATA (fallback)
                usePredefinedData() {
                    console.log(' Using predefined portfolio data');
                    
                    this.skills = [...predefinedPublicData.skills];
                    this.projects = [...predefinedPublicData.projects];
                    this.profile = { ...predefinedPublicData.profile };
                    this.socialLinks = [...predefinedPublicData.socialLinks];
                    
                    this.updateProjectSlides();
                    this.saveToLocalStorage();
                    
                    this.isLoading = false;
                    this.portfolioDataLoaded = true;
                },

                // AUTH METHODS
                loginWithGoogle() {
                    console.log(' Memulai login Google...');
                    this.isSyncing = true;
                    this.showToastMessage('Sedang login...', 'info');
                    
                    try {
                        // Pastikan Firebase diinisialisasi
                        if (!this.firebaseApp) {
                            console.log(' Menginisialisasi Firebase untuk auth...');
                            this.firebaseApp = firebase.initializeApp(firebaseConfig);
                            this.auth = firebase.auth(this.firebaseApp);
                        }
                        
                        const provider = new firebase.auth.GoogleAuthProvider();
                        provider.addScope('profile');
                        provider.addScope('email');
                        provider.setCustomParameters({ prompt: 'select_account' });
                        
                        console.log(' Login dengan popup...');
                        
                        this.auth.signInWithPopup(provider)
                            .then((result) => {
                                console.log(' Login BERHASIL! User:', result.user.email);
                                
                                this.userId = result.user.uid;
                                this.userEmail = result.user.email;
                                this.isSyncing = false;
                                this.isPublicMode = false;
                                this.isOwner = true;
                                
                                // Simpan data auth
                                this.saveAuthData(result.user);
                                
                                this.showToastMessage(` Selamat datang ${result.user.displayName || result.user.email}! Mode edit diaktifkan.`, 'success');
                                
                                // Muat data pengguna
                                setTimeout(() => {
                                    this.loadUserData();
                                }, 500);
                                
                            })
                            .catch((error) => {
                                console.error(' Error login:', error);
                                this.isSyncing = false;
                                
                                let errorMessage = 'Login gagal';
                                if (error.code === 'auth/popup-blocked') {
                                    errorMessage = 'Popup login diblokir. Silakan izinkan pop-up.';
                                } else if (error.code === 'auth/popup-closed-by-user') {
                                    errorMessage = 'Login dibatalkan';
                                } else if (error.code === 'auth/network-request-failed') {
                                    errorMessage = 'Error jaringan. Cek koneksi internet Anda.';
                                }
                                
                                this.showToastMessage(` ${errorMessage}`, 'error');
                            });
                            
                    } catch (setupError) {
                        console.error(' Setup login error:', setupError);
                        this.isSyncing = false;
                        this.showToastMessage('Setup login gagal. Silakan coba lagi.', 'error');
                    }
                },

                saveAuthData(user) {
                    try {
                        const authData = {
                            uid: user.uid,
                            email: user.email,
                            displayName: user.displayName,
                            photoURL: user.photoURL,
                            lastLogin: new Date().toISOString(),
                        };
                        
                        localStorage.setItem('firebase_auth', JSON.stringify(authData));
                        console.log(' Data auth disimpan');
                        
                    } catch (error) {
                        console.error(' Error menyimpan data auth:', error);
                    }
                },

                signOut() {
                    if (!this.auth) {
                        this.showToastMessage('Firebase Auth tidak terinisialisasi', 'warning');
                        return;
                    }
                    
                    if (confirm('Apakah Anda yakin ingin logout?')) {
                        this.auth.signOut()
                            .then(() => {
                                console.log(' Logout berhasil');
                                
                                localStorage.removeItem('firebase_auth');
                                this.userId = null;
                                this.userEmail = null;
                                this.isOwner = false;
                                this.isPublicMode = true;
                                
                                // Muat ulang data publik
                                this.loadPublicData();
                                
                                this.showToastMessage('Logout berhasil', 'success');
                                
                            })
                            .catch((error) => {
                                console.error('Error logout:', error);
                                this.showToastMessage('Logout gagal', 'error');
                            });
                    }
                },

                loadUserData() {
                    if (!this.userId || !this.firestore || !this.isOnline) {
                        console.log(' Tidak bisa memuat data pengguna');
                        return;
                    }
                    
                    console.log(' Memuat data pengguna untuk:', this.userId);
                    this.showToastMessage('Memuat data pribadi Anda...', 'info');
                    
                    this.firestore.collection('portfolios').doc(this.userId).get()
                        .then((doc) => {
                            if (doc.exists) {
                                const data = doc.data();
                                console.log(' Data pengguna dimuat');
                                
                                // Gabungkan dengan data publik
                                this.mergeUserData(data);
                                this.showToastMessage('Data Anda dimuat dari cloud', 'success');
                            } else {
                                console.log(' Tidak ada data pengguna ditemukan, menggunakan data saat ini');
                                this.showToastMessage('Membuat profil baru untuk Anda', 'info');
                            }
                        })
                        .catch((error) => {
                            console.error(' Error memuat data pengguna:', error);
                            this.showToastMessage('Error memuat data pribadi', 'warning');
                        });
                },

                mergeUserData(userData) {
                    try {
                        console.log(' Menggabungkan data pengguna...');
                        
                        if (userData.skills && Array.isArray(userData.skills)) {
                            this.skills = userData.skills;
                            console.log(` Dimuat ${this.skills.length} skill`);
                        }
                        
                        if (userData.projects && Array.isArray(userData.projects)) {
                            this.projects = userData.projects;
                            this.updateProjectSlides();
                            console.log(` Dimuat ${this.projects.length} proyek`);
                        }
                        
                        if (userData.profile) {
                            Object.assign(this.profile, userData.profile);
                            console.log(' Data profil dimuat');
                        }
                        
                        if (userData.socialLinks) {
                            this.socialLinks = userData.socialLinks.map(link => ({
                                platform: link.platform,
                                url: link.url || '',
                                icon: link.icon || this.getSocialIcon(link.platform)
                            }));
                            console.log(` Dimuat ${this.socialLinks.length} link sosial`);
                        }
                        
                        this.saveToLocalStorage();
                        
                    } catch (error) {
                        console.error('Error menggabungkan data pengguna:', error);
                        this.showToastMessage('Error menggabungkan data', 'warning');
                    }
                },

                publishToPublic() {
                    if (!this.userId) {
                        this.showToastMessage('Silakan login terlebih dahulu untuk publish', 'warning');
                        setTimeout(() => {
                            this.loginWithGoogle();
                        }, 500);
                        return;
                    }
                    
                    if (!this.firestore) {
                        this.showToastMessage('Firebase Firestore tidak tersedia', 'error');
                        return;
                    }
                    
                    if (!this.isOnline) {
                        this.showToastMessage('Anda offline. Tidak bisa publish ke cloud.', 'warning');
                        return;
                    }
                    
                    if (!confirm('Publish perubahan Anda untuk membuatnya terlihat publik?')) {
                        return;
                    }
                    
                    this.isSyncing = true;
                    this.showToastMessage('Mempublish portfolio Anda...', 'info');
                    
                    const data = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks,
                        lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),
                        updatedBy: this.userEmail,
                        version: '2.0',
                        published: true
                    };
                    
                    console.log('Mempublish data ke koleksi publik...');
                    
                    this.firestore.collection('publicPortfolios').doc('main')
                        .set(data, { merge: true })
                        .then(() => {
                            console.log(' Terpublish ke koleksi publik');
                            
                            // Juga simpan ke koleksi pribadi pengguna
                            return this.firestore.collection('portfolios').doc(this.userId)
                                .set({ ...data, userId: this.userId }, { merge: true });
                        })
                        .then(() => {
                            console.log(' Disimpan ke koleksi pengguna');
                            
                            this.lastSyncTime = new Date().toLocaleTimeString();
                            this.dataStatus = 'synced';
                            this.isSyncing = false;
                            
                            this.showToastMessage(' Portfolio berhasil dipublish!', 'success');
                            this.addToSyncHistory('Data dipublish', 'success');
                            
                        })
                        .catch((error) => {
                            console.error(' Error publish:', error);
                            this.isSyncing = false;
                            
                            let errorMessage = 'Publish gagal';
                            if (error.code === 'permission-denied') {
                                errorMessage = 'Izin ditolak. Anda mungkin tidak punya akses tulis.';
                            }
                            
                            this.showToastMessage(` ${errorMessage}`, 'error');
                            this.addToSyncHistory('Publish gagal', 'error');
                        });
                },

                // TOGGLE MODE (Public/Edit)
                toggleMode() {
                    if (this.isPublicMode) {
                        if (!this.userId) {
                            this.showAuthModal = true;
                            this.showToastMessage('Please login to enable edit mode', 'info');
                            return;
                        }
                        this.isPublicMode = false;
                        this.showToastMessage('Edit mode enabled', 'success');
                    } else {
                        this.isPublicMode = true;
                        this.showToastMessage('View mode enabled', 'info');
                    }
                },

                // EVENT LISTENERS
                setupEventListeners() {
                    window.addEventListener('scroll', this.handleScroll.bind(this));
                    window.addEventListener('resize', this.handleResize.bind(this));
                    
                    window.addEventListener('beforeunload', () => {
                        if (!this.isPublicMode) {
                            this.saveToLocalStorage();
                        }
                    });
                },

                handleScroll() {
                    const winScroll = document.documentElement.scrollTop || document.body.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    this.scrollProgress = height > 0 ? (winScroll / height) * 100 : 0;
                    
                    this.isAtTop = window.scrollY < 50;
                    
                    const sections = ['home', 'skills', 'projects', 'contact'];
                    for (const section of sections) {
                        const element = document.getElementById(section);
                        if (element) {
                            const rect = element.getBoundingClientRect();
                            if (rect.top <= 100 && rect.bottom >= 100) {
                                this.activeSection = section;
                                break;
                            }
                        }
                    }
                },

                handleResize() {
                    if (window.innerWidth < 768) {
                        this.projectsPerSlide = 1;
                    } else if (window.innerWidth < 1024) {
                        this.projectsPerSlide = 2;
                    } else {
                        this.projectsPerSlide = 3;
                    }
                    
                    this.updateProjectSlides();
                },

                toggleTheme() {
                    this.isDark = !this.isDark;
                    localStorage.setItem('theme', this.isDark ? 'dark' : 'light');
                    
                    if (window.pJSDom && window.pJSDom.length > 0) {
                        const particles = window.pJSDom[0].pJS;
                        if (particles) {
                            particles.particles.color.value = this.isDark ? "#ffffff" : "#6366f1";
                            particles.particles.line_linked.color = this.isDark ? "#ffffff" : "#6366f1";
                            particles.fn.particlesRefresh();
                        }
                    }
                },

                scrollTo(sectionId) {
                    const element = document.getElementById(sectionId);
                    if (element) {
                        const offset = 80;
                        const elementPosition = element.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - offset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                    this.mobileMenu = false;
                },

                // MODAL METHODS
                openModal(modalName) {
                    if (this.isPublicMode && (modalName === 'addSkill' || modalName === 'addProject' || modalName === 'editProfile' || modalName === 'deleteConfirm')) {
                        this.showToastMessage('Please switch to edit mode to make changes', 'info');
                        return;
                    }
                    this.modals[modalName] = true;
                    document.body.style.overflow = 'hidden';
                },

                closeModal(modalName) {
                    this.modals[modalName] = false;
                    document.body.style.overflow = 'auto';
                    
                    if (modalName === 'addSkill') {
                        this.resetSkillForm();
                    } else if (modalName === 'addProject') {
                        this.resetProjectForm();
                    }
                },

                // SKILL METHODS
                addNewSkill() {
                    if (this.isPublicMode) return;
                    
                    try {
                        this.isSubmitting = true;

                        const newSkill = {
                            id: this.editingSkill ? this.editingSkill.id : Date.now(),
                            ...this.newSkill,
                            icon: this.getSkillIcon(this.newSkill.category)
                        };

                        if (this.editingSkill) {
                            const index = this.skills.findIndex(s => s.id === this.editingSkill.id);
                            if (index !== -1) {
                                this.skills[index] = newSkill;
                            }
                            this.showToastMessage('Skill updated successfully', 'success');
                        } else {
                            this.skills.push(newSkill);
                            this.showToastMessage('Skill added successfully', 'success');
                        }

                        this.saveToLocalStorage();
                        this.closeModal('addSkill');
                        this.resetSkillForm();
                    } catch (error) {
                        this.showToastMessage('Error saving skill', 'error');
                        console.error('Error adding skill:', error);
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                // PROJECT METHODS
                addNewProject() {
                    if (this.isPublicMode) return;
                    
                    try {
                        this.isSubmitting = true;

                        const newProject = {
                            id: this.editingProject ? this.editingProject.id : Date.now(),
                            ...this.newProject,
                            date: new Date().getFullYear().toString()
                        };

                        if (this.editingProject) {
                            const index = this.projects.findIndex(p => p.id === this.editingProject.id);
                            if (index !== -1) {
                                this.projects[index] = newProject;
                            }
                            this.showToastMessage('Project updated successfully', 'success');
                        } else {
                            this.projects.push(newProject);
                            this.showToastMessage('Project added successfully', 'success');
                        }

                        this.updateProjectSlides();
                        this.saveToLocalStorage();
                        this.closeModal('addProject');
                        this.resetProjectForm();
                    } catch (error) {
                        this.showToastMessage('Error saving project', 'error');
                        console.error('Error adding project:', error);
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                // DELETE METHODS
                confirmDelete(type, id, name) {
                    if (this.isPublicMode) return;
                    
                    this.deleteItem = { type, id, name };
                    this.openModal('deleteConfirm');
                },

                executeDelete() {
                    if (this.isPublicMode) return;
                    
                    if (this.deleteItem.type === 'skill') {
                        this.skills = this.skills.filter(skill => skill.id !== this.deleteItem.id);
                        this.showToastMessage('Skill deleted successfully', 'success');
                    } else if (this.deleteItem.type === 'project') {
                        this.projects = this.projects.filter(project => project.id !== this.deleteItem.id);
                        this.updateProjectSlides();
                        this.showToastMessage('Project deleted successfully', 'success');
                    }
                    
                    this.saveToLocalStorage();
                    this.closeModal('deleteConfirm');
                },

                // PROFILE METHODS
                updateProfile() {
                    if (this.isPublicMode) return;
                    
                    try {
                        this.saveToLocalStorage();
                        this.showToastMessage('Profile updated successfully', 'success');
                        this.closeModal('editProfile');
                    } catch (error) {
                        this.showToastMessage('Error updating profile', 'error');
                        console.error('Error updating profile:', error);
                    }
                },

                // CONTACT FORM
                submitContact() {
                    try {
                        this.isSubmitting = true;
                        
                        if (!this.contactForm.name || !this.contactForm.email || !this.contactForm.message) {
                            this.showToastMessage('Please fill in all fields', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(this.contactForm.email)) {
                            this.showToastMessage('Please enter a valid email address', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        console.log('Starting email sending process...');
                        
                        const serviceID = 'service_fkkrcdr';
                        const templateID = 'template_g9cfnn2';
                        const publicKey = 'GIIXeb6Xt3whWfqvo';
                        
                        if (typeof emailjs === 'undefined') {
                            console.error('EmailJS is not loaded');
                            this.showToastMessage('Email service not available. Please refresh the page.', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        emailjs.init(publicKey);
                        
                        const templateParams = {
                            from_name: this.contactForm.name,
                            from_email: this.contactForm.email,
                            message: this.contactForm.message,
                            to_name: this.profile.name,
                            to_email: this.profile.email,
                            reply_to: this.contactForm.email
                        };
                        
                        emailjs.send(serviceID, templateID, templateParams)
                            .then((response) => {
                                console.log('Email response:', response);
                                
                                if (response.status === 200) {
                                    this.showToastMessage('Message sent successfully! I\'ll get back to you soon.', 'success');
                                    
                                    this.contactForm = {
                                        name: '',
                                        email: '',
                                        message: ''
                                    };
                                } else {
                                    throw new Error(`EmailJS responded with status: ${response.status}`);
                                }
                            })
                            .catch((error) => {
                                console.error('Email sending error:', error);
                                
                                let errorMessage = 'Error sending message. Please try again later.';
                                
                                if (error.text) {
                                    console.error('EmailJS error text:', error.text);
                                }
                                
                                this.showToastMessage(errorMessage, 'error');
                            })
                            .finally(() => {
                                this.isSubmitting = false;
                            });
                        
                    } catch (error) {
                        console.error('Email sending error:', error);
                        this.showToastMessage('Error sending message. Please try again later.', 'error');
                        this.isSubmitting = false;
                    }
                },

                // HELPER METHODS
                generateDefaultAvatar() {
                    const name = this.profile.name || 'John Doe';
                    const initials = name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                    const bgColor = '6366f1';
                    const textColor = 'ffffff';
                    const size = '400';
                    
                    return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${bgColor}&color=${textColor}&size=${size}&bold=true&font-size=0.5`;
                },

                showToastMessage(message, type = 'success') {
                    this.toastMessage = message;
                    this.toastType = type;
                    this.showToast = true;
                    
                    setTimeout(() => {
                        this.showToast = false;
                    }, 3000);
                },

                initParticles() {
                    if (typeof particlesJS === 'function') {
                        particlesJS('particles-js', {
                            particles: {
                                number: { 
                                    value: 80, 
                                    density: { 
                                        enable: true, 
                                        value_area: 800 
                                    } 
                                },
                                color: { 
                                    value: this.isDark ? "#ffffff" : "#6366f1" 
                                },
                                shape: { 
                                    type: "circle" 
                                },
                                opacity: { 
                                    value: 0.3, 
                                    random: true
                                },
                                size: { 
                                    value: 3, 
                                    random: true
                                },
                                line_linked: {
                                    enable: true,
                                    distance: 150,
                                    color: this.isDark ? "#ffffff" : "#6366f1",
                                    opacity: 0.2,
                                    width: 1
                                },
                                move: {
                                    enable: true,
                                    speed: 1,
                                    direction: "none",
                                    random: true,
                                    straight: false
                                }
                            },
                            interactivity: {
                                events: {
                                    onhover: { 
                                        enable: true, 
                                        mode: "grab" 
                                    }
                                }
                            }
                        });
                    }
                },

                // DATA MANAGEMENT METHODS
                saveToLocalStorage() {
                    if (this.isPublicMode) return;
                    
                    try {
                        localStorage.setItem('portfolioSkills', JSON.stringify(this.skills));
                        localStorage.setItem('portfolioProjects', JSON.stringify(this.projects));
                        localStorage.setItem('portfolioProfile', JSON.stringify(this.profile));
                        
                        const linksToSave = this.socialLinks.map(link => ({
                            platform: link.platform,
                            url: link.url,
                            icon: link.icon
                        }));
                        localStorage.setItem('portfolioSocialLinks', JSON.stringify(linksToSave));
                        
                        localStorage.setItem('portfolioCacheTime', new Date().toISOString());
                        
                        console.log(' Data saved locally');
                        this.calculateStorageUsage();
                        
                    } catch (error) {
                        console.error(' Save error:', error);
                    }
                },

                calculateStorageUsage() {
                    try {
                        let totalBytes = 0;
                        for (let i = 0; i < localStorage.length; i++) {
                            const key = localStorage.key(i);
                            if (key && key.startsWith('portfolio')) {
                                const value = localStorage.getItem(key);
                                totalBytes += new Blob([value]).size;
                            }
                        }
                        
                        this.storageUsage = this.formatBytes(totalBytes);
                    } catch (error) {
                        console.error('Error calculating storage usage:', error);
                        this.storageUsage = 'Unknown';
                    }
                },

                formatBytes(bytes, decimals = 2) {
                    if (bytes === 0) return '0 Bytes';
                    
                    const k = 1024;
                    const dm = decimals < 0 ? 0 : decimals;
                    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                    
                    const i = Math.floor(Math.log(bytes) / Math.log(k));
                    
                    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
                },

                addToSyncHistory(action, status) {
                    this.syncHistory.unshift({
                        action,
                        status,
                        timestamp: new Date().toISOString()
                    });
                    
                    if (this.syncHistory.length > 10) {
                        this.syncHistory.pop();
                    }
                    
                    localStorage.setItem('portfolioSyncHistory', JSON.stringify(this.syncHistory));
                },

                // PROJECT SLIDER METHODS
                updateProjectSlides() {
                    this.projectSlides = [];
                    
                    if (this.projects.length <= 6) {
                        this.projectView = 'grid';
                        return;
                    }
                    
                    for (let i = 0; i < this.projects.length; i += this.projectsPerSlide) {
                        this.projectSlides.push(this.projects.slice(i, i + this.projectsPerSlide));
                    }
                    
                    if (this.currentSlide >= this.projectSlides.length) {
                        this.currentSlide = 0;
                    }
                },

                setProjectView(view) {
                    this.projectView = view;
                    if (view === 'slider') {
                        this.currentSlide = 0;
                    }
                },

                nextSlide() {
                    if (this.currentSlide < this.projectSlides.length - 1) {
                        this.currentSlide++;
                    }
                },

                prevSlide() {
                    if (this.currentSlide > 0) {
                        this.currentSlide--;
                    }
                },

                goToSlide(index) {
                    if (index >= 0 && index < this.projectSlides.length) {
                        this.currentSlide = index;
                    }
                },

                toggleAutoSlide() {
                    this.autoSlideEnabled = !this.autoSlideEnabled;
                    
                    if (this.autoSlideEnabled) {
                        this.autoSlideInterval = setInterval(() => {
                            if (this.currentSlide < this.projectSlides.length - 1) {
                                this.currentSlide++;
                            } else {
                                this.currentSlide = 0;
                            }
                        }, 5000);
                    } else if (this.autoSlideInterval) {
                        clearInterval(this.autoSlideInterval);
                        this.autoSlideInterval = null;
                    }
                },

                // CATEGORY & ICON HELPER METHODS
                getCategoryName(category) {
                    const names = {
                        'frontend': 'Frontend',
                        'backend': 'Backend',
                        'database': 'Database',
                        'mobile': 'Mobile',
                        'devops': 'DevOps',
                        'cloud': 'Cloud',
                        'tools': 'Tools',
                        'design': 'Design',
                        'ai': 'AI/ML'
                    };
                    return names[category] || category;
                },

                getCategoryIcon(category) {
                    const icons = {
                        'frontend': 'fas fa-code',
                        'backend': 'fas fa-server',
                        'database': 'fas fa-database',
                        'mobile': 'fas fa-mobile-alt',
                        'devops': 'fas fa-cogs',
                        'cloud': 'fas fa-cloud',
                        'tools': 'fas fa-tools',
                        'design': 'fas fa-palette',
                        'ai': 'fas fa-brain'
                    };
                    return icons[category] || 'fas fa-code';
                },

                getSkillCategoryColor(category) {
                    const colors = {
                        'frontend': 'bg-blue-500',
                        'backend': 'bg-green-500',
                        'database': 'bg-yellow-500',
                        'mobile': 'bg-purple-500',
                        'devops': 'bg-red-500',
                        'cloud': 'bg-indigo-500',
                        'tools': 'bg-pink-500',
                        'design': 'bg-teal-500',
                        'ai': 'bg-orange-500'
                    };
                    return colors[category] || 'bg-slate-500';
                },

                getSkillIcon(category) {
                    return this.getCategoryIcon(category);
                },

                getProficiencyLevel(level) {
                    if (level >= 90) return 'Expert';
                    if (level >= 70) return 'Advanced';
                    if (level >= 50) return 'Intermediate';
                    if (level >= 30) return 'Beginner';
                    return 'Novice';
                },

                getProficiencyClass(level) {
                    if (level >= 90) return 'status-success';
                    if (level >= 70) return 'status-success';
                    if (level >= 50) return 'status-warning';
                    return 'status-error';
                },

                getProficiencyIcon(level) {
                    if (level >= 90) return 'fas fa-fire';
                    if (level >= 70) return 'fas fa-chart-line';
                    if (level >= 50) return 'fas fa-seedling';
                    return 'fas fa-leaf';
                },

                getProjectTypeName(type) {
                    const names = {
                        'web': 'Web App',
                        'mobile': 'Mobile App',
                        'api': 'API',
                        'desktop': 'Desktop',
                        'ai': 'AI/ML',
                        'saas': 'SaaS'
                    };
                    return names[type] || type;
                },

                getProjectStatusClass(status) {
                    const statusClasses = {
                        'completed': 'bg-gradient-to-r from-green-500 to-emerald-600 text-white',
                        'in-progress': 'bg-gradient-to-r from-yellow-500 to-amber-600 text-white',
                        'planned': 'bg-gradient-to-r from-blue-500 to-cyan-600 text-white',
                        'on-hold': 'bg-gradient-to-r from-gray-500 to-slate-600 text-white'
                    };
                    return statusClasses[status] || 'bg-gradient-to-r from-gray-500 to-slate-600 text-white';
                },

                getTechIcon(tech) {
                    const iconMap = {
                        'React': 'fab fa-react',
                        'Vue.js': 'fab fa-vuejs',
                        'Angular': 'fab fa-angular',
                        'Node.js': 'fab fa-node-js',
                        'Python': 'fab fa-python',
                        'Django': 'fab fa-python',
                        'Flask': 'fab fa-python',
                        'Java': 'fab fa-java',
                        'PHP': 'fab fa-php',
                        'Laravel': 'fab fa-laravel',
                        'Ruby': 'fab fa-ruby',
                        'Rails': 'fab fa-ruby',
                        'Go': 'fab fa-golang',
                        'Rust': 'fab fa-rust',
                        'Swift': 'fab fa-swift',
                        'Kotlin': 'fab fa-android',
                        'C#': 'fab fa-microsoft',
                        '.NET': 'fab fa-microsoft',
                        'Docker': 'fab fa-docker',
                        'Kubernetes': 'fab fa-docker',
                        'AWS': 'fab fa-aws',
                        'Azure': 'fab fa-microsoft',
                        'Google Cloud': 'fab fa-google',
                        'Firebase': 'fab fa-firebase',
                        'MongoDB': 'fas fa-database',
                        'MySQL': 'fas fa-database',
                        'PostgreSQL': 'fas fa-database',
                        'Redis': 'fas fa-database',
                        'SQLite': 'fas fa-database',
                        'Git': 'fab fa-git-alt',
                        'GitHub': 'fab fa-github',
                        'GitLab': 'fab fa-gitlab',
                        'Bitbucket': 'fab fa-bitbucket',
                        'HTML5': 'fab fa-html5',
                        'CSS3': 'fab fa-css3-alt',
                        'JavaScript': 'fab fa-js',
                        'TypeScript': 'fab fa-js',
                        'SASS': 'fab fa-sass',
                        'Bootstrap': 'fab fa-bootstrap',
                        'Tailwind CSS': 'fas fa-paint-brush',
                        'Material-UI': 'fas fa-palette',
                        'Figma': 'fab fa-figma',
                        'Adobe XD': 'fas fa-palette',
                        'Sketch': 'fas fa-palette',
                        'Jest': 'fas fa-vial',
                        'Cypress': 'fas fa-vial',
                        'Webpack': 'fas fa-cube',
                        'Babel': 'fas fa-cog',
                        'ESLint': 'fas fa-code',
                        'Prettier': 'fas fa-code',
                        'Nginx': 'fas fa-server',
                        'Apache': 'fas fa-server',
                        'Linux': 'fab fa-linux',
                        'Windows': 'fab fa-windows',
                        'macOS': 'fab fa-apple'
                    };
                    
                    return iconMap[tech] || 'fas fa-code';
                },

                // SOCIAL MEDIA HELPER METHODS
                getSocialIcon(platform) {
                    const iconMap = {
                        'github': 'fab fa-github',
                        'gitlab': 'fab fa-gitlab',
                        'bitbucket': 'fab fa-bitbucket',
                        'linkedin': 'fab fa-linkedin-in',
                        'twitter': 'fab fa-twitter',
                        'instagram': 'fab fa-instagram',
                        'facebook': 'fab fa-facebook-f',
                        'whatsapp': 'fab fa-whatsapp',
                        'telegram': 'fab fa-telegram',
                        'discord': 'fab fa-discord',
                        'youtube': 'fab fa-youtube',
                        'tiktok': 'fab fa-tiktok',
                        'twitch': 'fab fa-twitch',
                        'medium': 'fab fa-medium',
                        'devto': 'fab fa-dev',
                        'hashnode': 'fab fa-hashnode',
                        'dribbble': 'fab fa-dribbble',
                        'behance': 'fab fa-behance',
                        'figma': 'fab fa-figma',
                        'stackoverflow': 'fab fa-stack-overflow',
                        'codepen': 'fab fa-codepen',
                        'upwork': 'fab fa-upwork',
                        'fiverr': 'fas fa-dollar-sign',
                        'freelancer': 'fas fa-briefcase',
                        'udemy': 'fas fa-graduation-cap',
                        'coursera': 'fas fa-graduation-cap',
                        'pluralsight': 'fas fa-graduation-cap',
                        'notion': 'fas fa-sticky-note',
                        'email': 'fas fa-envelope',
                        'personal': 'fas fa-globe',
                        'other': 'fas fa-external-link-alt'
                    };
                    
                    return iconMap[platform] || 'fas fa-external-link-alt';
                },

                getSocialPlaceholder(platform) {
                    const placeholders = {
                        'github': 'https://github.com/username',
                        'linkedin': 'https://linkedin.com/in/username',
                        'twitter': 'https://twitter.com/username',
                        'instagram': 'https://instagram.com/username',
                        'facebook': 'https://facebook.com/username',
                        'whatsapp': 'https://wa.me/phone-number',
                        'telegram': 'https://t.me/username',
                        'discord': 'https://discord.gg/invite',
                        'youtube': 'https://youtube.com/c/username',
                        'tiktok': 'https://tiktok.com/@username',
                        'twitch': 'https://twitch.tv/username',
                        'medium': 'https://medium.com/@username',
                        'devto': 'https://dev.to/username',
                        'hashnode': 'https://username.hashnode.dev',
                        'dribbble': 'https://dribbble.com/username',
                        'behance': 'https://behance.net/username',
                        'figma': 'https://figma.com/@username',
                        'stackoverflow': 'https://stackoverflow.com/users/username',
                        'codepen': 'https://codepen.io/username',
                        'upwork': 'https://upwork.com/freelancers/~username',
                        'fiverr': 'https://fiverr.com/username',
                        'freelancer': 'https://freelancer.com/u/username',
                        'udemy': 'https://udemy.com/user/username',
                        'coursera': 'https://coursera.org/user/username',
                        'pluralsight': 'https://pluralsight.com/profile/username',
                        'notion': 'https://notion.so/username',
                        'email': 'mailto:email@example.com',
                        'personal': 'https://yourwebsite.com',
                        'other': 'https://example.com'
                    };
                    return placeholders[platform] || 'https://example.com';
                },

                getSocialPlatformName(platform) {
                    const names = {
                        'github': 'GitHub',
                        'gitlab': 'GitLab',
                        'bitbucket': 'Bitbucket',
                        'linkedin': 'LinkedIn',
                        'twitter': 'Twitter',
                        'instagram': 'Instagram',
                        'facebook': 'Facebook',
                        'whatsapp': 'WhatsApp',
                        'telegram': 'Telegram',
                        'discord': 'Discord',
                        'youtube': 'YouTube',
                        'tiktok': 'TikTok',
                        'twitch': 'Twitch',
                        'medium': 'Medium',
                        'devto': 'Dev.to',
                        'hashnode': 'Hashnode',
                        'dribbble': 'Dribbble',
                        'behance': 'Behance',
                        'figma': 'Figma',
                        'stackoverflow': 'Stack Overflow',
                        'codepen': 'CodePen',
                        'upwork': 'Upwork',
                        'fiverr': 'Fiverr',
                        'freelancer': 'Freelancer',
                        'udemy': 'Udemy',
                        'coursera': 'Coursera',
                        'pluralsight': 'Pluralsight',
                        'notion': 'Notion',
                        'email': 'Email',
                        'personal': 'Personal Website',
                        'other': 'Other'
                    };
                    return names[platform] || platform.charAt(0).toUpperCase() + platform.slice(1);
                },

                getSocialPlatformColorClass(platform) {
                    const colorMap = {
                        'github': 'bg-gray-800 hover:bg-gray-900',
                        'gitlab': 'bg-orange-600 hover:bg-orange-700',
                        'bitbucket': 'bg-blue-600 hover:bg-blue-700',
                        'linkedin': 'bg-blue-700 hover:bg-blue-800',
                        'twitter': 'bg-blue-400 hover:bg-blue-500',
                        'instagram': 'bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600',
                        'facebook': 'bg-blue-600 hover:bg-blue-700',
                        'whatsapp': 'bg-green-500 hover:bg-green-600',
                        'telegram': 'bg-blue-500 hover:bg-blue-600',
                        'discord': 'bg-indigo-600 hover:bg-indigo-700',
                        'youtube': 'bg-red-600 hover:bg-red-700',
                        'tiktok': 'bg-black hover:bg-gray-900',
                        'twitch': 'bg-purple-600 hover:bg-purple-700',
                        'medium': 'bg-gray-800 hover:bg-gray-900',
                        'devto': 'bg-gray-900 hover:bg-black',
                        'hashnode': 'bg-blue-600 hover:bg-blue-700',
                        'dribbble': 'bg-pink-500 hover:bg-pink-600',
                        'behance': 'bg-blue-800 hover:bg-blue-900',
                        'figma': 'bg-orange-500 hover:bg-orange-600',
                        'stackoverflow': 'bg-orange-500 hover:bg-orange-600',
                        'codepen': 'bg-gray-800 hover:bg-gray-900',
                        'upwork': 'bg-green-600 hover:bg-green-700',
                        'fiverr': 'bg-green-500 hover:bg-green-600',
                        'freelancer': 'bg-blue-500 hover:bg-blue-600',
                        'udemy': 'bg-purple-700 hover:bg-purple-800',
                        'coursera': 'bg-blue-800 hover:bg-blue-900',
                        'pluralsight': 'bg-orange-500 hover:bg-orange-600',
                        'notion': 'bg-gray-800 hover:bg-gray-900',
                        'email': 'bg-gray-600 hover:bg-gray-700',
                        'personal': 'bg-indigo-600 hover:bg-indigo-700',
                        'other': 'bg-slate-600 hover:bg-slate-700'
                    };
                    return colorMap[platform] || 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700';
                },

                isValidUrl(url) {
                    try {
                        new URL(url);
                        return true;
                    } catch (_) {
                        return false;
                    }
                },

                getSocialUsername(url) {
                    if (!url) return '';
                    try {
                        const urlObj = new URL(url);
                        const pathname = urlObj.pathname;
                        if (url.includes('github.com')) return pathname.split('/')[1] || '';
                        if (url.includes('linkedin.com/in/')) return pathname.split('/in/')[1] || '';
                        if (url.includes('twitter.com/')) return pathname.split('/')[1] || '';
                        if (url.includes('instagram.com/')) return pathname.split('/')[1] || '';
                        return urlObj.hostname;
                    } catch (_) {
                        return '';
                    }
                },

                // RESET METHODS
                resetSkillForm() {
                    this.newSkill = {
                        name: '',
                        category: 'frontend',
                        level: 50,
                        years: 1,
                        projects: 0,
                        icon: 'fas fa-code',
                        description: '',
                        certifications: [],
                        tags: [],
                        customId: ''
                    };
                    this.certificationInput = '';
                    this.tagInput = '';
                    this.editingSkill = null;
                },

                resetProjectForm() {
                    this.newProject = {
                        name: '',
                        description: '',
                        type: 'web',
                        technologies: [],
                        image: '',
                        demoUrl: '',
                        sourceUrl: '',
                        startDate: '',
                        endDate: '',
                        isOngoing: false,
                        role: '',
                        teamSize: 1,
                        status: 'completed',
                        client: '',
                        challenges: '',
                        features: []
                    };
                    this.techInput = '';
                    this.editingProject = null;
                },

                // EDIT SKILL/PROJECT METHODS
                editSkill(skill) {
                    if (this.isPublicMode) return;
                    
                    this.editingSkill = { ...skill };
                    this.newSkill = { ...skill };
                    this.openModal('addSkill');
                },

                editProject(project) {
                    if (this.isPublicMode) return;
                    
                    this.editingProject = { ...project };
                    this.newProject = { ...project };
                    this.openModal('addProject');
                },

                viewProject(projectId) {
                    this.selectedProject = this.projects.find(p => p.id === projectId);
                    this.openModal('projectDetail');
                },

                // SKILL FORM HELPERS
                addCertification() {
                    if (this.certificationInput.trim()) {
                        this.newSkill.certifications.push(this.certificationInput.trim());
                        this.certificationInput = '';
                    }
                },

                removeCertification(index) {
                    this.newSkill.certifications.splice(index, 1);
                },

                addTag() {
                    if (this.tagInput.trim()) {
                        this.newSkill.tags.push(this.tagInput.trim());
                        this.tagInput = '';
                    }
                },

                removeTag(index) {
                    this.newSkill.tags.splice(index, 1);
                },

                nextSkillTab() {
                    if (this.activeSkillTab === 'basic') {
                        this.activeSkillTab = 'details';
                    } else if (this.activeSkillTab === 'details') {
                        this.activeSkillTab = 'advanced';
                    }
                },

                prevSkillTab() {
                    if (this.activeSkillTab === 'advanced') {
                        this.activeSkillTab = 'details';
                    } else if (this.activeSkillTab === 'details') {
                        this.activeSkillTab = 'basic';
                    }
                },

                // PROJECT FORM HELPERS
                addTechnology() {
                    if (this.techInput.trim() && !this.newProject.technologies.includes(this.techInput.trim())) {
                        this.newProject.technologies.push(this.techInput.trim());
                        this.techInput = '';
                    }
                },

                addTechFromSuggestion(tech) {
                    if (!this.newProject.technologies.includes(tech)) {
                        this.newProject.technologies.push(tech);
                    }
                },

                removeTech(tech) {
                    this.newProject.technologies = this.newProject.technologies.filter(t => t !== tech);
                },

                nextProjectTab() {
                    if (this.activeProjectTab === 'basic') {
                        this.activeProjectTab = 'tech';
                    } else if (this.activeProjectTab === 'tech') {
                        this.activeProjectTab = 'media';
                    } else if (this.activeProjectTab === 'media') {
                        this.activeProjectTab = 'details';
                    }
                },

                prevProjectTab() {
                    if (this.activeProjectTab === 'details') {
                        this.activeProjectTab = 'media';
                    } else if (this.activeProjectTab === 'media') {
                        this.activeProjectTab = 'tech';
                    } else if (this.activeProjectTab === 'tech') {
                        this.activeProjectTab = 'basic';
                    }
                },

                // IMAGE UPLOAD METHODS
                triggerFileInput() {
                    document.getElementById('projectImageInput').click();
                },

                uploadImage(event) {
                    const file = event.target.files[0];
                    if (file) {
                        if (file.size > this.storageConfig.maxImageSize) {
                            this.showToastMessage('Image size too large. Max 1MB.', 'error');
                            return;
                        }
                        
                        this.uploadingImage = true;
                        
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.newProject.image = e.target.result;
                            this.uploadingImage = false;
                            this.showToastMessage('Image uploaded successfully', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                },

                uploadProfileImage(event) {
                    const file = event.target.files[0];
                    if (file) {
                        if (file.size > this.storageConfig.maxImageSize) {
                            this.showToastMessage('Image size too large. Max 1MB.', 'error');
                            return;
                        }
                        
                        this.uploadingProfileImage = true;
                        
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            this.profile.image = e.target.result;
                            this.uploadingProfileImage = false;
                            this.showToastMessage('Profile image updated successfully', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                },

                handleDrop(event) {
                    event.preventDefault();
                    const file = event.dataTransfer.files[0];
                    if (file && file.type.startsWith('image/')) {
                        this.uploadImage({ target: { files: [file] } });
                    }
                },

                handleProjectImageError(event, projectId) {
                    console.error('Error loading project image:', event);
                    event.target.src = 'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                    
                    const projectIndex = this.projects.findIndex(p => p.id === projectId);
                    if (projectIndex !== -1) {
                        this.projects[projectIndex].image = event.target.src;
                    }
                },

                // SOCIAL LINKS METHODS
                addSocialLink() {
                    if (this.isPublicMode) return;
                    
                    this.socialLinks.push({
                        platform: 'github',
                        url: '',
                        icon: 'fab fa-github'
                    });
                },

                addQuickSocialLink(platform) {
                    if (this.isPublicMode) return;
                    
                    const placeholder = this.getSocialPlaceholder(platform);
                    this.socialLinks.push({
                        platform: platform,
                        url: placeholder.includes('username') ? '' : placeholder,
                        icon: this.getSocialIcon(platform)
                    });
                },

                removeSocialLink(index) {
                    if (this.isPublicMode) return;
                    
                    this.socialLinks.splice(index, 1);
                },

                moveSocialLink(index, direction) {
                    if (this.isPublicMode) return;
                    
                    if (direction === 'up' && index > 0) {
                        const temp = this.socialLinks[index];
                        this.socialLinks[index] = this.socialLinks[index - 1];
                        this.socialLinks[index - 1] = temp;
                    } else if (direction === 'down' && index < this.socialLinks.length - 1) {
                        const temp = this.socialLinks[index];
                        this.socialLinks[index] = this.socialLinks[index + 1];
                        this.socialLinks[index + 1] = temp;
                    }
                },

                handlePlatformChange(link, index) {
                    if (this.isPublicMode) return;
                    
                    link.icon = this.getSocialIcon(link.platform);
                    if (!link.url || link.url.includes('username') || link.url === this.getSocialPlaceholder(this.socialLinks[index].platform)) {
                        link.url = this.getSocialPlaceholder(link.platform);
                    }
                },

                editSocialLink(index) {
                    if (this.isPublicMode) return;
                    
                    const newUrl = prompt('Enter new URL for ' + this.getSocialPlatformName(this.socialLinks[index].platform), this.socialLinks[index].url);
                    if (newUrl !== null) {
                        this.socialLinks[index].url = newUrl;
                        this.saveToLocalStorage();
                        this.showToastMessage('Social link updated', 'success');
                    }
                },

                // DATA IMPORT/EXPORT METHODS
                importSampleData() {
                    if (this.isPublicMode) {
                        this.showToastMessage('Please switch to edit mode to import data', 'info');
                        return;
                    }
                    
                    if (confirm('This will replace your current data with sample data. Continue?')) {
                        this.skills = [...predefinedPublicData.skills];
                        this.projects = [...predefinedPublicData.projects];
                        this.socialLinks = [...predefinedPublicData.socialLinks];
                        
                        this.updateProjectSlides();
                        this.saveToLocalStorage();
                        
                        this.showToastMessage('Sample data loaded successfully', 'success');
                        this.showDataPanel = false;
                    }
                },

                exportToJSON() {
                    const data = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks,
                        exportedAt: new Date().toISOString()
                    };
                    
                    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `portfolio-backup-${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    this.showToastMessage('Data exported successfully', 'success');
                },

                clearAllData() {
                    if (this.isPublicMode) {
                        this.showToastMessage('Please switch to edit mode to clear data', 'info');
                        return;
                    }
                    
                    if (confirm('This will delete ALL your data. This action cannot be undone. Continue?')) {
                        localStorage.clear();
                        this.skills = [];
                        this.projects = [];
                        this.socialLinks = [];
                        this.profile = { ...predefinedPublicData.profile };
                        this.syncHistory = [];
                        
                        this.updateProjectSlides();
                        this.showToastMessage('All data cleared', 'success');
                        this.showDataPanel = false;
                    }
                },

                runDataHealthCheck() {
                    try {
                        const issues = [];
                        
                        if (this.skills.length === 0) issues.push('No skills found');
                        
                        this.skills.forEach((skill, index) => {
                            if (!skill.name) issues.push(`Skill ${index + 1}: Missing name`);
                            if (skill.level < 0 || skill.level > 100) issues.push(`Skill ${skill.name}: Invalid level`);
                        });
                        
                        if (this.projects.length === 0) issues.push('No projects found');
                        
                        this.projects.forEach((project, index) => {
                            if (!project.name) issues.push(`Project ${index + 1}: Missing name`);
                            if (!project.description) issues.push(`Project ${project.name}: Missing description`);
                        });
                        
                        if (!this.profile.name) issues.push('Profile: Missing name');
                        if (!this.profile.email) issues.push('Profile: Missing email');
                        
                        if (issues.length === 0) {
                            this.dataIntegrity = true;
                            this.showToastMessage('Data health check passed!', 'success');
                        } else {
                            this.dataIntegrity = false;
                            console.warn('Data health issues:', issues);
                            this.showToastMessage(`Found ${issues.length} data issues`, 'warning');
                        }
                        
                        this.calculateStorageUsage();
                        
                    } catch (error) {
                        console.error('Health check error:', error);
                        this.showToastMessage('Health check failed', 'error');
                    }
                },

                formatTimeAgo(timestamp) {
                    const now = new Date();
                    const past = new Date(timestamp);
                    const diff = now - past;
                    
                    const minutes = Math.floor(diff / 60000);
                    const hours = Math.floor(diff / 3600000);
                    const days = Math.floor(diff / 86400000);
                    
                    if (minutes < 1) return 'Just now';
                    if (minutes < 60) return `${minutes}m ago`;
                    if (hours < 24) return `${hours}h ago`;
                    return `${days}d ago`;
                }
            };
        }
    </script>
</body>
</html>
