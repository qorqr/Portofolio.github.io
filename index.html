<!DOCTYPE html>
<html lang="id" x-data="portfolio()" x-init="init()" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PORTOFOLIO</title>
    <meta name="description" content="Professional portfolio of a Full Stack Developer specializing in modern web technologies and exceptional digital solutions.">
    <meta name="keywords" content="developer, portfolio, full stack, web development, react, nodejs">
    
    <!-- Open Graph -->
    <meta property="og:title" content="DevPort - Full Stack Developer">
    <meta property="og:description" content="Professional portfolio showcasing skills and projects">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš€</text></svg>">
    
    <!-- CDN Links -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    
    <!-- Particle.js -->
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
        }

        * {
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', sans-serif;
        }

        /* Theme Variables */
        .dark-mode {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border-color: #334155;
        }

        .light-mode {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --border-color: #e2e8f0;
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Particle Background */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            top: 0;
            left: 0;
        }

        .dark-mode #particles-js {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
        }

        .light-mode #particles-js {
            background: linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%);
        }

        /* Glass Effects */
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .dark-mode .glass-effect {
            background: rgba(15, 23, 42, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .dark-mode .glass-card {
            background: rgba(15, 23, 42, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .light-mode .glass-card {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        /* Gradient Text & Backgrounds */
        .gradient-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .gradient-bg {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Utility Classes */
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .animate-slide-in {
            animation: slideIn 0.4s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        .loading-spinner {
            animation: spin 1.5s linear infinite;
        }

        .stagger-item {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeIn 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        /* Card Hover Effects */
        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: center;
        }

        .card-hover:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.15),
                0 0 0 1px rgba(99, 102, 241, 0.1);
        }

        .dark-mode .card-hover:hover {
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(99, 102, 241, 0.2);
        }

        /* Skill Progress Bar */
        .skill-bar {
            height: 10px;
            border-radius: 5px;
            background: rgba(226, 232, 240, 0.2);
            overflow: hidden;
            position: relative;
        }

        .dark-mode .skill-bar {
            background: rgba(51, 65, 85, 0.3);
        }

        .skill-progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 5px;
            transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .skill-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            animation: shimmer 2s infinite;
        }

        /* Scroll Progress */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform-origin: 0%;
            z-index: 9999;
            box-shadow: 0 2px 10px rgba(99, 102, 241, 0.3);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(241, 245, 249, 0.1);
            border-radius: 10px;
        }

        .dark-mode ::-webkit-scrollbar-track {
            background: rgba(30, 41, 59, 0.5);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            border: 3px solid transparent;
            background-clip: padding-box;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--secondary));
        }

        /* Selection */
        ::selection {
            background: rgba(99, 102, 241, 0.4);
            color: white;
        }

        .dark-mode ::selection {
            background: rgba(99, 102, 241, 0.6);
        }

        /* Floating Elements */
        .floating-element {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.2;
            z-index: -1;
            animation: float 25s infinite linear;
        }

        /* Form Elements */
        .form-container {
            position: relative;
            margin-bottom: 1.75rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .form-input {
            width: 100%;
            padding: 1rem 1.25rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 14px;
            border: 2px solid var(--border-color);
            transition: all 0.3s ease;
            outline: none;
            color: var(--text-primary);
        }

        /* Light mode form background */
        .light-mode .form-input {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            box-shadow: 
                inset 0 1px 3px rgba(0, 0, 0, 0.05),
                0 1px 2px rgba(0, 0, 0, 0.05);
        }

        /* Dark mode form background */
        .dark-mode .form-input {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(10px);
            box-shadow: 
                inset 0 1px 3px rgba(0, 0, 0, 0.2),
                0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .form-input:focus {
            border-color: var(--primary);
            box-shadow: 
                0 0 0 4px rgba(99, 102, 241, 0.15),
                0 4px 20px rgba(99, 102, 241, 0.2),
                inset 0 1px 3px rgba(0, 0, 0, 0.05);
        }

        .dark-mode .form-input:focus {
            box-shadow: 
                0 0 0 4px rgba(99, 102, 241, 0.25),
                0 4px 20px rgba(99, 102, 241, 0.3),
                inset 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .form-input::placeholder {
            color: var(--text-secondary);
            opacity: 0.7;
        }

        /* Textarea khusus */
        textarea.form-input {
            resize: vertical;
            min-height: 100px;
        }

        /* Select khusus */
        select.form-input {
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236366f1'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1.5em;
            padding-right: 3rem;
        }

        /* Disabled state */
        .form-input:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(148, 163, 184, 0.1);
        }

        /* Error state */
        .form-input.error {
            border-color: var(--danger);
            background: rgba(239, 68, 68, 0.05);
        }

        .form-input.error:focus {
            box-shadow: 
                0 0 0 4px rgba(239, 68, 68, 0.15),
                0 4px 20px rgba(239, 68, 68, 0.2);
        }

        /* Success state */
        .form-input.success {
            border-color: var(--accent);
            background: rgba(16, 185, 129, 0.05);
        }

        .form-input.success:focus {
            box-shadow: 
                0 0 0 4px rgba(16, 185, 129, 0.15),
                0 4px 20px rgba(16, 185, 129, 0.2);
        }

        /* File input khusus */
        input[type="file"].form-input {
            padding: 0.75rem;
            cursor: pointer;
        }

        input[type="file"].form-input::file-selector-button {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            margin-right: 1rem;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        input[type="file"].form-input::file-selector-button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* Checkbox dan Radio */
        input[type="checkbox"],
        input[type="radio"] {
            width: 1.25rem;
            height: 1.25rem;
            accent-color: var(--primary);
            cursor: pointer;
        }

        /* Input group */
        .input-group {
            display: flex;
            border-radius: 14px;
            overflow: hidden;
        }

        .input-group .form-input {
            border-radius: 0;
            flex: 1;
        }

        .input-group-prepend,
        .input-group-append {
            display: flex;
            align-items: center;
            padding: 0 1rem;
            background: rgba(99, 102, 241, 0.1);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            font-weight: 500;
        }

        .input-group-prepend {
            border-right: none;
            border-radius: 14px 0 0 14px;
        }

        .input-group-append {
            border-left: none;
            border-radius: 0 14px 14px 0;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            line-height: 1.5;
            border-radius: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            gap: 0.75rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 
                0 8px 30px rgba(99, 102, 241, 0.3),
                0 2px 8px rgba(99, 102, 241, 0.15);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 
                0 15px 40px rgba(99, 102, 241, 0.4),
                0 4px 15px rgba(99, 102, 241, 0.25);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Tags */
        .tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 9990;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-container {
            position: fixed;
            inset: 0;
            z-index: 9991;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal-content {
            width: 100%;
            max-width: 48rem;
            max-height: 90vh;
            border-radius: 20px;
            overflow-y: auto;
            overflow-x: hidden;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        /* Toast */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 9999;
            animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .toast {
            padding: 1.25rem 1.5rem;
            border-radius: 14px;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: 
                0 12px 32px rgba(0, 0, 0, 0.2),
                0 4px 16px rgba(0, 0, 0, 0.1);
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
        }

        /* Status Badges */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .status-success {
            background: rgba(16, 185, 129, 0.15);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .status-warning {
            background: rgba(245, 158, 11, 0.15);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .status-error {
            background: rgba(239, 68, 68, 0.15);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        /* Profile Image Styling - Match dengan Project Image */
        .profile-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
        }

        .profile-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(99, 102, 241, 0.1);
        }

        .profile-container:hover .profile-image {
            transform: scale(1.05);
        }

        /* Overlay untuk edit */
        .profile-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7) 30%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            border-radius: 20px;
            padding: 20px;
        }

        .profile-container:hover .profile-overlay {
            opacity: 1;
        }

        .profile-overlay-content {
            text-align: center;
            color: white;
            padding: 15px;
            width: 100%;
        }

        .profile-overlay-content i {
            font-size: 2rem;
            margin-bottom: 10px;
            animation: float 2s ease-in-out infinite;
        }

        .profile-overlay-content p {
            font-size: 0.9rem;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            margin: 0;
        }

        /* Floating Tech Icons untuk Profile */
        .floating-tech-icon {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            z-index: 2;
            animation: float 6s ease-in-out infinite;
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Typewriter Effect */
        .typewriter {
            overflow: hidden;
            border-right: 2px solid var(--primary);
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--primary) }
        }

        /* Tech Categories */
        .tech-category-frontend { background: rgba(59, 130, 246, 0.15); border-color: rgba(59, 130, 246, 0.3); color: #3b82f6; }
        .tech-category-backend { background: rgba(16, 185, 129, 0.15); border-color: rgba(16, 185, 129, 0.3); color: #10b981; }
        .tech-category-database { background: rgba(245, 158, 11, 0.15); border-color: rgba(245, 158, 11, 0.3); color: #f59e0b; }
        .tech-category-mobile { background: rgba(139, 92, 246, 0.15); border-color: rgba(139, 92, 246, 0.3); color: #8b5cf6; }
        .tech-category-devops { background: rgba(239, 68, 68, 0.15); border-color: rgba(239, 68, 68, 0.3); color: #ef4444; }
        .tech-category-cloud { background: rgba(99, 102, 241, 0.15); border-color: rgba(99, 102, 241, 0.3); color: #6366f1; }
        .tech-category-tools { background: rgba(168, 85, 247, 0.15); border-color: rgba(168, 85, 247, 0.3); color: #a855f7; }
        .tech-category-design { background: rgba(236, 72, 153, 0.15); border-color: rgba(236, 72, 153, 0.3); color: #ec4899; }
        .tech-category-ai { background: rgba(139, 92, 246, 0.15); border-color: rgba(139, 92, 246, 0.3); color: #8b5cf6; }

        /* Responsive */
        @media (max-width: 768px) {
            .profile-container {
                width: 280px;
                height: 280px;
            }
            
            .modal-content {
                max-width: 95vw;
                max-height: 85vh;
            }
            
            .grid-responsive {
                grid-template-columns: 1fr;
            }

            .floating-tech-icon {
                width: 40px;
                height: 40px;
            }
        }

        @media (max-width: 640px) {
            .profile-container {
                width: 240px;
                height: 240px;
            }
        }

        /* Print Styles */
        @media print {
            .no-print {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
            }
            
            .glass-effect, .glass-card {
                background: white !important;
                box-shadow: none !important;
                border: 1px solid #ddd !important;
            }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .focus-visible:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.3);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s ease;
            border: none;
        }

        .fab:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 6px 30px rgba(99, 102, 241, 0.4);
        }

        @media (max-width: 640px) {
            .fab {
                width: 3rem;
                height: 3rem;
                bottom: 1.5rem;
                right: 1.5rem;
            }
        }

        /* Button Loading State */
        .btn-loading {
            position: relative;
            color: transparent !important;
        }

        .btn-loading::after {
            content: '';
            position: absolute;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        /* Typography improvements */
        .section-title {
            font-size: 3.5rem;
            line-height: 1.1;
            font-weight: 900;
            letter-spacing: -0.025em;
        }

        @media (max-width: 768px) {
            .section-title {
                font-size: 2.5rem;
            }
        }

        .lead-text {
            font-size: 1.25rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        /* Project Image Styling (untuk referensi) */
        .project-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.7s ease;
            border-radius: 20px 20px 0 0;
        }

        /* Tooltip untuk social links */
        .tooltip-container {
            position: relative;
        }

        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
            margin-bottom: 0.5rem;
            z-index: 10;
        }

        .tooltip-container:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-width: 6px;
            border-style: solid;
            border-color: rgba(0, 0, 0, 0.8) transparent transparent transparent;
        }

        /* ============================================== */
        /* PROJECT SLIDER & PAGINATION STYLES - TAMBAHAN */
        /* ============================================== */

        /* Projects Pagination Container */
        .projects-container {
            position: relative;
            overflow: hidden;
            border-radius: 20px;
        }

        /* Projects Grid for normal view */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            transition: transform 0.5s ease;
        }

        /* Project Slide for slider view */
        .project-slide {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .project-slide.active {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
        }

        /* Slider Controls */
        .slider-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 3rem;
            padding: 1rem;
        }

        .slider-nav-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-primary);
            font-size: 1.2rem;
        }

        .slider-nav-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
            border-color: var(--primary);
        }

        .slider-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            background: var(--bg-secondary);
            color: var(--text-secondary);
        }

        .slider-nav-btn:disabled:hover {
            background: var(--bg-secondary);
            color: var(--text-secondary);
            border-color: var(--border-color);
        }

        /* Pagination Dots */
        .pagination-dots {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .pagination-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pagination-dot.active {
            background: var(--primary);
            transform: scale(1.3);
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        }

        .pagination-dot:hover:not(.active) {
            background: var(--text-secondary);
            transform: scale(1.1);
        }

        /* Slide Info */
        .slide-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .slide-info-number {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* View Toggle Buttons */
        .view-toggle {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .view-toggle-btn {
            padding: 0.75rem 1.5rem;
            border-radius: 10px;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .view-toggle-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .view-toggle-btn:hover:not(.active) {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        /* Auto-slide Indicator */
        .auto-slide-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .auto-slide-toggle {
            width: 40px;
            height: 20px;
            background: var(--border-color);
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auto-slide-toggle.active {
            background: var(--primary);
        }

        .auto-slide-toggle::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s ease;
        }

        .auto-slide-toggle.active::before {
            transform: translateX(20px);
        }

        /* Slide Animation */
        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(-100px);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-out {
            animation: slideOut 0.3s ease forwards;
        }

        .slide-in {
            animation: slideInRight 0.3s ease forwards;
        }

        /* Responsive adjustments for slider */
        @media (max-width: 768px) {
            .project-slide.active {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .projects-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .slider-controls {
                margin-top: 2rem;
                padding: 0.5rem;
            }
            
            .slider-nav-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .view-toggle {
                flex-direction: column;
                align-items: center;
            }
            
            .view-toggle-btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .slider-controls {
                flex-wrap: wrap;
            }
            
            .slide-info {
                order: 3;
                width: 100%;
                justify-content: center;
                margin-top: 1rem;
            }
        }

        /* Empty State */
        .empty-projects {
            text-align: center;
            padding: 4rem 2rem;
            background: var(--bg-secondary);
            border-radius: 20px;
            border: 2px dashed var(--border-color);
        }

        .empty-projects i {
            font-size: 4rem;
            color: var(--border-color);
            margin-bottom: 1rem;
        }

        .empty-projects h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .empty-projects p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        /* Firebase Auth Button */
        .firebase-auth-btn {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            z-index: 100;
        }

        /* Connection Status */
        .connection-status {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            pointer-events: none;
        }

        .connection-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
            display: inline-block;
        }

        .connection-online .connection-dot {
            background-color: #10B981;
            box-shadow: 0 0 10px #10B981;
        }

        .connection-offline .connection-dot {
            background-color: #EF4444;
        }

        .connection-syncing .connection-dot {
            background-color: #F59E0B;
            animation: pulse 1.5s infinite;
        }

        /* Data Status Indicator */
        .data-status-indicator {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 9999;
            pointer-events: none;
        }

        .data-status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
            display: inline-block;
        }

        .data-synced .data-status-dot {
            background-color: #10B981;
            box-shadow: 0 0 10px #10B981;
        }

        .data-unsynced .data-status-dot {
            background-color: #F59E0B;
            animation: pulse 1.5s infinite;
        }

        .data-error .data-status-dot {
            background-color: #EF4444;
            animation: pulse 1s infinite;
        }
    </style>
</head>
<body x-bind:class="isDark ? 'dark-mode' : 'light-mode'" class="min-h-screen relative">
    <!-- Particle Background -->
    <div id="particles-js"></div>
    
    <!-- Floating Elements -->
    <div class="floating-element w-96 h-96 bg-purple-500 top-20 left-20"></div>
    <div class="floating-element w-64 h-64 bg-indigo-500 bottom-20 right-20" style="animation-delay: -10s;"></div>
    <div class="floating-element w-80 h-80 bg-blue-500 top-1/2 left-1/4" style="animation-delay: -5s;"></div>

    <!-- Connection Status -->
    <div class="connection-status" :class="{
        'connection-online': isOnline && !isSyncing,
        'connection-offline': !isOnline,
        'connection-syncing': isSyncing
    }">
        <div class="px-4 py-2 rounded-full glass-card text-sm font-medium">
            <span class="connection-dot"></span>
            <span x-text="connectionStatusText"></span>
            <span x-show="isSyncing" class="ml-2">
                <i class="fas fa-sync-alt animate-spin"></i>
            </span>
        </div>
    </div>

    <!-- Data Status Indicator -->
    <div class="data-status-indicator" :class="{
        'data-synced': dataStatus === 'synced',
        'data-unsynced': dataStatus === 'unsynced',
        'data-error': dataStatus === 'error'
    }" x-show="!isLoading">
        <div class="px-4 py-2 rounded-full glass-card text-sm font-medium">
            <span class="data-status-dot"></span>
            <span x-text="dataStatusText"></span>
        </div>
    </div>

    <!-- Scroll Progress Bar -->
    <div class="scroll-progress" :style="`transform: scaleX(${scrollProgress / 100})`"></div>

    <!-- Loading Screen -->
    <div x-show="isLoading" x-transition.opacity class="loading-overlay">
        <div class="text-center space-y-8">
            <div class="relative">
                <div class="w-40 h-40 mx-auto relative">
                    <div class="absolute inset-0 border-4 border-transparent border-t-indigo-500 rounded-full loading-spinner"></div>
                    <div class="absolute inset-4 border-4 border-transparent border-t-purple-500 rounded-full loading-spinner" style="animation-duration: 1.5s"></div>
                    <div class="absolute inset-8 border-4 border-transparent border-t-pink-500 rounded-full loading-spinner" style="animation-duration: 2s"></div>

                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-24 h-24 gradient-bg rounded-2xl flex items-center justify-center animate-float">
                            <i class="fas fa-code text-white text-3xl"></i>
                        </div>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <h2 class="text-4xl font-bold text-white tracking-wider">IT<span class="gradient-text">Developer</span></h2>
                <p class="text-white/80 typewriter font-mono text-sm" x-text="loadingMessage"></p>
                <div class="w-64 mx-auto mt-4">
                    <div class="flex justify-between text-xs text-white/60 mb-1">
                        <span>Loading Data...</span>
                        <span x-text="loadingProgress + '%'"></span>
                    </div>
                    <div class="h-1 bg-white/20 rounded-full overflow-hidden">
                        <div class="h-full gradient-bg transition-all duration-300" :style="`width: ${loadingProgress}%`"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Auth Button -->
    <div class="firebase-auth-btn no-print" x-show="!userId && !isLoading">
        <button @click="initFirebaseAuth()"
                class="btn btn-primary flex items-center gap-2 shadow-xl">
            <i class="fas fa-cloud-upload-alt"></i>
            <span>Sync with Firebase</span>
        </button>
    </div>

    <!-- Floating Action Button -->
    <button @click="scrollTo('contact')" class="fab no-print" title="Get in Touch" aria-label="Contact me">
        <i class="fas fa-paper-plane text-xl"></i>
    </button>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-40 py-4 transition-all duration-300 glass-effect"
         :class="{'shadow-xl': !isAtTop}">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <a href="#home" class="flex items-center space-x-3 group focus-visible">
                    <div class="w-12 h-12 sm:w-14 sm:h-14 gradient-bg rounded-xl flex items-center justify-center group-hover:rotate-12 transition-transform duration-300 shadow-lg">
                        <i class="fas fa-code text-white text-lg sm:text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-lg sm:text-xl font-bold gradient-text tracking-tight">PORTOFOLIO</h1>
                        <p class="text-xs text-slate-600 dark:text-slate-400">IT Developer</p>
                    </div>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden lg:flex items-center space-x-1">
                    <template x-for="(item, index) in navItems" :key="index">
                        <a :href="item.href"
                           class="px-4 sm:px-5 py-2 sm:py-3 rounded-lg text-sm font-semibold transition-all duration-300 relative group"
                           :class="activeSection === item.name.toLowerCase()
                                   ? 'gradient-text font-bold'
                                   : 'text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white'"
                           @click.prevent="scrollTo(item.href.replace('#', ''))"
                           :aria-current="activeSection === item.name.toLowerCase() ? 'page' : null">
                            <span x-text="item.name" class="relative z-10"></span>
                            <span class="absolute bottom-0 left-1/2 w-0 h-0.5 gradient-bg transition-all duration-300 group-hover:w-full group-hover:left-0"
                                  :class="activeSection === item.name.toLowerCase() ? 'w-full left-0' : ''"></span>
                        </a>
                    </template>
                </div>

                <!-- Right Actions -->
                <div class="flex items-center space-x-2 sm:space-x-3">
                    <!-- Firebase User Info -->
                    <div x-show="userId" class="flex items-center space-x-3">
                        <div class="text-right hidden sm:block">
                            <p class="text-xs font-semibold gradient-text truncate max-w-[120px]" 
                               x-text="userEmail"></p>
                            <p class="text-xs text-slate-500">Cloud Sync</p>
                        </div>
                        <button @click="signOut()"
                                class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-all duration-300 shadow-lg group focus-visible"
                                title="Sign Out">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>

                    <!-- Data Management Button -->
                    <div class="relative">
                        <button @click="toggleDataPanel"
                                class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-all duration-300 shadow-lg group focus-visible"
                                :title="`${totalItems} items in storage`"
                                aria-label="Data management">
                            <i class="fas fa-database group-hover:rotate-90 transition-transform duration-300"></i>
                            <span x-show="totalItems > 0" 
                                  class="absolute -top-1 -right-1 w-5 h-5 rounded-full gradient-bg text-white text-xs flex items-center justify-center font-bold"
                                  x-text="totalItems"></span>
                        </button>
                    </div>

                    <!-- Theme Toggle -->
                    <button @click="toggleTheme"
                            class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-all duration-300 shadow-lg group focus-visible"
                            aria-label="Toggle theme">
                        <i class="fas fa-sun transform transition-all duration-300" 
                           :class="!isDark ? 'rotate-0 opacity-100' : 'rotate-90 opacity-0'"></i>
                        <i class="fas fa-moon transform transition-all duration-300 absolute"
                           :class="isDark ? 'rotate-0 opacity-100' : '-rotate-90 opacity-0'"></i>
                    </button>

                    <!-- Mobile Menu Button -->
                    <button @click="mobileMenu = !mobileMenu"
                            class="lg:hidden w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center shadow-lg focus-visible"
                            aria-label="Toggle menu">
                        <i class="fas fa-bars text-lg transition-transform duration-300"
                           :class="mobileMenu ? 'rotate-90' : ''"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div x-show="mobileMenu" x-transition
                 class="lg:hidden mt-4 p-4 rounded-2xl glass-card shadow-xl">
                <div class="space-y-2">
                    <template x-for="(item, index) in navItems" :key="index">
                        <a :href="item.href"
                           class="block px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300 relative group focus-visible"
                           :class="activeSection === item.name.toLowerCase()
                                   ? 'gradient-bg text-white shadow-lg'
                                   : 'text-slate-700 dark:text-slate-300 hover:bg-slate-100/50 dark:hover:bg-slate-800/50'"
                           @click="mobileMenu = false; scrollTo(item.href.replace('#', ''))"
                           :aria-current="activeSection === item.name.toLowerCase() ? 'page' : null">
                            <span x-text="item.name"></span>
                            <span class="absolute right-4 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <i class="fas fa-chevron-right text-xs"></i>
                            </span>
                        </a>
                    </template>
                </div>
            </div>

            <!-- Data Management Panel -->
            <div x-show="showDataPanel" x-transition
                 class="mt-4 p-4 sm:p-6 rounded-2xl glass-card shadow-xl modal-content"
                 @click.stop>
                <div class="space-y-6">
                    <div class="flex justify-between items-center">
                        <h3 class="font-bold text-xl sm:text-2xl gradient-text">Data Management</h3>
                        <button @click="showDataPanel = false" 
                                class="w-8 h-8 sm:w-10 sm:h-10 rounded-xl flex items-center justify-center glass-card hover:scale-110 transition-transform duration-300 focus-visible"
                                aria-label="Close data panel">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>

                    <!-- Firebase Sync Status -->
                    <div x-show="userId" class="mb-6 p-4 rounded-xl bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-cloud text-green-500 text-xl"></i>
                                <div>
                                    <h4 class="font-semibold text-green-500">Firebase Sync Active</h4>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">
                                        Last sync: <span x-text="lastSyncTime"></span>
                                    </p>
                                </div>
                            </div>
                            <button @click="syncToFirebase()" 
                                    class="btn btn-secondary text-sm px-4 py-2"
                                    :disabled="isSyncing">
                                <i class="fas fa-sync-alt mr-2" :class="{'animate-spin': isSyncing}"></i>
                                <span x-text="isSyncing ? 'Syncing...' : 'Sync Now'"></span>
                            </button>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Import Data -->
                        <div class="space-y-4">
                            <h4 class="font-semibold text-lg">
                                <i class="fas fa-download mr-2"></i>Import Data
                            </h4>
                            <div class="flex flex-col sm:flex-row gap-3">
                                <button @click="importSampleData"
                                        class="btn btn-secondary flex-1">
                                    <i class="fas fa-database mr-2"></i>
                                    Load Sample
                                </button>
                                <button @click="importFromFile"
                                        class="btn btn-primary flex-1">
                                    <i class="fas fa-file-import mr-2"></i>
                                    Import JSON
                                </button>
                                <input type="file" id="jsonFileInput" @change="handleFileImport" accept=".json" class="hidden">
                            </div>
                        </div>

                        <!-- Export Data -->
                        <div class="space-y-4">
                            <h4 class="font-semibold text-lg">
                                <i class="fas fa-upload mr-2"></i>Export Data
                            </h4>
                            <div class="flex flex-col sm:flex-row gap-3">
                                <button @click="exportToJSON"
                                        class="btn btn-secondary flex-1">
                                    <i class="fas fa-file-export mr-2"></i>
                                    Export JSON
                                </button>
                                <button @click="exportBackup"
                                        class="btn btn-secondary flex-1">
                                    <i class="fas fa-shield-alt mr-2"></i>
                                    Backup All
                                </button>
                                <button @click="clearAllData"
                                        class="btn btn-secondary flex-1 bg-red-500/10 hover:bg-red-500/20 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800/30">
                                    <i class="fas fa-trash mr-2"></i>
                                    Clear All
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Data Health Check -->
                    <div class="p-4 rounded-xl glass-card">
                        <h4 class="font-semibold text-lg mb-3">
                            <i class="fas fa-heartbeat mr-2"></i>Data Health Check
                        </h4>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Local Storage</span>
                                <span class="text-sm font-semibold" :class="storageAvailable ? 'text-green-500' : 'text-red-500'"
                                      x-text="storageAvailable ? 'âœ“ Available' : 'âœ— Unavailable'"></span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Data Integrity</span>
                                <span class="text-sm font-semibold" :class="dataIntegrity ? 'text-green-500' : 'text-yellow-500'"
                                      x-text="dataIntegrity ? 'âœ“ Valid' : 'âš ï¸ Check Needed'"></span>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm">Storage Usage</span>
                                <span class="text-sm font-semibold" x-text="storageUsage"></span>
                            </div>
                            <button @click="runDataHealthCheck()" 
                                    class="btn btn-secondary w-full mt-2">
                                <i class="fas fa-stethoscope mr-2"></i>
                                Run Health Check
                            </button>
                        </div>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 pt-6 border-t border-slate-200/50 dark:border-slate-700/50">
                        <div class="text-center p-4 rounded-xl glass-card">
                            <div class="text-2xl font-bold gradient-text" x-text="skills.length"></div>
                            <div class="text-xs text-slate-600 dark:text-slate-400">Skills</div>
                        </div>
                        <div class="text-center p-4 rounded-xl glass-card">
                            <div class="text-2xl font-bold" x-text="projects.length"></div>
                            <div class="text-xs text-slate-600 dark:text-slate-400">Projects</div>
                        </div>
                        <div class="text-center p-4 rounded-xl glass-card">
                            <div class="text-2xl font-bold" x-text="totalProjectCount"></div>
                            <div class="text-xs text-slate-600 dark:text-slate-400">Total Projects</div>
                        </div>
                        <div class="text-center p-4 rounded-xl glass-card">
                            <div class="text-2xl font-bold" x-text="averageSkillLevel + '%'"></div>
                            <div class="text-xs text-slate-600 dark:text-slate-400">Avg. Skill Level</div>
                        </div>
                    </div>

                    <!-- Sync History -->
                    <div x-show="syncHistory.length > 0" class="mt-6 pt-6 border-t border-slate-200/50 dark:border-slate-700/50">
                        <h4 class="font-semibold text-lg mb-4">
                            <i class="fas fa-history mr-2"></i>Sync History
                        </h4>
                        <div class="space-y-2 max-h-40 overflow-y-auto">
                            <template x-for="(sync, index) in syncHistory.slice(0, 5)" :key="index">
                                <div class="flex items-center justify-between p-3 rounded-lg glass-card text-sm">
                                    <div class="flex items-center space-x-3">
                                        <i :class="sync.status === 'success' ? 'fas fa-check-circle text-green-500' : 'fas fa-times-circle text-red-500'"></i>
                                        <span x-text="sync.action"></span>
                                    </div>
                                    <span class="text-xs text-slate-500" x-text="formatTimeAgo(sync.timestamp)"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="home" class="min-h-screen pt-24 sm:pt-28 pb-16 sm:pb-24 flex items-center relative">
            <div class="container mx-auto px-4 sm:px-6 relative z-10">
                <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                    <!-- Left Content -->
                    <div class="space-y-8 sm:space-y-12">
                        <!-- Badge -->
                        <div class="inline-flex items-center space-x-3 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card shadow-lg animate-float">
                            <div class="w-2 h-2 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse"></div>
                            <span class="text-sm font-semibold gradient-text">Available for Projects</span>
                        </div>

                        <!-- Main Headline -->
                        <div class="space-y-6 sm:space-y-8">
                            <h1 class="section-title">
                                <span class="block"> Digital</span>
                                <span class="gradient-text">Excellence</span>
                            </h1>

                            <p class="lead-text">
                                Backend Developer Turning complex problems into elegant solutions.
                            </p>
                        </div>

                        <!-- Experience & Stats -->
                        <div class="flex flex-wrap items-center gap-6 pt-6 sm:pt-8">
                            <div class="flex items-center space-x-4 p-4 sm:p-5 rounded-2xl glass-card shadow-lg card-hover">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i class="fas fa-calendar-alt text-white text-lg sm:text-xl"></i>
                                </div>
                                <div>
                                    <div class="text-xl sm:text-2xl font-bold gradient-text" x-text="totalExperienceYears"></div>
                                    <div class="text-sm text-slate-600 dark:text-slate-400">Years Experience</div>
                                </div>
                            </div>

                            <div class="flex items-center space-x-4 p-4 sm:p-5 rounded-2xl glass-card shadow-lg card-hover">
                                <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center shadow-lg"
                                     :class="isDark ? 'bg-indigo-500/20' : 'bg-indigo-500/10'">
                                    <i class="fas fa-project-diagram text-lg sm:text-xl"
                                       :class="isDark ? 'text-indigo-400' : 'text-indigo-600'"></i>
                                </div>
                                <div>
                                    <div class="text-xl sm:text-2xl font-bold" x-text="projects.length"></div>
                                    <div class="text-sm text-slate-600 dark:text-slate-400">Projects</div>
                                </div>
                            </div>
                        </div>

                        <!-- CTA Buttons -->
                        <div class="flex flex-wrap gap-4 sm:gap-5 pt-8 sm:pt-10">
                            <button @click="scrollTo('projects')"
                                    class="btn btn-primary px-6 sm:px-10 py-3 sm:py-5">
                                <span>View Projects</span>
                                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
                            </button>

                            <button @click="scrollTo('contact')"
                                    class="btn btn-secondary px-6 sm:px-10 py-3 sm:py-5">
                                <i class="fas fa-envelope"></i>
                                <span>Contact Me</span>
                            </button>
                        </div>
                    </div>

                    <!-- Right Content - Profile -->
                    <div class="relative mt-8 lg:mt-0">
                        <div class="profile-container card-hover" @click="openModal('editProfile')">
                            <!-- Gambar profil utama -->
                            <img :src="profileImageSrc" 
                                 alt="Profile Picture" 
                                 id="main-profile-image"
                                 class="profile-image">
                            
                            <!-- Overlay untuk edit -->
                            <div class="profile-overlay">
                                <div class="profile-overlay-content">
                                    <i class="fas fa-camera"></i>
                                    <p>Update Profile Picture</p>
                                </div>
                            </div>
                        </div>

                        <!-- Experience Badge -->
                        <div class="absolute -bottom-4 -right-4 sm:-bottom-6 sm:-right-6">
                            <div class="px-6 sm:px-8 py-2 sm:py-4 rounded-full gradient-bg text-white text-sm font-bold flex items-center space-x-2 sm:space-x-3 shadow-xl animate-float">
                                <i class="fas fa-bolt animate-pulse"></i>
                                <span x-text="`${totalExperienceYears}+ Years`"></span>
                            </div>
                        </div>

                        <!-- Floating Tech Icons -->
                        <div class="floating-tech-icon -top-6 -left-6" style="animation-delay: 0.5s; background: rgba(59, 130, 246, 0.2); border: 1px solid rgba(59, 130, 246, 0.3);">
                            <i class="fab fa-react text-blue-500 text-xl"></i>
                        </div>
                        <div class="floating-tech-icon -bottom-6 left-1/4" style="animation-delay: 1s; background: rgba(16, 185, 129, 0.2); border: 1px solid rgba(16, 185, 129, 0.3);">
                            <i class="fab fa-node-js text-green-600 text-xl"></i>
                        </div>
                        <div class="floating-tech-icon top-1/2 -right-6" style="animation-delay: 1.5s; background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3);">
                            <i class="fab fa-vuejs text-green-500 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-16 sm:py-28 relative">
            <div class="container mx-auto px-4 sm:px-6">
                <!-- Section Header -->
                <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
                    <div class="inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card mb-6 sm:mb-8 shadow-lg">
                        <i class="fas fa-cogs text-indigo-500"></i>
                        <span class="text-sm font-semibold gradient-text">Technical Expertise</span>
                    </div>

                    <h2 class="section-title mb-6 sm:mb-8">
                        Technical <span class="gradient-text">Skills</span>
                    </h2>

                    <p class="lead-text">
                        Mastering cutting-edge technologies to deliver exceptional digital solutions
                    </p>
                </div>

                <!-- Skills Categories -->
                <div class="flex flex-wrap justify-center gap-3 sm:gap-4 mb-8 sm:mb-16">
                    <template x-for="category in skillCategories" :key="category">
                        <button @click="activeSkillCategory = activeSkillCategory === category ? 'all' : category"
                                class="px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border-2"
                                :class="activeSkillCategory === category 
                                        ? 'gradient-bg text-white border-transparent shadow-lg'
                                        : 'glass-card text-slate-700 dark:text-slate-300 border-slate-200 dark:border-slate-700 hover:border-indigo-500'">
                            <i :class="getCategoryIcon(category)" class="mr-2"></i>
                            <span x-text="getCategoryName(category)"></span>
                        </button>
                    </template>
                </div>

                <!-- Skills Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12 sm:mb-20">
                    <template x-for="(skill, index) in filteredSkills" :key="skill.id">
                        <div class="stagger-item"
                             :style="`animation-delay: ${index * 0.1}s`">
                            <div class="h-full p-6 sm:p-8 rounded-3xl glass-card shadow-lg card-hover">
                                <!-- Skill Header -->
                                <div class="flex items-start justify-between mb-6 sm:mb-10">
                                    <div class="flex items-center space-x-4 sm:space-x-5">
                                        <div class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl flex items-center justify-center shadow-lg"
                                             :class="getSkillCategoryColor(skill.category)">
                                            <i :class="skill.icon" class="text-xl sm:text-2xl text-white"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-lg sm:text-xl mb-2" x-text="skill.name"></h3>
                                            <div class="flex items-center space-x-2 sm:space-x-3">
                                                <div class="flex">
                                                    <template x-for="i in 5" :key="i">
                                                        <i :class="i <= Math.ceil(skill.level / 20) 
                                                                  ? 'fas fa-star text-yellow-500' 
                                                                  : 'far fa-star text-slate-400'"
                                                           class="text-xs sm:text-sm"></i>
                                                    </template>
                                                </div>
                                                <span class="text-xs font-semibold px-2 sm:px-3 py-1 rounded-full"
                                                      :class="getProficiencyClass(skill.level)"
                                                      x-text="getProficiencyLevel(skill.level)"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <button @click="confirmDelete('skill', skill.id, skill.name)" 
                                            class="text-slate-400 hover:text-red-500 transition-colors duration-300 hover:scale-110 focus-visible"
                                            aria-label="Delete skill">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>

                                <!-- Skill Progress -->
                                <div class="space-y-4 mb-6 sm:mb-10">
                                    <div class="flex justify-between text-sm">
                                        <span class="text-slate-600 dark:text-slate-400">Proficiency</span>
                                        <span class="font-bold gradient-text" x-text="skill.level + '%'"></span>
                                    </div>

                                    <div class="skill-bar">
                                        <div class="skill-progress" :style="`width: ${skill.level}%`"></div>
                                    </div>
                                </div>

                                <!-- Skill Details -->
                                <div class="grid grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-10 pb-6 sm:pb-10 border-t border-slate-200/20 pt-6 sm:pt-10">
                                    <div class="text-center p-3 sm:p-4 rounded-xl glass-card">
                                        <div class="text-xl sm:text-2xl font-bold gradient-text" x-text="skill.years"></div>
                                        <div class="text-xs text-slate-600 dark:text-slate-400">Years Experience</div>
                                    </div>
                                    <div class="text-center p-3 sm:p-4 rounded-xl glass-card">
                                        <div class="text-xl sm:text-2xl font-bold" x-text="skill.projects"></div>
                                        <div class="text-xs text-slate-600 dark:text-slate-400">Projects</div>
                                    </div>
                                </div>

                                <!-- Edit Button -->
                                <div>
                                    <button @click="editSkill(skill)"
                                            class="btn btn-secondary w-full">
                                        <i class="fas fa-edit mr-2"></i>
                                        Edit Skill
                                    </button>
                                </div>
                            </div>
                        </div>
                    </template>
                </div>

                <!-- Add Skill Button -->
                <div class="text-center">
                    <button @click="openModal('addSkill')"
                            class="btn btn-primary px-8 sm:px-12 py-4 sm:py-6">
                        <i class="fas fa-plus mr-2 sm:mr-3"></i>
                        <span class="text-base sm:text-lg">Add New Skill</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-16 sm:py-28 relative">
            <div class="container mx-auto px-4 sm:px-6">
                <!-- Section Header -->
                <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
                    <div class="inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card mb-6 sm:mb-8 shadow-lg">
                        <i class="fas fa-briefcase text-indigo-500"></i>
                        <span class="text-sm font-semibold gradient-text">Portfolio Showcase</span>
                    </div>

                    <h2 class="section-title mb-6 sm:mb-8">
                        Featured <span class="gradient-text">Projects</span>
                    </h2>

                    <p class="lead-text">
                        A collection of innovative solutions and successful implementations
                    </p>
                </div>

                <!-- View Toggle -->
                <div class="view-toggle" x-show="projects.length > 6">
                    <button @click="setProjectView('grid')"
                            class="view-toggle-btn"
                            :class="projectView === 'grid' ? 'active' : ''">
                        <i class="fas fa-th-large"></i>
                        Grid View
                    </button>
                    <button @click="setProjectView('slider')"
                            class="view-toggle-btn"
                            :class="projectView === 'slider' ? 'active' : ''">
                        <i class="fas fa-sliders-h"></i>
                        Slider View
                    </button>
                </div>

                <!-- Projects Container -->
                <div class="projects-container">
                    <!-- Empty State -->
                    <div x-show="projects.length === 0" class="empty-projects">
                        <i class="fas fa-folder-open"></i>
                        <h3>No Projects Yet</h3>
                        <p>Add your first project to showcase your work</p>
                        <button @click="openModal('addProject')" class="btn btn-primary mt-4">
                            <i class="fas fa-plus mr-2"></i>
                            Add Your First Project
                        </button>
                    </div>

                    <!-- Grid View -->
                    <div x-show="projects.length > 0 && projectView === 'grid'" class="projects-grid">
                        <template x-for="project in projects" :key="project.id">
                            <div class="rounded-3xl overflow-hidden glass-card shadow-lg card-hover">
                                <!-- Project Image -->
                                <div class="relative h-48 sm:h-64 lg:h-72 overflow-hidden">
                                    <img :src="project.image"
                                         :alt="project.name"
                                         class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                                         @error="handleProjectImageError($event, project.id)">
                                    
                                    <!-- Gradient Overlay -->
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>

                                    <!-- Project Type Badge -->
                                    <div class="absolute top-4 sm:top-6 right-4 sm:right-6">
                                        <span class="px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs font-semibold glass-card text-white shadow-lg capitalize"
                                              x-text="getProjectTypeName(project.type)"></span>
                                    </div>
                                </div>

                                <!-- Project Content -->
                                <div class="p-6 sm:p-8">
                                    <div class="flex justify-between items-start mb-6 sm:mb-8">
                                        <h3 class="text-lg sm:text-xl font-bold" x-text="project.name"></h3>
                                        <div class="flex space-x-2">
                                            <button @click="confirmDelete('project', project.id, project.name)" 
                                                    class="text-slate-400 hover:text-red-500 transition-colors duration-300 hover:scale-110 focus-visible"
                                                    aria-label="Delete project">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <p class="text-sm mb-6 sm:mb-10 line-clamp-3 leading-relaxed text-slate-600 dark:text-slate-400"
                                       x-text="project.description"></p>

                                    <!-- Technologies -->
                                    <div class="flex flex-wrap gap-2 sm:gap-3 mb-6 sm:mb-10">
                                        <template x-for="tech in project.technologies.slice(0, 4)" :key="tech">
                                            <span class="px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-medium glass-card"
                                                  x-text="tech"></span>
                                        </template>
                                        <span x-show="project.technologies.length > 4"
                                              class="px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-medium glass-card">
                                            +<span x-text="project.technologies.length - 4"></span>
                                        </span>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="flex justify-between items-center pt-6 sm:pt-8 border-t border-slate-200/20">
                                        <button @click="viewProject(project.id)"
                                                class="btn btn-secondary">
                                            View Details
                                        </button>
                                        <button @click="editProject(project)"
                                                class="btn btn-secondary">
                                            <i class="fas fa-edit mr-2"></i>
                                            Edit
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>

                    <!-- Slider View -->
                    <div x-show="projects.length > 0 && projectView === 'slider'" class="project-slider">
                        <!-- Slides -->
                        <template x-for="(slide, slideIndex) in projectSlides" :key="slideIndex">
                            <div class="project-slide"
                                 :class="{'active': currentSlide === slideIndex}"
                                 x-show="currentSlide === slideIndex">
                                <template x-for="project in slide" :key="project.id">
                                    <div class="rounded-3xl overflow-hidden glass-card shadow-lg card-hover">
                                        <!-- Project Image -->
                                        <div class="relative h-48 sm:h-64 lg:h-72 overflow-hidden">
                                            <img :src="project.image"
                                                 :alt="project.name"
                                                 class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                                                 @error="handleProjectImageError($event, project.id)">
                                            
                                            <!-- Gradient Overlay -->
                                            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"></div>

                                            <!-- Project Type Badge -->
                                            <div class="absolute top-4 sm:top-6 right-4 sm:right-6">
                                                <span class="px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs font-semibold glass-card text-white shadow-lg capitalize"
                                                      x-text="getProjectTypeName(project.type)"></span>
                                            </div>
                                        </div>

                                        <!-- Project Content -->
                                        <div class="p-6 sm:p-8">
                                            <div class="flex justify-between items-start mb-6 sm:mb-8">
                                                <h3 class="text-lg sm:text-xl font-bold" x-text="project.name"></h3>
                                                <div class="flex space-x-2">
                                                    <button @click="confirmDelete('project', project.id, project.name)" 
                                                            class="text-slate-400 hover:text-red-500 transition-colors duration-300 hover:scale-110 focus-visible"
                                                            aria-label="Delete project">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <p class="text-sm mb-6 sm:mb-10 line-clamp-3 leading-relaxed text-slate-600 dark:text-slate-400"
                                               x-text="project.description"></p>

                                            <!-- Technologies -->
                                            <div class="flex flex-wrap gap-2 sm:gap-3 mb-6 sm:mb-10">
                                                <template x-for="tech in project.technologies.slice(0, 4)" :key="tech">
                                                    <span class="px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-medium glass-card"
                                                          x-text="tech"></span>
                                                </template>
                                                <span x-show="project.technologies.length > 4"
                                                      class="px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-medium glass-card">
                                                    +<span x-text="project.technologies.length - 4"></span>
                                                </span>
                                            </div>

                                            <!-- Action Buttons -->
                                            <div class="flex justify-between items-center pt-6 sm:pt-8 border-t border-slate-200/20">
                                                <button @click="viewProject(project.id)"
                                                        class="btn btn-secondary">
                                                    View Details
                                                </button>
                                                <button @click="editProject(project)"
                                                        class="btn btn-secondary">
                                                    <i class="fas fa-edit mr-2"></i>
                                                    Edit
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </template>

                        <!-- Slider Controls -->
                        <div class="slider-controls" x-show="projectSlides.length > 1">
                            <!-- Previous Button -->
                            <button @click="prevSlide()"
                                    class="slider-nav-btn"
                                    :disabled="currentSlide === 0">
                                <i class="fas fa-chevron-left"></i>
                            </button>

                            <!-- Pagination Dots -->
                            <div class="pagination-dots">
                                <template x-for="(_, index) in projectSlides" :key="index">
                                    <div @click="goToSlide(index)"
                                         class="pagination-dot"
                                         :class="{'active': currentSlide === index}"></div>
                                </template>
                            </div>

                            <!-- Slide Info -->
                            <div class="slide-info">
                                <div class="slide-info-number">
                                    <span x-text="currentSlide + 1"></span>
                                </div>
                                <span>of</span>
                                <span x-text="projectSlides.length"></span>
                            </div>

                            <!-- Next Button -->
                            <button @click="nextSlide()"
                                    class="slider-nav-btn"
                                    :disabled="currentSlide === projectSlides.length - 1">
                                <i class="fas fa-chevron-right"></i>
                            </button>

                            <!-- Auto Slide Toggle -->
                            <div class="auto-slide-indicator">
                                <div @click="toggleAutoSlide()"
                                     class="auto-slide-toggle"
                                     :class="{'active': autoSlideEnabled}"
                                     title="Toggle auto slide">
                                </div>
                                <span>Auto</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Add Project Button -->
                <div class="text-center mt-12 sm:mt-24">
                    <button @click="openModal('addProject')"
                            class="btn btn-primary px-8 sm:px-12 py-4 sm:py-6">
                        <i class="fas fa-plus mr-2 sm:mr-3"></i>
                        <span class="text-base sm:text-lg">Add New Project</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-16 sm:py-28 relative">
            <div class="container mx-auto px-4 sm:px-6">
                <!-- Section Header -->
                <div class="text-center max-w-3xl mx-auto mb-12 sm:mb-20">
                    <div class="inline-flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 rounded-full glass-card mb-6 sm:mb-8 shadow-lg">
                        <i class="fas fa-envelope text-indigo-500"></i>
                        <span class="text-sm font-semibold gradient-text">Get in Touch</span>
                    </div>

                    <h2 class="section-title mb-6 sm:mb-8">
                        Let's <span class="gradient-text">Connect</span>
                    </h2>

                    <p class="lead-text">
                        Ready to bring your ideas to life? Let's discuss your project
                    </p>
                </div>

                <div class="grid lg:grid-cols-2 gap-8 sm:gap-16 max-w-6xl mx-auto">
                    <!-- Contact Information -->
                    <div class="space-y-8 sm:space-y-12">
                        <!-- Contact Card -->
                        <div class="p-6 sm:p-8 rounded-3xl glass-card shadow-lg card-hover">
                            <div class="flex items-center space-x-4 sm:space-x-6 mb-6 sm:mb-10">
                                <div class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i class="fas fa-envelope-open-text text-white text-xl sm:text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-xl sm:text-2xl">Email</h3>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">Quick response guaranteed</p>
                                </div>
                            </div>
                            <p class="text-xl sm:text-2xl font-bold gradient-text" x-text="profile.email"></p>
                        </div>

                        <!-- Phone Card -->
                        <div class="p-6 sm:p-8 rounded-3xl glass-card shadow-lg card-hover">
                            <div class="flex items-center space-x-4 sm:space-x-6 mb-6 sm:mb-10">
                                <div class="w-14 h-14 sm:w-18 sm:h-18 rounded-2xl flex items-center justify-center shadow-lg"
                                     :class="isDark ? 'bg-indigo-500/20' : 'bg-indigo-500/10'">
                                    <i class="fas fa-phone text-xl sm:text-2xl"
                                       :class="isDark ? 'text-indigo-400' : 'text-indigo-600'"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-xl sm:text-2xl">Phone</h3>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">Available for calls</p>
                                </div>
                            </div>
                            <p class="text-xl sm:text-2xl font-bold" x-text="profile.phone"></p>
                        </div>

                        <!-- Social Links -->
                        <div class="pt-8 sm:pt-12">
                            <h4 class="font-bold text-2xl sm:text-3xl mb-6 sm:mb-10">Connect With Me</h4>
                            <div x-ref="socialLinksContainer" class="flex flex-wrap gap-4 sm:gap-5">
                                <template x-for="(social, index) in socialLinks" :key="index">
                                    <a :href="social.url" 
                                       target="_blank" 
                                       rel="noopener noreferrer"
                                       class="tooltip-container w-14 h-14 sm:w-18 sm:h-18 rounded-2xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 shadow-lg focus-visible"
                                       :class="getSocialPlatformColorClass(social.platform)"
                                       x-show="social.url && social.url.trim() !== ''"
                                       :title="getSocialPlatformName(social.platform)">
                                        <i :class="social.icon" 
                                           class="text-xl sm:text-2xl text-white"></i>
                                        
                                        <!-- Tooltip -->
                                        <div class="tooltip" x-text="getSocialPlatformName(social.platform)"></div>
                                    </a>
                                </template>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Form -->
                    <div>
                        <div class="p-6 sm:p-8 lg:p-10 rounded-3xl glass-card shadow-lg card-hover">
                            <form @submit.prevent="submitContact" class="space-y-6 sm:space-y-10">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-user mr-2"></i>Username
                                    </label>
                                    <input type="text" x-model="contactForm.name" required
                                           class="form-input"
                                           placeholder="Username">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-envelope mr-2"></i>Email Address
                                    </label>
                                    <input type="email" x-model="contactForm.email" required
                                           class="form-input"
                                           placeholder="Email">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-comment mr-2"></i>Message
                                    </label>
                                    <textarea rows="5" x-model="contactForm.message" required
                                              class="form-input"
                                              placeholder="Deskripsi"></textarea>
                                </div>

                                <button type="submit"
                                        class="btn btn-primary w-full py-4 sm:py-6 text-base sm:text-lg">
                                    <span class="mr-2 sm:mr-3">Send Message</span>
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="py-12 sm:py-20 relative bg-slate-50/30 dark:bg-slate-900/30">
        <div class="container mx-auto px-4 sm:px-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <!-- Logo & Info -->
                <div class="mb-8 sm:mb-12 md:mb-0 text-center md:text-left">
                    <div class="flex items-center space-x-4 sm:space-x-5 mb-6 sm:mb-8">
                        <div class="w-12 h-12 sm:w-16 sm:h-16 rounded-2xl gradient-bg flex items-center justify-center shadow-lg animate-float">
                            <i class="fas fa-code text-white text-xl sm:text-2xl"></i>
                        </div>
                        <div>
                            <span class="text-2xl sm:text-3xl font-bold gradient-text">PORTOFOLIO</span>
                            <p class="text-sm text-slate-600 dark:text-slate-400">IT Developer</p>
                        </div>
                    </div>

                    <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">
                        Â© <span x-text="portfolioYear"></span> All rights reserved
                    </p>

                    <p class="text-xs mb-1 text-slate-500 dark:text-slate-500">
                        Professional Experience: Since 2023 (<span x-text="totalExperienceYears"></span> years)
                    </p>

                    <p class="text-xs text-slate-500 dark:text-slate-500">
                        <i class="fas fa-database mr-1"></i>Data stored locally in your browser
                    </p>
                </div>

                <!-- Quick Links -->
                <div class="flex space-x-6 sm:space-x-10">
                    <a href="#skills" class="text-sm font-semibold transition-all duration-300 hover:scale-105 hover:gradient-text text-slate-600 dark:text-slate-400 focus-visible">
                        Skills
                    </a>
                    <a href="#projects" class="text-sm font-semibold transition-all duration-300 hover:scale-105 hover:gradient-text text-slate-600 dark:text-slate-400 focus-visible">
                        Projects
                    </a>
                    <a href="#contact" class="text-sm font-semibold transition-all duration-300 hover:scale-105 hover:gradient-text text-slate-600 dark:text-slate-400 focus-visible">
                        Contact
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- MODALS -->

    <!-- Delete Confirmation Modal -->
    <template x-if="modals.deleteConfirm">
        <div>
            <div class="modal-overlay" @click="closeModal('deleteConfirm')"></div>
            <div class="modal-container">
                <div class="modal-content max-w-md">
                    <div class="p-6 sm:p-10">
                        <!-- Warning Icon -->
                        <div class="w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-500/10 to-red-600/10 flex items-center justify-center">
                            <i class="fas fa-exclamation-triangle text-red-500 text-2xl sm:text-3xl"></i>
                        </div>

                        <!-- Confirmation Message -->
                        <div class="text-center mb-6 sm:mb-8">
                            <h3 class="text-xl sm:text-2xl font-bold mb-4">Confirm Deletion</h3>
                            <p class="text-lg mb-2 text-slate-600 dark:text-slate-400">
                                Are you sure you want to delete
                            </p>
                            <p class="text-xl sm:text-2xl font-bold gradient-text mb-4 sm:mb-6" x-text="`"${deleteItem.name}"`"></p>
                            <p class="text-sm px-4 sm:px-6 py-2 sm:py-3 rounded-xl glass-card bg-red-500/10 text-red-600 dark:text-red-400">
                                <i class="fas fa-info-circle mr-2"></i>
                                This action cannot be undone
                            </p>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
                            <button @click="closeModal('deleteConfirm')"
                                    class="btn btn-secondary flex-1">
                                <i class="fas fa-times mr-2"></i>
                                Cancel
                            </button>
                            <button @click="executeDelete"
                                    class="btn flex-1 bg-red-500 hover:bg-red-600 text-white">
                                <i class="fas fa-trash mr-2"></i>
                                Delete Permanently
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Add/Edit Skill Modal -->
    <template x-if="modals.addSkill">
        <div>
            <div class="modal-overlay" @click="closeModal('addSkill')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10 pb-6 sm:pb-8 border-b border-slate-200/20">
                            <div class="flex items-center gap-4 sm:gap-5">
                                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i :class="editingSkill ? 'fas fa-edit' : 'fas fa-plus'" class="text-lg sm:text-xl text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl sm:text-3xl font-bold mb-2">
                                        <span x-text="editingSkill ? 'Edit Skill' : 'Add New Skill'"></span>
                                    </h3>
                                    <p class="text-lg text-slate-600 dark:text-slate-400">
                                        <span x-text="editingSkill ? 'Update your skill details' : 'Expand your technical expertise'"></span>
                                    </p>
                                </div>
                            </div>
                            <button @click="closeModal('addSkill')"
                                    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Skill Form -->
                        <form @submit.prevent="editingSkill ? updateSkill() : addNewSkill()" class="space-y-6 sm:space-y-8">
                            <!-- Tab Navigation -->
                            <div class="flex gap-2 p-2 rounded-xl glass-card mb-6">
                                <button type="button" @click="activeSkillTab = 'basic'"
                                        class="flex-1 px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeSkillTab === 'basic' 
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    Basic
                                </button>
                                <button type="button" @click="activeSkillTab = 'details'"
                                        class="flex-1 px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeSkillTab === 'details'
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-chart-line mr-2"></i>
                                    Details
                                </button>
                                <button type="button" @click="activeSkillTab = 'advanced'"
                                        class="flex-1 px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeSkillTab === 'advanced'
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-cog mr-2"></i>
                                    Advanced
                                </button>
                            </div>

                            <!-- Basic Info Tab -->
                            <div x-show="activeSkillTab === 'basic'" class="space-y-6 sm:space-y-8">
                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-tag mr-2"></i>Skill Name
                                        </label>
                                        <input type="text" x-model="newSkill.name" required
                                               class="form-input"
                                               placeholder="e.g., React, Laravel, Docker">
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-folder mr-2"></i>Category
                                        </label>
                                        <select x-model="newSkill.category" required
                                                class="form-input">
                                            <option value="">Select a category</option>
                                            <template x-for="category in skillCategories" :key="category">
                                                <option :value="category"
                                                        x-text="getCategoryName(category)">
                                                </option>
                                            </template>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-file-alt mr-2"></i>Skill Description
                                    </label>
                                    <textarea x-model="newSkill.description" rows="3"
                                              class="form-input"
                                              placeholder="Briefly describe your experience with this skill..."></textarea>
                                </div>
                            </div>

                            <!-- Details Tab -->
                            <div x-show="activeSkillTab === 'details'" class="space-y-6 sm:space-y-8">
                                <div class="p-4 sm:p-6 rounded-xl glass-card mb-6">
                                    <h4 class="font-semibold text-lg mb-4">
                                        <i class="fas fa-chart-line"></i>
                                        Proficiency Level
                                    </h4>
                                    
                                    <div class="space-y-4 sm:space-y-6">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <label class="form-label">Current Level</label>
                                                <div class="text-3xl sm:text-4xl font-bold gradient-text" x-text="newSkill.level + '%'"></div>
                                            </div>
                                            <div>
                                                <span class="status-badge" :class="getProficiencyClass(newSkill.level)">
                                                    <i :class="getProficiencyIcon(newSkill.level)"></i>
                                                    <span x-text="getProficiencyLevel(newSkill.level)"></span>
                                                </span>
                                            </div>
                                        </div>

                                        <input type="range" x-model="newSkill.level" min="0" max="100" step="1"
                                               class="w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer"
                                               :style="`background: linear-gradient(90deg, var(--primary) ${newSkill.level}%, var(--border-color) ${newSkill.level}%)`">

                                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
                                            <div class="flex flex-col items-center">
                                                <i class="fas fa-seedling text-green-500 text-lg sm:text-xl mb-2"></i>
                                                <span class="text-sm font-medium">Beginner</span>
                                                <span class="text-xs text-slate-500">0-40%</span>
                                            </div>
                                            <div class="flex flex-col items-center">
                                                <i class="fas fa-leaf text-blue-500 text-lg sm:text-xl mb-2"></i>
                                                <span class="text-sm font-medium">Intermediate</span>
                                                <span class="text-xs text-slate-500">41-70%</span>
                                            </div>
                                            <div class="flex flex-col items-center">
                                                <i class="fas fa-tree text-purple-500 text-lg sm:text-xl mb-2"></i>
                                                <span class="text-sm font-medium">Advanced</span>
                                                <span class="text-xs text-slate-500">71-90%</span>
                                            </div>
                                            <div class="flex flex-col items-center">
                                                <i class="fas fa-fire text-red-500 text-lg sm:text-xl mb-2"></i>
                                                <span class="text-sm font-medium">Expert</span>
                                                <span class="text-xs text-slate-500">91-100%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-calendar-alt mr-2"></i>Years Experience
                                        </label>
                                        <div class="flex items-center gap-4">
                                            <input type="number" x-model="newSkill.years" min="0" max="50" step="0.5"
                                                   class="form-input flex-1"
                                                   placeholder="e.g., 3.5">
                                            <span class="text-sm text-slate-600 dark:text-slate-400">years</span>
                                        </div>
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-project-diagram mr-2"></i>Projects Used In
                                        </label>
                                        <input type="number" x-model="newSkill.projects" min="0" max="100"
                                               class="form-input"
                                               placeholder="e.g., 15">
                                    </div>
                                </div>
                            </div>

                            <!-- Advanced Tab -->
                            <div x-show="activeSkillTab === 'advanced'" class="space-y-6 sm:space-y-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-certificate mr-2"></i>Certifications & Achievements
                                    </label>
                                    <div class="p-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl min-h-24">
                                        <template x-for="(cert, index) in newSkill.certifications" :key="index">
                                            <span class="tag mr-2 mb-2">
                                                <i class="fas fa-award"></i>
                                                <span x-text="cert"></span>
                                                <button type="button" @click="removeCertification(index)" 
                                                        class="ml-2 text-white/80 hover:text-white">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </span>
                                        </template>
                                        <input type="text" x-model="certificationInput"
                                               @keydown.enter.prevent="addCertification"
                                               class="w-full border-none bg-transparent outline-none mt-2"
                                               placeholder="Type certification and press Enter...">
                                    </div>
                                </div>

                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-hashtag mr-2"></i>Custom ID
                                        </label>
                                        <input type="text" x-model="newSkill.customId"
                                               class="form-input"
                                               placeholder="Optional custom identifier">
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-tags mr-2"></i>Tags
                                        </label>
                                        <div class="p-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl min-h-16">
                                            <template x-for="(tag, index) in newSkill.tags" :key="index">
                                                <span class="tag mr-2 mb-2">
                                                    <span x-text="tag"></span>
                                                    <button type="button" @click="removeTag(index)" 
                                                            class="ml-2 text-white/80 hover:text-white">
                                                        <i class="fas fa-times"></i>
                                                    </button>
                                                </span>
                                            </template>
                                            <input type="text" x-model="tagInput"
                                                   @keydown.enter.prevent="addTag"
                                                   class="w-full border-none bg-transparent outline-none"
                                                   placeholder="Add tags...">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Submit Buttons -->
                            <div class="flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 sm:pt-10 border-t border-slate-200/20">
                                <div class="flex gap-3 order-2 sm:order-1">
                                    <button type="button" @click="prevSkillTab"
                                            x-show="activeSkillTab !== 'basic'"
                                            class="btn btn-secondary">
                                        <i class="fas fa-arrow-left mr-2"></i>
                                        Previous
                                    </button>
                                    <button type="button" @click="nextSkillTab"
                                            x-show="activeSkillTab !== 'advanced'"
                                            class="btn btn-secondary">
                                        Next
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </button>
                                </div>

                                <div class="flex gap-3 order-1 sm:order-2">
                                    <button type="button" @click="closeModal('addSkill')"
                                        class="btn btn-secondary">
                                        Cancel
                                    </button>
                                    <button type="submit"
                                            class="btn btn-primary"
                                            :disabled="isSubmitting">
                                        <template x-if="!isSubmitting">
                                            <span x-text="editingSkill ? 'Update Skill' : 'Add Skill'"></span>
                                        </template>
                                        <template x-if="isSubmitting">
                                            <span class="btn-loading"></span>
                                        </template>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Add/Edit Project Modal -->
    <template x-if="modals.addProject">
        <div>
            <div class="modal-overlay" @click="closeModal('addProject')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10 pb-6 sm:pb-8 border-b border-slate-200/20">
                            <div class="flex items-center gap-4 sm:gap-5">
                                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i :class="editingProject ? 'fas fa-edit' : 'fas fa-plus'" class="text-lg sm:text-xl text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl sm:text-3xl font-bold mb-2">
                                        <span x-text="editingProject ? 'Edit Project' : 'Add New Project'"></span>
                                    </h3>
                                    <p class="text-lg text-slate-600 dark:text-slate-400">
                                        <span x-text="editingProject ? 'Update project details' : 'Showcase your work'"></span>
                                    </p>
                                </div>
                            </div>
                            <button @click="closeModal('addProject')"
                                    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Project Form -->
                        <form @submit.prevent="editingProject ? updateProject() : addNewProject()" class="space-y-6 sm:space-y-8">
                            <!-- Tab Navigation -->
                            <div class="flex flex-wrap gap-2 p-2 rounded-xl glass-card mb-6">
                                <button type="button" @click="activeProjectTab = 'basic'"
                                        class="flex-1 min-w-[120px] px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeProjectTab === 'basic' 
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    Basic
                                </button>
                                <button type="button" @click="activeProjectTab = 'tech'"
                                        class="flex-1 min-w-[120px] px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeProjectTab === 'tech'
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-code mr-2"></i>
                                    Tech
                                </button>
                                <button type="button" @click="activeProjectTab = 'media'"
                                        class="flex-1 min-w-[120px] px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeProjectTab === 'media'
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-image mr-2"></i>
                                    Media
                                </button>
                                <button type="button" @click="activeProjectTab = 'details'"
                                        class="flex-1 min-w-[120px] px-4 py-3 rounded-lg text-sm font-semibold transition-all duration-300"
                                        :class="activeProjectTab === 'details'
                                                ? 'gradient-bg text-white shadow-lg'
                                                : 'text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white'">
                                    <i class="fas fa-tasks mr-2"></i>
                                    Details
                                </button>
                            </div>

                            <!-- Basic Info Tab -->
                            <div x-show="activeProjectTab === 'basic'" class="space-y-6 sm:space-y-8">
                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-tag mr-2"></i>Project Name
                                        </label>
                                        <input type="text" x-model="newProject.name" required
                                               class="form-input"
                                               placeholder="e.g., E-commerce Platform">
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-layer-group mr-2"></i>Project Type
                                        </label>
                                        <select x-model="newProject.type"
                                                class="form-input">
                                            <option value="web">Web Application</option>
                                            <option value="mobile">Mobile App</option>
                                            <option value="api">API Development</option>
                                            <option value="desktop">Desktop Application</option>
                                            <option value="ai">AI/ML Project</option>
                                            <option value="saas">SaaS Platform</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-align-left mr-2"></i>Project Description
                                    </label>
                                    <textarea x-model="newProject.description" rows="4" required
                                              class="form-input"
                                              placeholder="Describe your project goals, features, and achievements..."></textarea>
                                </div>
                            </div>

                            <!-- Technologies Tab -->
                            <div x-show="activeProjectTab === 'tech'" class="space-y-6 sm:space-y-8">
                                <!-- Selected Technologies -->
                                <div class="form-container">
                                    <label class="form-label">Technologies Used</label>
                                    <div class="p-3 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl min-h-24">
                                        <template x-for="tech in newProject.technologies" :key="tech">
                                            <span class="tag mr-2 mb-2">
                                                <i :class="getTechIcon(tech)" class="mr-2"></i>
                                                <span x-text="tech"></span>
                                                <button type="button" @click="removeTech(tech)" 
                                                        class="ml-2 text-white/80 hover:text-white">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </span>
                                        </template>
                                        <input type="text" x-model="techInput"
                                               @keydown.enter.prevent="addTechnology"
                                               class="w-full border-none bg-transparent outline-none mt-2"
                                               placeholder="Type technology and press Enter...">
                                    </div>
                                </div>

                                <!-- Technology Suggestions -->
                                <div>
                                    <label class="form-label mb-4">Popular Technologies</label>
                                    <div class="flex flex-wrap gap-2">
                                        <template x-for="tech in popularTechnologies" :key="tech">
                                            <button type="button" @click="addTechFromSuggestion(tech)"
                                                    :class="newProject.technologies.includes(tech) 
                                                            ? 'gradient-bg text-white'
                                                            : 'glass-card text-slate-700 dark:text-slate-300 hover:border-indigo-500'"
                                                    class="px-4 py-2 rounded-lg transition-all duration-300">
                                                <span x-text="tech"></span>
                                                <span x-show="newProject.technologies.includes(tech)" 
                                                      class="ml-2">âœ“</span>
                                            </button>
                                        </template>
                                    </div>
                                </div>
                            </div>

                            <!-- Media & Links Tab -->
                            <div x-show="activeProjectTab === 'media'" class="space-y-6 sm:space-y-8">
                                <!-- Image Upload -->
                                <div class="form-container">
                                    <label class="form-label">Project Image</label>
                                    <div @dragover.prevent @dragenter.prevent @drop.prevent="handleDrop($event)"
                                         @click="triggerFileInput"
                                         class="border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-xl p-8 text-center cursor-pointer hover:border-indigo-500 transition-colors duration-300">
                                        <i class="fas fa-cloud-upload-alt text-4xl text-slate-400 dark:text-slate-500 mb-4"></i>
                                        <p class="text-lg mb-2">Drag & drop or click to upload</p>
                                        <p class="text-sm text-slate-500">PNG, JPG, GIF up to 5MB</p>
                                        <input type="file" id="projectImageInput" @change="uploadImage($event)" accept="image/*" class="hidden">
                                    </div>
                                    
                                    <!-- Image Preview -->
                                    <div x-show="newProject.image" class="mt-6">
                                        <img :src="newProject.image" alt="Preview" 
                                             class="w-full h-auto rounded-xl shadow-lg border-2 border-slate-200/20">
                                    </div>
                                </div>

                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fas fa-external-link-alt mr-2"></i>
                                            Live Demo URL
                                        </label>
                                        <input type="url" x-model="newProject.demoUrl"
                                               class="form-input"
                                               placeholder="https://your-project.com">
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">
                                            <i class="fab fa-github mr-2"></i>
                                            Source Code URL
                                        </label>
                                        <input type="url" x-model="newProject.sourceUrl"
                                               class="form-input"
                                               placeholder="https://github.com/username/project">
                                    </div>
                                </div>
                            </div>

                            <!-- Details Tab -->
                            <div x-show="activeProjectTab === 'details'" class="space-y-6 sm:space-y-8">
                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">Project Role</label>
                                        <select x-model="newProject.role"
                                                class="form-input">
                                            <option value="">Select your role</option>
                                            <option value="solo">Solo Developer</option>
                                            <option value="lead">Team Lead</option>
                                            <option value="frontend">Frontend Developer</option>
                                            <option value="backend">Backend Developer</option>
                                            <option value="fullstack">Full Stack Developer</option>
                                        </select>
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">Team Size</label>
                                        <input type="number" x-model="newProject.teamSize" min="1" max="50"
                                               class="form-input"
                                               placeholder="e.g., 3">
                                    </div>
                                </div>

                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">Start Date</label>
                                        <input type="date" x-model="newProject.startDate"
                                               class="form-input">
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">End Date</label>
                                        <input type="date" x-model="newProject.endDate"
                                               class="form-input"
                                               :disabled="newProject.isOngoing">
                                        <div class="flex items-center gap-3 mt-3">
                                            <input type="checkbox" x-model="newProject.isOngoing" id="ongoing"
                                                   class="w-5 h-5 rounded border-2 border-slate-300 dark:border-slate-600 bg-transparent">
                                            <label for="ongoing" class="text-sm text-slate-600 dark:text-slate-400">
                                                Ongoing Project
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                    <div class="form-container">
                                        <label class="form-label">Status</label>
                                        <select x-model="newProject.status"
                                                class="form-input">
                                            <option value="completed">Completed</option>
                                            <option value="in-progress">In Progress</option>
                                            <option value="planning">Planning</option>
                                        </select>
                                    </div>

                                    <div class="form-container">
                                        <label class="form-label">Client / Company</label>
                                        <input type="text" x-model="newProject.client"
                                               class="form-input"
                                               placeholder="Company name or client">
                                    </div>
                                </div>
                            </div>

                            <!-- Form Navigation & Submit -->
                            <div class="flex flex-col sm:flex-row justify-between items-center gap-4 pt-6 sm:pt-10 border-t border-slate-200/20">
                                <div class="flex gap-3 order-2 sm:order-1">
                                    <button type="button" @click="prevProjectTab"
                                            x-show="activeProjectTab !== 'basic'"
                                            class="btn btn-secondary">
                                        <i class="fas fa-arrow-left mr-2"></i>
                                        Previous
                                    </button>
                                    <button type="button" @click="nextProjectTab"
                                            x-show="activeProjectTab !== 'details'"
                                            class="btn btn-secondary">
                                        Next
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </button>
                                </div>

                                <div class="flex gap-3 order-1 sm:order-2">
                                    <button type="button" @click="closeModal('addProject')"
                                            class="btn btn-secondary">
                                        Cancel
                                    </button>
                                    <button type="submit"
                                            class="btn btn-primary"
                                            :disabled="isSubmitting">
                                        <template x-if="!isSubmitting">
                                            <span x-text="editingProject ? 'Update Project' : 'Add Project'"></span>
                                        </template>
                                        <template x-if="isSubmitting">
                                            <span class="btn-loading"></span>
                                        </template>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Edit Profile Modal -->
    <template x-if="modals.editProfile">
        <div>
            <div class="modal-overlay" @click="closeModal('editProfile')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10 pb-6 sm:pb-8 border-b border-slate-200/20">
                            <div class="flex items-center gap-4 sm:gap-5">
                                <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                    <i class="fas fa-user-edit text-lg sm:text-xl text-white"></i>
                                </div>
                                <div>
                                    <h3 class="text-2xl sm:text-3xl font-bold mb-2">
                                        Edit Profile
                                    </h3>
                                    <p class="text-lg text-slate-600 dark:text-slate-400">
                                        Update your personal information
                                    </p>
                                </div>
                            </div>
                            <button @click="closeModal('editProfile')"
                                    class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl glass-card flex items-center justify-center hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Profile Form -->
                        <form @submit.prevent="updateProfile()" class="space-y-6 sm:space-y-8">
                            <!-- Profile Image -->
                            <div class="text-center">
                                <div class="relative mx-auto w-40 h-40 sm:w-48 sm:h-48 mb-6">
                                    <!-- Gambar profil -->
                                    <img :src="profileImageSrc" alt="Profile" 
                                         id="modal-profile-image"
                                         class="w-full h-full rounded-xl object-cover border-4 border-slate-200 dark:border-slate-700 shadow-lg">
                                    
                                    <!-- Upload Button -->
                                    <label for="profile-upload" 
                                           class="absolute bottom-2 right-2 cursor-pointer group">
                                        <div class="w-12 h-12 sm:w-14 sm:h-14 rounded-full gradient-bg flex items-center justify-center shadow-lg hover:scale-110 transition-transform duration-300">
                                            <i class="fas fa-camera text-white text-lg"></i>
                                        </div>
                                        <input id="profile-upload" type="file" accept="image/*" 
                                               class="absolute inset-0 opacity-0 cursor-pointer w-full h-full" 
                                               @change="uploadProfileImage($event)">
                                    </label>
                                    
                                    <!-- Loading Overlay -->
                                    <div x-show="uploadingProfileImage" 
                                         class="absolute inset-0 rounded-xl bg-black/50 flex items-center justify-center">
                                        <div class="text-center">
                                            <div class="w-8 h-8 sm:w-10 sm:h-10 mx-auto mb-2 border-3 border-transparent border-t-white rounded-full loading-spinner"></div>
                                            <p class="text-white text-sm font-medium">Uploading...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <p class="text-sm text-slate-600 dark:text-slate-400">
                                    Click camera icon to upload new profile picture
                                </p>
                            </div>

                            <!-- Personal Information -->
                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-user-circle mr-2"></i>
                                        Full Name
                                    </label>
                                    <input type="text" x-model="profile.name" required
                                           class="form-input"
                                           placeholder="Your full name">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-briefcase mr-2"></i>
                                        Professional Title
                                    </label>
                                    <input type="text" x-model="profile.title"
                                           class="form-input"
                                           placeholder="e.g., Full Stack Developer">
                                </div>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6 sm:gap-8">
                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-envelope mr-2"></i>
                                        Email Address
                                    </label>
                                    <input type="email" x-model="profile.email" required
                                           class="form-input"
                                           placeholder="your.email@example.com">
                                </div>

                                <div class="form-container">
                                    <label class="form-label">
                                        <i class="fas fa-phone mr-2"></i>
                                        Phone Number
                                    </label>
                                    <input type="tel" x-model="profile.phone"
                                           class="form-input"
                                           placeholder="+62 822 9569 2941">
                                </div>
                            </div>

                            <!-- Bio Section -->
                            <div class="form-container">
                                <label class="form-label">
                                    <i class="fas fa-edit mr-2"></i>
                                    Professional Bio
                                </label>
                                <textarea x-model="profile.bio" rows="4"
                                          class="form-input"
                                          placeholder="Deskripsi"></textarea>
                            </div>

                            <!-- Social Links -->
                            <div class="space-y-6">
                                <div class="flex items-center justify-between">
                                    <label class="form-label">
                                        <i class="fas fa-share-alt mr-2"></i>
                                        Social Links
                                    </label>
                                    <span class="text-sm text-slate-500 dark:text-slate-400">
                                        <span x-text="socialLinks.length"></span> links added
                                    </span>
                                </div>
                                
                                <div class="space-y-4" x-show="socialLinks.length > 0">
                                    <template x-for="(link, index) in socialLinks" :key="index">
                                        <div class="flex gap-3 items-start p-4 rounded-xl glass-card hover:scale-[1.01] transition-transform duration-300">
                                            <div class="flex items-center justify-center w-12 h-12 rounded-lg"
                                                 :class="getSocialPlatformColorClass(link.platform)">
                                                <i :class="link.icon" class="text-xl text-white"></i>
                                            </div>
                                            
                                            <div class="flex-1 space-y-3">
                                                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                                    <div>
                                                        <label class="block text-sm font-medium mb-2">Platform</label>
                                                        <select x-model="link.platform"
                                                                class="form-input text-sm py-2.5"
                                                                @change="handlePlatformChange(link, index)">
                                                            <!-- Code & Development -->
                                                            <optgroup label="Code & Development">
                                                                <option value="github">GitHub</option>
                                                                <option value="gitlab">GitLab</option>
                                                                <option value="bitbucket">Bitbucket</option>
                                                                <option value="codepen">CodePen</option>
                                                                <option value="stackoverflow">Stack Overflow</option>
                                                            </optgroup>
                                                            
                                                            <!-- Professional Networks -->
                                                            <optgroup label="Professional Networks">
                                                                <option value="linkedin">LinkedIn</option>
                                                                <option value="devto">Dev.to</option>
                                                                <option value="hashnode">Hashnode</option>
                                                                <option value="medium">Medium</option>
                                                            </optgroup>
                                                            
                                                            <!-- Social Media -->
                                                            <optgroup label="Social Media">
                                                                <option value="twitter">Twitter / X</option>
                                                                <option value="instagram">Instagram</option>
                                                                <option value="facebook">Facebook</option>
                                                                <option value="youtube">YouTube</option>
                                                                <option value="tiktok">TikTok</option>
                                                            </optgroup>
                                                            
                                                            <!-- Design & Creative -->
                                                            <optgroup label="Design & Creative">
                                                                <option value="dribbble">Dribbble</option>
                                                                <option value="behance">Behance</option>
                                                                <option value="figma">Figma</option>
                                                            </optgroup>
                                                            
                                                            <!-- Communication -->
                                                            <optgroup label="Communication">
                                                                <option value="whatsapp">WhatsApp</option>
                                                                <option value="telegram">Telegram</option>
                                                                <option value="discord">Discord</option>
                                                            </optgroup>
                                                            
                                                            <!-- Freelance & Work -->
                                                            <optgroup label="Freelance & Work">
                                                                <option value="upwork">Upwork</option>
                                                                <option value="fiverr">Fiverr</option>
                                                                <option value="freelancer">Freelancer</option>
                                                            </optgroup>
                                                            
                                                            <!-- Learning & Courses -->
                                                            <optgroup label="Learning & Courses">
                                                                <option value="udemy">Udemy</option>
                                                                <option value="coursera">Coursera</option>
                                                                <option value="pluralsight">Pluralsight</option>
                                                            </optgroup>
                                                            
                                                            <!-- Other -->
                                                            <optgroup label="Other">
                                                                <option value="email">Email</option>
                                                                <option value="personal">Personal Website</option>
                                                                <option value="other">Other</option>
                                                            </optgroup>
                                                        </select>
                                                    </div>
                                                    
                                                    <div>
                                                        <label class="block text-sm font-medium mb-2">Profile URL</label>
                                                        <div class="relative">
                                                            <input type="url" x-model="link.url"
                                                                   class="form-input text-sm py-2.5 pr-10"
                                                                   :placeholder="getSocialPlaceholder(link.platform)">
                                                            <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
                                                                <i :class="isValidUrl(link.url) ? 'fas fa-check text-green-500' : 'fas fa-exclamation text-yellow-500'"
                                                                   x-show="link.url"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center space-x-2">
                                                        <span class="text-xs px-2 py-1 rounded-full glass-card"
                                                              x-text="getSocialPlatformName(link.platform)"></span>
                                                        <span x-show="link.url" 
                                                              class="text-xs text-slate-500 truncate max-w-[200px]"
                                                              x-text="getSocialUsername(link.url)"></span>
                                                    </div>
                                                    
                                                    <div class="flex items-center space-x-2">
                                                        <!-- Move up/down buttons -->
                                                        <button type="button" @click="moveSocialLink(index, 'up')"
                                                                x-show="index > 0"
                                                                class="w-8 h-8 rounded-lg flex items-center justify-center glass-card hover:bg-indigo-500/10 hover:text-indigo-500 transition-colors duration-300"
                                                                title="Move up">
                                                            <i class="fas fa-arrow-up text-xs"></i>
                                                        </button>
                                                        
                                                        <button type="button" @click="moveSocialLink(index, 'down')"
                                                                x-show="index < socialLinks.length - 1"
                                                                class="w-8 h-8 rounded-lg flex items-center justify-center glass-card hover:bg-indigo-500/10 hover:text-indigo-500 transition-colors duration-300"
                                                                title="Move down">
                                                            <i class="fas fa-arrow-down text-xs"></i>
                                                        </button>
                                                        
                                                        <!-- Delete button -->
                                                        <button type="button" @click="removeSocialLink(index)"
                                                                class="w-8 h-8 rounded-lg flex items-center justify-center glass-card text-red-500 hover:bg-red-500/10 hover:scale-110 transition-all duration-300"
                                                                title="Remove link">
                                                            <i class="fas fa-trash text-xs"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                                
                                <div class="space-y-4">
                                    <button type="button" @click="addSocialLink"
                                            class="btn btn-secondary w-full py-3">
                                        <i class="fas fa-plus mr-2"></i>
                                        Add Social Link
                                    </button>
                                    
                                    <!-- Quick Add Buttons -->
                                    <div class="text-center">
                                        <p class="text-sm text-slate-500 dark:text-slate-400 mb-3">Quick Add:</p>
                                        <div class="flex flex-wrap gap-2 justify-center">
                                            <template x-for="platform in ['github', 'linkedin', 'email', 'twitter', 'whatsapp']" :key="platform">
                                                <button type="button" @click="addQuickSocialLink(platform)"
                                                        class="px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 glass-card hover:scale-105 transition-transform duration-300"
                                                        x-show="!socialLinks.find(l => l.platform === platform)">
                                                    <i :class="getSocialIcon(platform)"></i>
                                                    <span x-text="getSocialPlatformName(platform)"></span>
                                                </button>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Submit Buttons -->
                            <div class="flex justify-end gap-4 pt-6 sm:pt-10 border-t border-slate-200/20">
                                <button type="button" @click="closeModal('editProfile')"
                                        class="btn btn-secondary">
                                    Cancel
                                </button>
                                <button type="submit"
                                        class="btn btn-primary">
                                    Update Profile
                                    <i class="fas fa-check ml-2"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Project Detail Modal -->
    <template x-if="modals.projectDetail">
        <div>
            <div class="modal-overlay" @click="closeModal('projectDetail')"></div>
            <div class="modal-container">
                <div class="modal-content">
                    <div class="p-6 sm:p-10">
                        <!-- Modal Header -->
                        <div class="flex items-center justify-between mb-6 sm:mb-10">
                            <div>
                                <h3 class="text-2xl sm:text-4xl font-bold mb-3" 
                                    x-text="selectedProject ? selectedProject.name : ''"></h3>
                                <div class="flex items-center space-x-4">
                                    <span class="px-4 sm:px-5 py-1.5 sm:py-2.5 rounded-full text-sm font-semibold gradient-bg text-white shadow-lg capitalize"
                                          x-text="selectedProject ? getProjectTypeName(selectedProject.type) : ''"></span>
                                    <span class="px-3 sm:px-4 py-1.5 sm:py-2 rounded-full text-sm font-semibold glass-card">
                                        <i class="fas fa-calendar mr-2"></i>
                                        <span x-text="selectedProject?.date || '2024'"></span>
                                    </span>
                                </div>
                            </div>
                            <button @click="closeModal('projectDetail')"
                                    class="w-10 h-10 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl flex items-center justify-center glass-card hover:scale-110 transition-transform duration-300 focus-visible"
                                    aria-label="Close modal">
                                <i class="fas fa-times text-lg sm:text-xl"></i>
                            </button>
                        </div>

                        <!-- Project Content -->
                        <div x-show="selectedProject" class="space-y-8 sm:space-y-10">
                            <!-- Project Image -->
                            <div class="rounded-3xl overflow-hidden shadow-xl">
                                <img :src="selectedProject.image"
                                     :alt="selectedProject.name"
                                     class="w-full h-64 sm:h-[400px] object-cover"
                                     @error="handleProjectImageError($event, selectedProject.id)">
                            </div>

                            <!-- Project Details -->
                            <div class="grid lg:grid-cols-3 gap-8 sm:gap-16">
                                <!-- Left Column -->
                                <div class="lg:col-span-2 space-y-8">
                                    <!-- Description -->
                                    <div>
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Project Overview
                                        </h4>
                                        <p class="leading-relaxed text-slate-600 dark:text-slate-300"
                                           x-text="selectedProject.description"></p>
                                    </div>

                                    <!-- Features -->
                                    <div x-show="selectedProject.features?.length > 0">
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Key Features
                                        </h4>
                                        <div class="grid md:grid-cols-2 gap-3 sm:gap-4">
                                            <template x-for="feature in selectedProject.features" :key="feature">
                                                <div class="flex items-start gap-3 p-3 sm:p-4 rounded-xl glass-card">
                                                    <i class="fas fa-check-circle text-green-500 mt-1"></i>
                                                    <span x-text="feature"></span>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </div>

                                <!-- Right Column -->
                                <div class="space-y-8">
                                    <!-- Technologies -->
                                    <div>
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Technology Stack
                                        </h4>
                                        <div class="flex flex-wrap gap-2">
                                            <template x-for="tech in selectedProject.technologies" :key="tech">
                                                <span class="px-3 py-1.5 rounded-lg text-sm font-medium glass-card"
                                                      x-text="tech"></span>
                                            </template>
                                        </div>
                                    </div>

                                    <!-- Project Links -->
                                    <div>
                                        <h4 class="text-xl sm:text-2xl font-bold mb-4 sm:mb-6">
                                            Project Links
                                        </h4>
                                        <div class="space-y-3 sm:space-y-4">
                                            <a :href="selectedProject.demoUrl" x-show="selectedProject.demoUrl" target="_blank" rel="noopener noreferrer"
                                               class="flex items-center justify-between p-4 sm:p-5 rounded-2xl glass-card hover:scale-105 transition-transform duration-300 group">
                                                <div class="flex items-center space-x-3 sm:space-x-4">
                                                    <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                                        <i class="fas fa-external-link-alt text-white text-sm sm:text-lg"></i>
                                                    </div>
                                                    <div>
                                                        <p class="font-semibold">Live Demo</p>
                                                        <p class="text-sm text-slate-500">View live project</p>
                                                    </div>
                                                </div>
                                                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
                                            </a>

                                            <a :href="selectedProject.sourceUrl" x-show="selectedProject.sourceUrl" target="_blank" rel="noopener noreferrer"
                                               class="flex items-center justify-between p-4 sm:p-5 rounded-2xl glass-card hover:scale-105 transition-transform duration-300 group">
                                                <div class="flex items-center space-x-3 sm:space-x-4">
                                                    <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center shadow-lg glass-card">
                                                        <i class="fab fa-github"
                                                           :class="isDark ? 'text-slate-300' : 'text-slate-700'"></i>
                                                    </div>
                                                    <div>
                                                        <p class="font-semibold">Source Code</p>
                                                        <p class="text-sm text-slate-500">View on GitHub</p>
                                                    </div>
                                                </div>
                                                <i class="fas fa-arrow-right group-hover:translate-x-2 transition-transform duration-300"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Toast Notification -->
    <div x-show="showToast" x-transition
         class="toast-container">
        <div class="toast"
             :class="toastType === 'success' 
                     ? 'border-l-4 border-green-500' 
                     : toastType === 'error'
                     ? 'border-l-4 border-red-500'
                     : 'border-l-4 border-yellow-500'">
            <div class="flex items-center space-x-3 sm:space-x-4">
                <div class="w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center"
                     :class="toastType === 'success' 
                             ? 'bg-green-500/20 text-green-500'
                             : toastType === 'error'
                             ? 'bg-red-500/20 text-red-500'
                             : 'bg-yellow-500/20 text-yellow-500'">
                    <i :class="toastType === 'success' 
                              ? 'fas fa-check-circle' 
                              : toastType === 'error'
                              ? 'fas fa-exclamation-circle'
                              : 'fas fa-exclamation-triangle'"></i>
                </div>
                <div class="flex-1">
                    <p class="font-semibold text-sm sm:text-base" x-text="toastMessage"></p>
                </div>
                <button @click="showToast = false"
                        class="w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center glass-card hover:scale-110 transition-transform duration-300 focus-visible"
                        aria-label="Close notification">
                    <i class="fas fa-times text-xs"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBAuVIJp4jZCzxuBIBFez2SdLMi7MNHNJk",
            authDomain: "portofolio-4a7eb.firebaseapp.com",
            projectId: "portofolio-4a7eb",
            storageBucket: "portofolio-4a7eb.firebasestorage.app",
            messagingSenderId: "36345970852",
            appId: "1:36345970852:web:a35881e9ab7b1e18fce631"
        };

        function portfolio() {
            return {
                // State
                isLoading: true,
                isDark: true,
                mobileMenu: false,
                activeSection: 'home',
                scrollProgress: 0,
                isAtTop: true,
                showToast: false,
                toastMessage: '',
                toastType: 'success',
                showDataPanel: false,
                techInput: '',
                certificationInput: '',
                tagInput: '',
                activeSkillCategory: 'all',
                activeSkillTab: 'basic',
                activeProjectTab: 'basic',
                selectedProject: null,
                editingSkill: null,
                editingProject: null,
                uploadingImage: false,
                uploadingProfileImage: false,
                isSubmitting: false,
                deleteItem: { type: '', id: null, name: '' },
                toggleDebug: false,
                loadingMessage: 'Initializing portfolio...',
                loadingProgress: 0,

                // Firebase State
                firebaseApp: null,
                firestore: null,
                auth: null,
                userId: null,
                userEmail: null,
                isOnline: false,
                isSyncing: false,
                syncHistory: [],
                lastSyncTime: 'Never',

                // Data Status
                dataStatus: 'unsynced',
                storageAvailable: true,
                dataIntegrity: false,
                storageUsage: '0 KB',

                // Project Slider State
                projectView: 'grid',
                currentSlide: 0,
                projectSlides: [],
                autoSlideEnabled: false,
                autoSlideInterval: null,
                projectsPerSlide: 3,

                // Storage Configuration
                storageConfig: {
                    maxImageSize: 1 * 1024 * 1024,
                    compressionQuality: 0.7,
                    enableCompression: true,
                    maxTotalSize: 5 * 1024 * 1024,
                    backupCount: 3
                },

                // Profile Data
                profile: {
                    name: 'Zuyyina Firdausi Muhammad',
                    title: 'IT Developer',
                    email: 'muhammadzuyyina@gmail.com',
                    phone: '+62 822 9569 2941',
                    bio: 'IT Developer Junior',
                    image: null
                },

                // Navigation
                navItems: [
                    { name: 'Home', href: '#home' },
                    { name: 'Skills', href: '#skills' },
                    { name: 'Projects', href: '#projects' },
                    { name: 'Contact', href: '#contact' }
                ],

                skills: [],
                projects: [],
                portfolioYear: new Date().getFullYear(),

                // Social Links
                socialLinks: [],

                // Skill Categories
                skillCategories: [
                    'frontend', 'backend', 'database', 'mobile', 
                    'devops', 'cloud', 'tools', 'design', 'ai'
                ],

                // Popular Technologies
                popularTechnologies: [
                    'HTML5', 'CSS3', 'JavaScript', 'TypeScript', 'React', 'Vue.js', 'Angular', 
                    'Svelte', 'Next.js', 'Nuxt.js', 'Tailwind CSS', 'Bootstrap', 'SASS/SCSS',
                    'Node.js', 'Express.js', 'Python', 'Django', 'Flask', 'PHP', 'Laravel', 
                    'Java', 'Spring Boot', 'Go', 'Ruby', 'Ruby on Rails', 'C#', '.NET',
                    'MongoDB', 'MySQL', 'PostgreSQL', 'Firebase', 'Redis', 'SQLite', 'Supabase',
                    'React Native', 'Flutter', 'Electron', 'Swift', 'Kotlin',
                    'Docker', 'Kubernetes', 'AWS', 'Google Cloud', 'Azure', 'Vercel', 'Netlify',
                    'Git', 'GitHub Actions', 'Jenkins', 'Nginx',
                    'GraphQL', 'REST API', 'Jest', 'Cypress', 'Webpack', 'Figma', 'Adobe XD'
                ],

                // New Skill Data
                newSkill: {
                    name: '',
                    category: 'frontend',
                    level: 50,
                    years: 1,
                    projects: 0,
                    icon: 'fas fa-code',
                    description: '',
                    certifications: [],
                    tags: [],
                    customId: ''
                },

                // New Project Data
                newProject: {
                    name: '',
                    description: '',
                    type: 'web',
                    technologies: [],
                    image: '',
                    demoUrl: '',
                    sourceUrl: '',
                    startDate: '',
                    endDate: '',
                    isOngoing: false,
                    role: '',
                    teamSize: 1,
                    status: 'completed',
                    client: '',
                    challenges: '',
                    features: []
                },

                // Contact Form
                contactForm: {
                    name: '',
                    email: '',
                    message: ''
                },

                // Modals
                modals: {
                    projectDetail: false,
                    addProject: false,
                    addSkill: false,
                    editProfile: false,
                    deleteConfirm: false
                },

                // Computed Properties
                get filteredSkills() {
                    if (this.activeSkillCategory === 'all') {
                        return this.skills;
                    }
                    return this.skills.filter(skill => skill.category === this.activeSkillCategory);
                },

                get averageSkillLevel() {
                    if (this.skills.length === 0) return 0;
                    const total = this.skills.reduce((sum, skill) => sum + skill.level, 0);
                    return Math.round(total / this.skills.length);
                },

                get totalProjectCount() {
                    return this.skills.reduce((total, skill) => total + skill.projects, 0);
                },

                get totalExperienceYears() {
                    const startYear = 2023;
                    const currentYear = new Date().getFullYear();
                    return Math.max(1, currentYear - startYear);
                },

                get totalItems() {
                    return this.skills.length + this.projects.length;
                },

                get connectionStatusText() {
                    if (!this.isOnline) return 'Offline';
                    if (this.isSyncing) return 'Syncing...';
                    if (this.userId) return 'Cloud Sync Active';
                    return 'Ready to Sync';
                },

                get dataStatusText() {
                    if (this.dataStatus === 'synced') return 'Data Synced';
                    if (this.dataStatus === 'unsynced') return 'Data Not Synced';
                    return 'Data Error';
                },

                // Computed property untuk gambar profil
                get profileImageSrc() {
                    if (!this.profile.image || this.profile.image.trim() === '') {
                        return this.generateDefaultAvatar();
                    }
                    return this.profile.image;
                },

                // Initialization
                async init() {
                    this.setupEventListeners();
                    
                    // Load theme preference
                    const savedTheme = localStorage.getItem('theme');
                    this.isDark = savedTheme ? savedTheme === 'dark' : true;

                    this.initParticles();

                    // Check online status
                    this.isOnline = navigator.onLine;
                    window.addEventListener('online', () => {
                        this.isOnline = true;
                        this.showToastMessage('You are back online', 'success');
                        if (this.userId) this.syncFromFirebase();
                    });
                    window.addEventListener('offline', () => {
                        this.isOnline = false;
                        this.showToastMessage('You are offline', 'warning');
                    });

                    // Initialize Firebase
                    await this.initFirebase();

                    // Check storage availability
                    await this.checkStorageAvailability();
                    
                    // Load data dengan progress indicator
                    await this.loadAllData();
                    
                    // Setup project slides
                    this.updateProjectSlides();
                    
                    // Update data status
                    await this.updateDataStatus();
                    
                    setTimeout(() => {
                        this.isLoading = false;
                        this.$nextTick(() => {
                            console.log('Portfolio initialized successfully');
                        });
                    }, 1000);
                },

                // Update data status
                async updateDataStatus() {
                    try {
                        const dataExists = await this.checkDataExists();
                        const dataValid = await this.validateData();
                        
                        if (dataExists && dataValid) {
                            this.dataStatus = 'synced';
                        } else if (dataExists) {
                            this.dataStatus = 'unsynced';
                        } else {
                            this.dataStatus = 'error';
                        }
                        
                        this.calculateStorageUsage();
                    } catch (error) {
                        console.error('Error updating data status:', error);
                        this.dataStatus = 'error';
                    }
                },

                // Check if data exists
                async checkDataExists() {
                    const requiredKeys = [
                        'portfolioSkills',
                        'portfolioProjects', 
                        'portfolioProfile',
                        'portfolioSocialLinks'
                    ];
                    
                    for (const key of requiredKeys) {
                        if (!localStorage.getItem(key)) {
                            return false;
                        }
                    }
                    return true;
                },

                // Validate data integrity
                async validateData() {
                    try {
                        // Check skills
                        const skillsData = localStorage.getItem('portfolioSkills');
                        if (skillsData) {
                            const skills = JSON.parse(skillsData);
                            if (!Array.isArray(skills)) return false;
                        }
                        
                        // Check projects
                        const projectsData = localStorage.getItem('portfolioProjects');
                        if (projectsData) {
                            const projects = JSON.parse(projectsData);
                            if (!Array.isArray(projects)) return false;
                        }
                        
                        // Check profile
                        const profileData = localStorage.getItem('portfolioProfile');
                        if (profileData) {
                            const profile = JSON.parse(profileData);
                            if (!profile || typeof profile !== 'object') return false;
                        }
                        
                        return true;
                    } catch (error) {
                        console.error('Data validation error:', error);
                        return false;
                    }
                },

                // Calculate storage usage
                calculateStorageUsage() {
                    try {
                        let totalBytes = 0;
                        for (let i = 0; i < localStorage.length; i++) {
                            const key = localStorage.key(i);
                            if (key && key.startsWith('portfolio')) {
                                const value = localStorage.getItem(key);
                                totalBytes += new Blob([value]).size;
                            }
                        }
                        
                        this.storageUsage = this.formatBytes(totalBytes);
                    } catch (error) {
                        console.error('Error calculating storage usage:', error);
                        this.storageUsage = 'Unknown';
                    }
                },

                // Initialize Firebase
                async initFirebase() {
                    try {
                        this.loadingMessage = 'Connecting to Firebase...';
                        this.loadingProgress = 20;
                        
                        // Initialize Firebase
                        this.firebaseApp = firebase.initializeApp(firebaseConfig);
                        this.firestore = firebase.firestore(this.firebaseApp);
                        this.auth = firebase.auth(this.firebaseApp);
                        
                        // Check if user is already signed in
                        this.auth.onAuthStateChanged((user) => {
                            if (user) {
                                this.userId = user.uid;
                                this.userEmail = user.email;
                                this.showToastMessage('Firebase connected successfully', 'success');
                                this.syncFromFirebase();
                            }
                        });
                        
                        console.log('âœ… Firebase initialized');
                        this.loadingProgress = 40;
                        
                    } catch (error) {
                        console.error('âŒ Firebase initialization error:', error);
                        this.showToastMessage('Firebase connection failed. Using local storage only.', 'warning');
                    }
                },

                // Initialize Firebase Auth
                async initFirebaseAuth() {
                    try {
                        const provider = new firebase.auth.GoogleAuthProvider();
                        provider.addScope('profile');
                        provider.addScope('email');
                        
                        const result = await this.auth.signInWithPopup(provider);
                        this.userId = result.user.uid;
                        this.userEmail = result.user.email;
                        
                        this.showToastMessage('Signed in successfully!', 'success');
                        
                        // Sync data to Firebase after sign in
                        await this.syncToFirebase();
                        
                    } catch (error) {
                        console.error('Auth error:', error);
                        this.showToastMessage('Authentication failed. Please try again.', 'error');
                    }
                },

                // Sign Out
                async signOut() {
                    try {
                        await this.auth.signOut();
                        this.userId = null;
                        this.userEmail = null;
                        this.showToastMessage('Signed out successfully', 'success');
                    } catch (error) {
                        console.error('Sign out error:', error);
                        this.showToastMessage('Sign out failed', 'error');
                    }
                },

                // Sync data to Firebase
                async syncToFirebase() {
                    if (!this.userId || !this.isOnline) {
                        this.showToastMessage('Cannot sync: Not signed in or offline', 'warning');
                        return;
                    }

                    this.isSyncing = true;
                    
                    try {
                        const data = {
                            profile: this.profile,
                            skills: this.skills,
                            projects: this.projects,
                            socialLinks: this.socialLinks,
                            lastUpdated: firebase.firestore.FieldValue.serverTimestamp(),
                            syncId: Date.now()
                        };

                        // Compress images before uploading
                        const compressedData = await this.compressDataForFirebase(data);

                        // Save to Firestore
                        await this.firestore
                            .collection('portfolios')
                            .doc(this.userId)
                            .set(compressedData, { merge: true });

                        // Update sync time
                        this.lastSyncTime = new Date().toLocaleTimeString();
                        
                        // Add to sync history
                        this.addToSyncHistory('Upload to Firebase', 'success');
                        
                        // Update data status
                        this.dataStatus = 'synced';
                        
                        this.showToastMessage('Data synced to cloud successfully!', 'success');
                        
                    } catch (error) {
                        console.error('Firebase sync error:', error);
                        this.addToSyncHistory('Upload failed', 'error');
                        this.dataStatus = 'error';
                        this.showToastMessage('Sync failed: ' + error.message, 'error');
                    } finally {
                        this.isSyncing = false;
                    }
                },

                // Sync data from Firebase
                async syncFromFirebase() {
                    if (!this.userId || !this.isOnline) return;

                    this.isSyncing = true;
                    
                    try {
                        const doc = await this.firestore
                            .collection('portfolios')
                            .doc(this.userId)
                            .get();

                        if (doc.exists) {
                            const data = doc.data();
                            
                            // Decompress images after downloading
                            const decompressedData = await this.decompressDataFromFirebase(data);
                            
                            // Update local data
                            this.profile = { ...this.profile, ...decompressedData.profile };
                            this.skills = decompressedData.skills || [];
                            this.projects = decompressedData.projects || [];
                            this.socialLinks = decompressedData.socialLinks || [];
                            
                            // Update project slides
                            this.updateProjectSlides();
                            
                            // Save to local storage
                            await this.saveToLocalStorage();
                            
                            // Update sync time
                            this.lastSyncTime = new Date().toLocaleTimeString();
                            
                            this.addToSyncHistory('Download from Firebase', 'success');
                            this.dataStatus = 'synced';
                            this.showToastMessage('Data synced from cloud!', 'success');
                        }
                        
                    } catch (error) {
                        console.error('Firebase download error:', error);
                        this.addToSyncHistory('Download failed', 'error');
                        this.dataStatus = 'error';
                    } finally {
                        this.isSyncing = false;
                    }
                },

                // Compress data for Firebase
                async compressDataForFirebase(data) {
                    const compressed = { ...data };
                    
                    // Compress profile image
                    if (compressed.profile?.image) {
                        compressed.profile.image = await this.compressImage(compressed.profile.image);
                    }
                    
                    // Compress project images
                    if (compressed.projects) {
                        compressed.projects = await Promise.all(
                            compressed.projects.map(async (project) => ({
                                ...project,
                                image: await this.compressImage(project.image)
                            }))
                        );
                    }
                    
                    return compressed;
                },

                // Decompress data from Firebase
                async decompressDataFromFirebase(data) {
                    const decompressed = { ...data };
                    
                    // Decompress profile image (if needed)
                    if (decompressed.profile?.image) {
                        decompressed.profile.image = await this.decompressImage(decompressed.profile.image);
                    }
                    
                    // Decompress project images
                    if (decompressed.projects) {
                        decompressed.projects = decompressed.projects.map(project => ({
                            ...project,
                            image: project.image || this.getDefaultProjectImage()
                        }));
                    }
                    
                    return decompressed;
                },

                // Add to sync history
                addToSyncHistory(action, status) {
                    this.syncHistory.unshift({
                        action,
                        status,
                        timestamp: new Date().toISOString()
                    });
                    
                    // Keep only last 10 entries
                    if (this.syncHistory.length > 10) {
                        this.syncHistory.pop();
                    }
                    
                    // Save history to localStorage
                    localStorage.setItem('portfolioSyncHistory', JSON.stringify(this.syncHistory));
                },

                // Format time ago
                formatTimeAgo(timestamp) {
                    const now = new Date();
                    const past = new Date(timestamp);
                    const diff = now - past;
                    
                    const minutes = Math.floor(diff / 60000);
                    const hours = Math.floor(diff / 3600000);
                    const days = Math.floor(diff / 86400000);
                    
                    if (minutes < 1) return 'Just now';
                    if (minutes < 60) return `${minutes}m ago`;
                    if (hours < 24) return `${hours}h ago`;
                    return `${days}d ago`;
                },

                // Load all data dengan progress indicator
                async loadAllData() {
                    try {
                        console.log('ðŸ“‚ Loading all data...');
                        this.loadingMessage = 'Loading portfolio data...';
                        this.loadingProgress = 60;
                        
                        // Try to load from local storage first
                        await this.loadFromLocalStorage();
                        
                        // Check data consistency
                        await this.ensureDataConsistency();
                        
                        // Load sync history
                        const savedHistory = localStorage.getItem('portfolioSyncHistory');
                        if (savedHistory) {
                            this.syncHistory = JSON.parse(savedHistory);
                        }
                        
                        // Load last sync time
                        const lastSync = localStorage.getItem('portfolioLastSync');
                        if (lastSync) {
                            this.lastSyncTime = lastSync;
                        }
                        
                        console.log('âœ… Data loaded successfully');
                        this.loadingProgress = 80;
                        
                        // Initialize with sample data if empty
                        if (this.skills.length === 0 && this.projects.length === 0) {
                            await this.loadSampleData();
                        }
                        
                        this.loadingProgress = 100;
                        
                    } catch (e) {
                        console.error('Error loading data:', e);
                        await this.loadDefaultData();
                    }
                },

                // Ensure data consistency
                async ensureDataConsistency() {
                    try {
                        console.log('ðŸ” Checking data consistency...');
                        
                        // Cek semua storage key yang diperlukan
                        const requiredKeys = [
                            'portfolioSkills',
                            'portfolioProjects', 
                            'portfolioProfile',
                            'portfolioSocialLinks',
                            'portfolioSyncHistory',
                            'portfolioDataVersion'
                        ];
                        
                        let allKeysExist = true;
                        for (const key of requiredKeys) {
                            if (!localStorage.getItem(key)) {
                                allKeysExist = false;
                                console.warn(`Missing key: ${key}`);
                            }
                        }
                        
                        if (!allKeysExist) {
                            console.log('âš ï¸ Some data missing, attempting recovery...');
                            await this.recoverMissingData();
                        }
                        
                        // Verifikasi data integrity
                        await this.verifyDataIntegrity();
                        
                        console.log('âœ… Data consistency check passed');
                        return true;
                        
                    } catch (error) {
                        console.error('âŒ Data consistency check failed:', error);
                        return false;
                    }
                },

                // Recover missing data
                async recoverMissingData() {
                    try {
                        console.log('ðŸ”„ Attempting data recovery...');
                        
                        // Coba ambil data dari backup atau default
                        const backupData = this.getBackupData();
                        
                        if (backupData.skills && !localStorage.getItem('portfolioSkills')) {
                            localStorage.setItem('portfolioSkills', JSON.stringify(backupData.skills));
                            console.log('âœ… Recovered skills from backup');
                        }
                        
                        if (backupData.projects && !localStorage.getItem('portfolioProjects')) {
                            localStorage.setItem('portfolioProjects', JSON.stringify(backupData.projects));
                            console.log('âœ… Recovered projects from backup');
                        }
                        
                        if (backupData.profile && !localStorage.getItem('portfolioProfile')) {
                            localStorage.setItem('portfolioProfile', JSON.stringify(backupData.profile));
                            console.log('âœ… Recovered profile from backup');
                        }
                        
                        if (backupData.socialLinks && !localStorage.getItem('portfolioSocialLinks')) {
                            localStorage.setItem('portfolioSocialLinks', JSON.stringify(backupData.socialLinks));
                            console.log('âœ… Recovered social links from backup');
                        }
                        
                        // Set version untuk data recovery
                        localStorage.setItem('portfolioDataVersion', '2.0-recovered');
                        
                        // Reload data
                        await this.loadFromLocalStorage();
                        
                        return true;
                        
                    } catch (error) {
                        console.error('âŒ Data recovery failed:', error);
                        return false;
                    }
                },

                // Get backup data
                getBackupData() {
                    // Coba ambil dari berbagai backup locations
                    const backupKeys = [
                        'portfolioSkills_backup',
                        'portfolioProjects_backup',
                        'portfolioProfile_backup',
                        'portfolioSocialLinks_backup',
                        'portfolio_backup'
                    ];
                    
                    const backupData = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks
                    };
                    
                    // Check backup locations
                    for (const key of backupKeys) {
                        try {
                            const data = localStorage.getItem(key);
                            if (data) {
                                const parsed = JSON.parse(data);
                                
                                if (key.includes('Skills') && parsed.skills) backupData.skills = parsed.skills;
                                if (key.includes('Projects') && parsed.projects) backupData.projects = parsed.projects;
                                if (key.includes('Profile') && parsed.profile) backupData.profile = parsed.profile;
                                if (key.includes('SocialLinks') && parsed.socialLinks) backupData.socialLinks = parsed.socialLinks;
                                
                                // Jika ada backup lengkap
                                if (key === 'portfolio_backup') {
                                    if (parsed.skills) backupData.skills = parsed.skills;
                                    if (parsed.projects) backupData.projects = parsed.projects;
                                    if (parsed.profile) backupData.profile = parsed.profile;
                                    if (parsed.socialLinks) backupData.socialLinks = parsed.socialLinks;
                                }
                                
                                console.log(`ðŸ“¦ Found backup in ${key}`);
                            }
                        } catch (e) {
                            // Ignore backup parse errors
                        }
                    }
                    
                    return backupData;
                },

                // Verify data integrity
                async verifyDataIntegrity() {
                    try {
                        console.log('ðŸ” Verifying data integrity...');
                        
                        const checks = [];
                        
                        // Check skills data
                        try {
                            const skillsData = localStorage.getItem('portfolioSkills');
                            if (skillsData) {
                                const skills = JSON.parse(skillsData);
                                checks.push({
                                    name: 'Skills',
                                    count: skills.length,
                                    valid: Array.isArray(skills)
                                });
                            }
                        } catch (e) {
                            console.error('âŒ Skills data corrupted:', e);
                        }
                        
                        // Check projects data
                        try {
                            const projectsData = localStorage.getItem('portfolioProjects');
                            if (projectsData) {
                                const projects = JSON.parse(projectsData);
                                checks.push({
                                    name: 'Projects',
                                    count: projects.length,
                                    valid: Array.isArray(projects)
                                });
                            }
                        } catch (e) {
                            console.error('âŒ Projects data corrupted:', e);
                        }
                        
                        // Check profile data
                        try {
                            const profileData = localStorage.getItem('portfolioProfile');
                            if (profileData) {
                                const profile = JSON.parse(profileData);
                                checks.push({
                                    name: 'Profile',
                                    valid: profile && typeof profile === 'object'
                                });
                            }
                        } catch (e) {
                            console.error('âŒ Profile data corrupted:', e);
                        }
                        
                        // Update data integrity status
                        this.dataIntegrity = checks.every(check => check.valid);
                        
                        console.log('âœ… Data integrity check completed');
                        return this.dataIntegrity;
                        
                    } catch (error) {
                        console.error('âŒ Data integrity verification failed:', error);
                        this.dataIntegrity = false;
                        return false;
                    }
                },

                // Run data health check
                async runDataHealthCheck() {
                    try {
                        this.showToastMessage('Running data health check...', 'info');
                        
                        const checks = [];
                        
                        // Check storage availability
                        const storageOk = await this.checkStorageAvailability();
                        checks.push({
                            name: 'Local Storage',
                            status: storageOk ? 'âœ… OK' : 'âŒ Failed',
                            details: storageOk ? 'Available and accessible' : 'Not available or full'
                        });
                        
                        // Check data integrity
                        const integrityOk = await this.verifyDataIntegrity();
                        checks.push({
                            name: 'Data Integrity',
                            status: integrityOk ? 'âœ… OK' : 'âŒ Failed',
                            details: integrityOk ? 'All data files are valid' : 'Corrupted data detected'
                        });
                        
                        // Check backup existence
                        const backupExists = this.checkBackupExists();
                        checks.push({
                            name: 'Backup',
                            status: backupExists ? 'âœ… OK' : 'âš ï¸ Warning',
                            details: backupExists ? 'Backup data available' : 'No backup found'
                        });
                        
                        // Update status
                        this.storageAvailable = storageOk;
                        this.dataIntegrity = integrityOk;
                        this.calculateStorageUsage();
                        
                        // Show results
                        let message = 'Health Check Results:\n';
                        checks.forEach(check => {
                            message += `${check.name}: ${check.status}\n`;
                        });
                        
                        this.showToastMessage('Health check completed', 'success');
                        
                        // Log detailed results
                        console.log('ðŸ“Š Health Check Results:', checks);
                        
                    } catch (error) {
                        console.error('Health check error:', error);
                        this.showToastMessage('Health check failed', 'error');
                    }
                },

                // Check if backup exists
                checkBackupExists() {
                    const backupKeys = [
                        'portfolio_backup',
                        'portfolioSkills_backup',
                        'portfolioProjects_backup'
                    ];
                    
                    for (const key of backupKeys) {
                        if (localStorage.getItem(key)) {
                            return true;
                        }
                    }
                    return false;
                },

                // Load from local storage
                async loadFromLocalStorage() {
                    try {
                        // Load skills
                        const savedSkills = localStorage.getItem('portfolioSkills');
                        if (savedSkills) {
                            this.skills = JSON.parse(savedSkills);
                        }
                        
                        // Load projects
                        const savedProjects = localStorage.getItem('portfolioProjects');
                        if (savedProjects) {
                            this.projects = JSON.parse(savedProjects);
                        }
                        
                        // Load profile
                        const savedProfile = localStorage.getItem('portfolioProfile');
                        if (savedProfile) {
                            const profileData = JSON.parse(savedProfile);
                            this.profile = { 
                                ...this.profile, 
                                ...profileData
                            };
                        }
                        
                        // Load social links
                        const savedSocialLinks = localStorage.getItem('portfolioSocialLinks');
                        if (savedSocialLinks) {
                            try {
                                const parsedLinks = JSON.parse(savedSocialLinks);
                                this.socialLinks = parsedLinks.map(link => ({
                                    platform: link.platform || 'github',
                                    url: link.url || '',
                                    icon: link.icon || this.getSocialIcon(link.platform || 'github')
                                }));
                            } catch (parseError) {
                                console.error('Error parsing social links:', parseError);
                                this.loadDefaultSocialLinks();
                            }
                        } else {
                            this.loadDefaultSocialLinks();
                        }
                        
                    } catch (error) {
                        console.error('Error loading from local storage:', error);
                        throw error;
                    }
                },

                // Save to local storage
                async saveToLocalStorage() {
                    try {
                        localStorage.setItem('portfolioSkills', JSON.stringify(this.skills));
                        localStorage.setItem('portfolioProjects', JSON.stringify(this.projects));
                        localStorage.setItem('portfolioProfile', JSON.stringify(this.profile));
                        this.saveSocialLinksToStorage();
                        
                        // Create backup
                        await this.createBackup();
                        
                        // Update last sync time
                        localStorage.setItem('portfolioLastSync', new Date().toLocaleTimeString());
                        
                        // Update data status
                        await this.updateDataStatus();
                        
                        console.log('âœ… Data saved to local storage');
                        return true;
                        
                    } catch (error) {
                        console.error('âŒ Error saving to local storage:', error);
                        return false;
                    }
                },

                // Create backup
                async createBackup() {
                    try {
                        const backupData = {
                            skills: this.skills,
                            projects: this.projects,
                            profile: this.profile,
                            socialLinks: this.socialLinks,
                            backupDate: new Date().toISOString()
                        };
                        
                        // Save full backup
                        localStorage.setItem('portfolio_backup', JSON.stringify(backupData));
                        
                        // Save individual backups
                        localStorage.setItem('portfolioSkills_backup', JSON.stringify(this.skills));
                        localStorage.setItem('portfolioProjects_backup', JSON.stringify(this.projects));
                        localStorage.setItem('portfolioProfile_backup', JSON.stringify(this.profile));
                        localStorage.setItem('portfolioSocialLinks_backup', JSON.stringify(this.socialLinks));
                        
                        console.log('ðŸ“¦ Backup created successfully');
                        return true;
                        
                    } catch (error) {
                        console.error('âŒ Backup creation failed:', error);
                        return false;
                    }
                },

                // Save social links to storage
                saveSocialLinksToStorage() {
                    try {
                        const linksToSave = this.socialLinks.map(link => ({
                            platform: link.platform,
                            url: link.url,
                            icon: link.icon
                        }));
                        localStorage.setItem('portfolioSocialLinks', JSON.stringify(linksToSave));
                    } catch (e) {
                        console.error('Error saving social links:', e);
                    }
                },

                // Helper untuk mendapatkan gambar proyek default
                getDefaultProjectImage() {
                    const images = [
                        'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                        'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                        'https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
                    ];
                    return images[Math.floor(Math.random() * images.length)];
                },

                // Update project slides
                updateProjectSlides() {
                    this.projectSlides = [];
                    
                    if (this.projects.length <= 6) {
                        this.projectView = 'grid';
                        return;
                    }
                    
                    for (let i = 0; i < this.projects.length; i += this.projectsPerSlide) {
                        this.projectSlides.push(this.projects.slice(i, i + this.projectsPerSlide));
                    }
                    
                    if (this.currentSlide >= this.projectSlides.length) {
                        this.currentSlide = 0;
                    }
                },

                // Setup Event Listeners
                setupEventListeners() {
                    window.addEventListener('scroll', this.handleScroll.bind(this));
                    window.addEventListener('resize', this.handleResize.bind(this));
                    
                    // Save data before unload
                    window.addEventListener('beforeunload', async () => {
                        await this.saveToLocalStorage();
                    });
                },

                handleScroll() {
                    const winScroll = document.documentElement.scrollTop || document.body.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    this.scrollProgress = height > 0 ? (winScroll / height) * 100 : 0;
                    
                    this.isAtTop = window.scrollY < 50;
                    
                    const sections = ['home', 'skills', 'projects', 'contact'];
                    for (const section of sections) {
                        const element = document.getElementById(section);
                        if (element) {
                            const rect = element.getBoundingClientRect();
                            if (rect.top <= 100 && rect.bottom >= 100) {
                                this.activeSection = section;
                                break;
                            }
                        }
                    }
                },

                handleResize() {
                    if (window.innerWidth < 768) {
                        this.projectsPerSlide = 1;
                    } else if (window.innerWidth < 1024) {
                        this.projectsPerSlide = 2;
                    } else {
                        this.projectsPerSlide = 3;
                    }
                    
                    this.updateProjectSlides();
                },

                // Project Image Error Handling
                handleProjectImageError(event, projectId) {
                    console.log('Project image error for project:', projectId);
                    event.target.src = 'https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                },

                // Theme Management
                toggleTheme() {
                    this.isDark = !this.isDark;
                    localStorage.setItem('theme', this.isDark ? 'dark' : 'light');
                    
                    if (window.pJSDom && window.pJSDom.length > 0) {
                        const particles = window.pJSDom[0].pJS;
                        if (particles) {
                            particles.particles.color.value = this.isDark ? "#ffffff" : "#6366f1";
                            particles.particles.line_linked.color = this.isDark ? "#ffffff" : "#6366f1";
                            particles.fn.particlesRefresh();
                        }
                    }
                },

                // Navigation
                scrollTo(sectionId) {
                    const element = document.getElementById(sectionId);
                    if (element) {
                        const offset = 80;
                        const elementPosition = element.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - offset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                    this.mobileMenu = false;
                },

                // Modal Management
                openModal(modalName) {
                    this.modals[modalName] = true;
                    document.body.style.overflow = 'hidden';
                },

                closeModal(modalName) {
                    this.modals[modalName] = false;
                    document.body.style.overflow = 'auto';
                    
                    if (modalName === 'addSkill') {
                        this.resetSkillForm();
                    } else if (modalName === 'addProject') {
                        this.resetProjectForm();
                    }
                },

                // Delete Confirmation
                confirmDelete(type, id, name) {
                    this.deleteItem = { type, id, name };
                    this.openModal('deleteConfirm');
                },

                async executeDelete() {
                    try {
                        if (this.deleteItem.type === 'skill') {
                            await this.deleteSkill(this.deleteItem.id);
                        } else if (this.deleteItem.type === 'project') {
                            await this.deleteProject(this.deleteItem.id);
                        }
                        this.showToastMessage(`${this.deleteItem.type} deleted successfully`, 'success');
                    } catch (error) {
                        this.showToastMessage(`Error deleting ${this.deleteItem.type}`, 'error');
                    } finally {
                        this.closeModal('deleteConfirm');
                    }
                },

                // Skill Management
                resetSkillForm() {
                    this.newSkill = {
                        name: '',
                        category: 'frontend',
                        level: 50,
                        years: 1,
                        projects: 0,
                        icon: 'fas fa-code',
                        description: '',
                        certifications: [],
                        tags: [],
                        customId: ''
                    };
                    this.certificationInput = '';
                    this.tagInput = '';
                    this.editingSkill = null;
                },

                editSkill(skill) {
                    this.newSkill = { ...skill };
                    this.editingSkill = skill;
                    this.openModal('addSkill');
                },

                async addNewSkill() {
                    try {
                        this.isSubmitting = true;

                        const newSkill = {
                            id: this.editingSkill ? this.editingSkill.id : Date.now(),
                            ...this.newSkill,
                            icon: this.getSkillIcon(this.newSkill.category)
                        };

                        if (this.editingSkill) {
                            const index = this.skills.findIndex(s => s.id === this.editingSkill.id);
                            if (index !== -1) {
                                this.skills[index] = newSkill;
                            }
                            this.showToastMessage('Skill updated successfully', 'success');
                        } else {
                            this.skills.push(newSkill);
                            this.showToastMessage('Skill added successfully', 'success');
                        }

                        await this.saveToLocalStorage();
                        
                        // Sync to Firebase if signed in
                        if (this.userId && this.isOnline) {
                            await this.syncToFirebase();
                        }
                        
                        this.closeModal('addSkill');
                        this.resetSkillForm();
                    } catch (error) {
                        this.showToastMessage('Error saving skill', 'error');
                        console.error('Error adding skill:', error);
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                updateSkill() {
                    this.addNewSkill();
                },

                async deleteSkill(skillId) {
                    this.skills = this.skills.filter(skill => skill.id !== skillId);
                    await this.saveToLocalStorage();
                    
                    // Sync to Firebase if signed in
                    if (this.userId && this.isOnline) {
                        await this.syncToFirebase();
                    }
                },

                // Project Management
                resetProjectForm() {
                    this.newProject = {
                        name: '',
                        description: '',
                        type: 'web',
                        technologies: [],
                        image: '',
                        demoUrl: '',
                        sourceUrl: '',
                        startDate: '',
                        endDate: '',
                        isOngoing: false,
                        role: '',
                        teamSize: 1,
                        status: 'completed',
                        client: '',
                        challenges: '',
                        features: []
                    };
                    this.techInput = '';
                    this.editingProject = null;
                },

                editProject(project) {
                    this.newProject = { ...project };
                    this.editingProject = project;
                    this.openModal('addProject');
                },

                async addNewProject() {
                    try {
                        this.isSubmitting = true;

                        const newProject = {
                            id: this.editingProject ? this.editingProject.id : Date.now(),
                            ...this.newProject,
                            date: new Date().getFullYear().toString()
                        };

                        if (this.editingProject) {
                            const index = this.projects.findIndex(p => p.id === this.editingProject.id);
                            if (index !== -1) {
                                this.projects[index] = newProject;
                            }
                            this.showToastMessage('Project updated successfully', 'success');
                        } else {
                            this.projects.push(newProject);
                            this.showToastMessage('Project added successfully', 'success');
                        }

                        this.updateProjectSlides();
                        
                        await this.saveToLocalStorage();
                        
                        // Sync to Firebase if signed in
                        if (this.userId && this.isOnline) {
                            await this.syncToFirebase();
                        }
                        
                        this.closeModal('addProject');
                        this.resetProjectForm();
                    } catch (error) {
                        this.showToastMessage('Error saving project', 'error');
                        console.error('Error adding project:', error);
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                updateProject() {
                    this.addNewProject();
                },

                async deleteProject(projectId) {
                    this.projects = this.projects.filter(project => project.id !== projectId);
                    
                    this.updateProjectSlides();
                    
                    await this.saveToLocalStorage();
                    
                    // Sync to Firebase if signed in
                    if (this.userId && this.isOnline) {
                        await this.syncToFirebase();
                    }
                },

                viewProject(projectId) {
                    this.selectedProject = this.projects.find(p => p.id === projectId);
                    this.openModal('projectDetail');
                },

                // Project Slider Functions
                setProjectView(view) {
                    this.projectView = view;
                    
                    if (view === 'slider' && this.autoSlideEnabled) {
                        this.startAutoSlide();
                    } else {
                        this.stopAutoSlide();
                    }
                },

                prevSlide() {
                    if (this.currentSlide > 0) {
                        this.currentSlide--;
                        this.animateSlideChange('prev');
                    }
                },

                nextSlide() {
                    if (this.currentSlide < this.projectSlides.length - 1) {
                        this.currentSlide++;
                        this.animateSlideChange('next');
                    }
                },

                goToSlide(index) {
                    if (index >= 0 && index < this.projectSlides.length) {
                        const direction = index > this.currentSlide ? 'next' : 'prev';
                        this.currentSlide = index;
                        this.animateSlideChange(direction);
                    }
                },

                animateSlideChange(direction) {
                    const slides = document.querySelectorAll('.project-slide.active');
                    slides.forEach(slide => {
                        slide.classList.add('slide-out');
                        setTimeout(() => {
                            slide.classList.remove('slide-out');
                        }, 300);
                    });
                    
                    if (this.autoSlideEnabled) {
                        this.resetAutoSlide();
                    }
                },

                toggleAutoSlide() {
                    this.autoSlideEnabled = !this.autoSlideEnabled;
                    
                    if (this.autoSlideEnabled && this.projectView === 'slider') {
                        this.startAutoSlide();
                        this.showToastMessage('Auto slide enabled', 'success');
                    } else {
                        this.stopAutoSlide();
                        this.showToastMessage('Auto slide disabled', 'info');
                    }
                },

                startAutoSlide() {
                    this.stopAutoSlide();
                    this.autoSlideInterval = setInterval(() => {
                        if (this.currentSlide < this.projectSlides.length - 1) {
                            this.currentSlide++;
                        } else {
                            this.currentSlide = 0;
                        }
                    }, 5000);
                },

                stopAutoSlide() {
                    if (this.autoSlideInterval) {
                        clearInterval(this.autoSlideInterval);
                        this.autoSlideInterval = null;
                    }
                },

                resetAutoSlide() {
                    if (this.autoSlideEnabled) {
                        this.stopAutoSlide();
                        this.startAutoSlide();
                    }
                },

                // Technology Management
                addTechnology() {
                    const tech = this.techInput.trim();
                    if (tech && !this.newProject.technologies.includes(tech)) {
                        this.newProject.technologies.push(tech);
                        this.techInput = '';
                    }
                },

                addTechFromSuggestion(tech) {
                    if (!this.newProject.technologies.includes(tech)) {
                        this.newProject.technologies.push(tech);
                    }
                },

                removeTech(tech) {
                    this.newProject.technologies = this.newProject.technologies.filter(t => t !== tech);
                },

                // Contact Form
                async submitContact() {
                    try {
                        this.isSubmitting = true;
                        
                        if (!this.contactForm.name || !this.contactForm.email || !this.contactForm.message) {
                            this.showToastMessage('Please fill in all fields', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        if (!emailRegex.test(this.contactForm.email)) {
                            this.showToastMessage('Please enter a valid email address', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        console.log('Starting email sending process...');
                        
                        const serviceID = 'service_fkkrcdr';
                        const templateID = 'template_g9cfnn2';
                        const publicKey = 'GIIXeb6Xt3whWfqvo';
                        
                        if (typeof emailjs === 'undefined') {
                            console.error('EmailJS is not loaded');
                            this.showToastMessage('Email service not available. Please refresh the page.', 'error');
                            this.isSubmitting = false;
                            return;
                        }
                        
                        console.log('Initializing EmailJS...');
                        emailjs.init(publicKey);
                        
                        const templateParams = {
                            from_name: this.contactForm.name,
                            from_email: this.contactForm.email,
                            message: this.contactForm.message,
                            to_name: 'Zuyyina Firdausi Muhammad',
                            to_email: 'muhammadzuyyina@gmail.com',
                            reply_to: this.contactForm.email,
                            date: new Date().toLocaleDateString('id-ID'),
                            time: new Date().toLocaleTimeString('id-ID')
                        };
                        
                        console.log('Sending email with params:', templateParams);
                        
                        const response = await emailjs.send(serviceID, templateID, templateParams);
                        console.log('Email response:', response);
                        
                        if (response.status === 200) {
                            this.showToastMessage('Message sent successfully! I\'ll get back to you soon.', 'success');
                            
                            this.contactForm = {
                                name: '',
                                email: '',
                                message: ''
                            };
                        } else {
                            throw new Error(`EmailJS responded with status: ${response.status}`);
                        }
                        
                    } catch (error) {
                        console.error('Email sending error:', error);
                        
                        let errorMessage = 'Error sending message. Please try again later.';
                        
                        if (error.text) {
                            console.error('EmailJS error text:', error.text);
                            
                            if (error.text.includes('Invalid login credentials')) {
                                errorMessage = 'Email configuration error. Please check EmailJS settings.';
                            } else if (error.text.includes('Service not found')) {
                                errorMessage = 'Email service not found. Please check Service ID.';
                            } else if (error.text.includes('Template not found')) {
                                errorMessage = 'Email template not found. Please check Template ID.';
                            }
                        }
                        
                        this.showToastMessage(errorMessage, 'error');
                    } finally {
                        this.isSubmitting = false;
                    }
                },

                // Data Management
                toggleDataPanel() {
                    this.showDataPanel = !this.showDataPanel;
                },

                // Image Upload Methods
                triggerFileInput() {
                    document.getElementById('projectImageInput').click();
                },

                handleDrop(event) {
                    event.preventDefault();
                    const files = event.dataTransfer.files;
                    if (files.length > 0) {
                        this.uploadImage({ target: { files } });
                    }
                },

                async uploadImage(event) {
                    const file = event.target.files[0];
                    if (!file) return;

                    if (!file.type.startsWith('image/')) {
                        this.showToastMessage('Please upload an image file', 'error');
                        return;
                    }

                    if (file.size > 5 * 1024 * 1024) {
                        this.showToastMessage('Image size should be less than 5MB', 'error');
                        return;
                    }

                    this.uploadingImage = true;

                    try {
                        const base64Image = await this.fileToBase64(file);
                        
                        const compressedImage = await this.compressBase64Image(base64Image);
                        this.newProject.image = compressedImage;
                        
                        this.uploadingImage = false;
                        this.showToastMessage('Image uploaded successfully', 'success');
                        
                    } catch (error) {
                        console.error('Error uploading image:', error);
                        this.uploadingImage = false;
                        this.showToastMessage('Error uploading image', 'error');
                    }
                },

                // Profile Image Upload
                async uploadProfileImage(event) {
                    const file = event.target.files[0];
                    if (!file) {
                        console.log('No file selected');
                        return;
                    }

                    console.log('Uploading profile image:', file.name, file.type, file.size);

                    if (!file.type.startsWith('image/')) {
                        this.showToastMessage('Silakan upload file gambar (JPEG, PNG, dll)', 'error');
                        return;
                    }

                    if (file.size > 5 * 1024 * 1024) {
                        this.showToastMessage('Ukuran gambar harus kurang dari 5MB', 'error');
                        return;
                    }

                    this.uploadingProfileImage = true;

                    try {
                        const base64Image = await this.fileToBase64(file);
                        
                        const compressedImage = await this.compressBase64Image(base64Image);
                        
                        this.profile.image = compressedImage;
                        
                        await this.saveToLocalStorage();
                        
                        // Sync to Firebase if signed in
                        if (this.userId && this.isOnline) {
                            await this.syncToFirebase();
                        }
                        
                        this.showToastMessage('Foto profil berhasil diupdate!', 'success');
                        
                    } catch (error) {
                        console.error('Error uploading profile image:', error);
                        this.showToastMessage('Error mengupload foto profil', 'error');
                    } finally {
                        this.uploadingProfileImage = false;
                    }
                },

                // Tab Navigation
                nextSkillTab() {
                    const tabs = ['basic', 'details', 'advanced'];
                    const currentIndex = tabs.indexOf(this.activeSkillTab);
                    if (currentIndex < tabs.length - 1) {
                        this.activeSkillTab = tabs[currentIndex + 1];
                    }
                },

                prevSkillTab() {
                    const tabs = ['basic', 'details', 'advanced'];
                    const currentIndex = tabs.indexOf(this.activeSkillTab);
                    if (currentIndex > 0) {
                        this.activeSkillTab = tabs[currentIndex - 1];
                    }
                },

                nextProjectTab() {
                    const tabs = ['basic', 'tech', 'media', 'details'];
                    const currentIndex = tabs.indexOf(this.activeProjectTab);
                    if (currentIndex < tabs.length - 1) {
                        this.activeProjectTab = tabs[currentIndex + 1];
                    }
                },

                prevProjectTab() {
                    const tabs = ['basic', 'tech', 'media', 'details'];
                    const currentIndex = tabs.indexOf(this.activeProjectTab);
                    if (currentIndex > 0) {
                        this.activeProjectTab = tabs[currentIndex - 1];
                    }
                },

                // Certification Management
                addCertification() {
                    if (this.certificationInput.trim()) {
                        this.newSkill.certifications.push(this.certificationInput.trim());
                        this.certificationInput = '';
                    }
                },

                removeCertification(index) {
                    this.newSkill.certifications.splice(index, 1);
                },

                // Tag Management
                addTag() {
                    if (this.tagInput.trim()) {
                        this.newSkill.tags.push(this.tagInput.trim());
                        this.tagInput = '';
                    }
                },

                removeTag(index) {
                    this.newSkill.tags.splice(index, 1);
                },

                // Social Links Management
                addSocialLink() {
                    const newLink = {
                        platform: 'github',
                        icon: this.getSocialIcon('github'),
                        url: 'https://github.com/username'
                    };
                    this.socialLinks.push(newLink);
                    this.saveSocialLinksToStorage();
                },

                removeSocialLink(index) {
                    this.socialLinks.splice(index, 1);
                    this.saveSocialLinksToStorage();
                },

                addQuickSocialLink(platform) {
                    const newLink = {
                        platform: platform,
                        icon: this.getSocialIcon(platform),
                        url: this.getSocialPlaceholder(platform)
                    };
                    this.socialLinks.push(newLink);
                    this.saveSocialLinksToStorage();
                },

                moveSocialLink(index, direction) {
                    if (direction === 'up' && index > 0) {
                        [this.socialLinks[index], this.socialLinks[index - 1]] = 
                        [this.socialLinks[index - 1], this.socialLinks[index]];
                    } else if (direction === 'down' && index < this.socialLinks.length - 1) {
                        [this.socialLinks[index], this.socialLinks[index + 1]] = 
                        [this.socialLinks[index + 1], this.socialLinks[index]];
                    }
                    this.saveSocialLinksToStorage();
                },

                async updateProfile() {
                    try {
                        if (!this.profile.image || this.profile.image.startsWith('https://ui-avatars.com')) {
                            this.profile.image = this.generateDefaultAvatar();
                        }
                        
                        await this.saveToLocalStorage();
                        
                        // Sync to Firebase if signed in
                        if (this.userId && this.isOnline) {
                            await this.syncToFirebase();
                        }
                        
                        this.showToastMessage('Profile updated successfully', 'success');
                        this.closeModal('editProfile');
                        
                    } catch (error) {
                        console.error('Error updating profile:', error);
                        this.showToastMessage('Error updating profile', 'error');
                    }
                },

                // Helper Methods
                getCategoryName(category) {
                    const names = {
                        'frontend': 'Frontend',
                        'backend': 'Backend',
                        'database': 'Database',
                        'mobile': 'Mobile',
                        'devops': 'DevOps',
                        'cloud': 'Cloud',
                        'tools': 'Tools',
                        'design': 'Design',
                        'ai': 'AI/ML'
                    };
                    return names[category] || category;
                },

                getCategoryIcon(category) {
                    const icons = {
                        'frontend': 'fas fa-code',
                        'backend': 'fas fa-server',
                        'database': 'fas fa-database',
                        'mobile': 'fas fa-mobile-alt',
                        'devops': 'fas fa-cogs',
                        'cloud': 'fas fa-cloud',
                        'tools': 'fas fa-tools',
                        'design': 'fas fa-palette',
                        'ai': 'fas fa-brain'
                    };
                    return icons[category] || 'fas fa-code';
                },

                getSkillCategoryColor(category) {
                    const colors = {
                        'frontend': 'bg-blue-500',
                        'backend': 'bg-green-500',
                        'database': 'bg-yellow-500',
                        'mobile': 'bg-purple-500',
                        'devops': 'bg-red-500',
                        'cloud': 'bg-indigo-500',
                        'tools': 'bg-pink-500',
                        'design': 'bg-teal-500',
                        'ai': 'bg-orange-500'
                    };
                    return colors[category] || 'bg-slate-500';
                },

                getSkillIcon(category) {
                    return this.getCategoryIcon(category);
                },

                getProficiencyLevel(level) {
                    if (level >= 90) return 'Expert';
                    if (level >= 70) return 'Advanced';
                    if (level >= 50) return 'Intermediate';
                    if (level >= 30) return 'Beginner';
                    return 'Novice';
                },

                getProficiencyClass(level) {
                    if (level >= 90) return 'status-success';
                    if (level >= 70) return 'status-success';
                    if (level >= 50) return 'status-warning';
                    return 'status-error';
                },

                getProficiencyIcon(level) {
                    if (level >= 90) return 'fas fa-fire';
                    if (level >= 70) return 'fas fa-chart-line';
                    if (level >= 50) return 'fas fa-seedling';
                    return 'fas fa-leaf';
                },

                getProjectTypeName(type) {
                    const names = {
                        'web': 'Web App',
                        'mobile': 'Mobile App',
                        'api': 'API',
                        'desktop': 'Desktop',
                        'ai': 'AI/ML',
                        'saas': 'SaaS'
                    };
                    return names[type] || type;
                },

                getTechIcon(tech) {
                    const iconMap = {
                        'HTML5': 'fab fa-html5',
                        'CSS3': 'fab fa-css3-alt',
                        'JavaScript': 'fab fa-js-square',
                        'TypeScript': 'fas fa-code',
                        'React': 'fab fa-react',
                        'Vue.js': 'fab fa-vuejs',
                        'Angular': 'fab fa-angular',
                        'Svelte': 'fas fa-bolt',
                        'Next.js': 'fas fa-arrow-right',
                        'Nuxt.js': 'fab fa-vuejs',
                        'Tailwind CSS': 'fas fa-palette',
                        'Bootstrap': 'fab fa-bootstrap',
                        'SASS/SCSS': 'fab fa-sass',
                        'Node.js': 'fab fa-node-js',
                        'Express.js': 'fas fa-server',
                        'Python': 'fab fa-python',
                        'Django': 'fab fa-python',
                        'Flask': 'fab fa-python',
                        'PHP': 'fab fa-php',
                        'Laravel': 'fab fa-laravel',
                        'Java': 'fab fa-java',
                        'Spring Boot': 'fab fa-java',
                        'Go': 'fab fa-golang',
                        'Ruby': 'fas fa-gem',
                        'Ruby on Rails': 'fas fa-gem',
                        'C#': 'fas fa-code',
                        '.NET': 'fas fa-code',
                        'MongoDB': 'fas fa-database',
                        'MySQL': 'fas fa-database',
                        'PostgreSQL': 'fas fa-database',
                        'Firebase': 'fas fa-fire',
                        'Redis': 'fas fa-database',
                        'SQLite': 'fas fa-database',
                        'Supabase': 'fas fa-database',
                        'React Native': 'fab fa-react',
                        'Flutter': 'fab fa-google',
                        'Electron': 'fas fa-desktop',
                        'Swift': 'fab fa-apple',
                        'Kotlin': 'fab fa-android',
                        'Docker': 'fab fa-docker',
                        'Kubernetes': 'fas fa-ship',
                        'AWS': 'fab fa-aws',
                        'Google Cloud': 'fab fa-google',
                        'Azure': 'fab fa-microsoft',
                        'Vercel': 'fas fa-cloud',
                        'Netlify': 'fas fa-cloud',
                        'Git': 'fab fa-git-alt',
                        'GitHub Actions': 'fab fa-github',
                        'Jenkins': 'fas fa-cogs',
                        'Nginx': 'fas fa-server',
                        'GraphQL': 'fas fa-project-diagram',
                        'REST API': 'fas fa-exchange-alt',
                        'Jest': 'fas fa-vial',
                        'Cypress': 'fas fa-bug',
                        'Webpack': 'fas fa-cube',
                        'Figma': 'fab fa-figma',
                        'Adobe XD': 'fas fa-pen-nib'
                    };
                    return iconMap[tech] || 'fas fa-code';
                },

                getSocialIcon(platform) {
                    const iconMap = {
                        'github': 'fab fa-github',
                        'gitlab': 'fab fa-gitlab',
                        'bitbucket': 'fab fa-bitbucket',
                        'linkedin': 'fab fa-linkedin-in',
                        'twitter': 'fab fa-twitter',
                        'instagram': 'fab fa-instagram',
                        'facebook': 'fab fa-facebook-f',
                        'whatsapp': 'fab fa-whatsapp',
                        'telegram': 'fab fa-telegram',
                        'discord': 'fab fa-discord',
                        'youtube': 'fab fa-youtube',
                        'tiktok': 'fab fa-tiktok',
                        'twitch': 'fab fa-twitch',
                        'medium': 'fab fa-medium',
                        'devto': 'fab fa-dev',
                        'hashnode': 'fab fa-hashnode',
                        'dribbble': 'fab fa-dribbble',
                        'behance': 'fab fa-behance',
                        'figma': 'fab fa-figma',
                        'stackoverflow': 'fab fa-stack-overflow',
                        'codepen': 'fab fa-codepen',
                        'upwork': 'fab fa-upwork',
                        'udemy': 'fab fa-udemy',
                        'coursera': 'fas fa-graduation-cap',
                        'notion': 'fas fa-sticky-note',
                        'email': 'fas fa-envelope',
                        'personal': 'fas fa-globe',
                        'other': 'fas fa-external-link-alt'
                    };
                    
                    return iconMap[platform] || 'fas fa-external-link-alt';
                },

                getSocialPlaceholder(platform) {
                    const placeholders = {
                        'github': 'https://github.com/username',
                        'linkedin': 'https://linkedin.com/in/username',
                        'twitter': 'https://twitter.com/username',
                        'instagram': 'https://instagram.com/username',
                        'facebook': 'https://facebook.com/username',
                        'whatsapp': 'https://wa.me/phone-number',
                        'telegram': 'https://t.me/username',
                        'discord': 'https://discord.gg/invite',
                        'youtube': 'https://youtube.com/c/username',
                        'tiktok': 'https://tiktok.com/@username',
                        'twitch': 'https://twitch.tv/username',
                        'medium': 'https://medium.com/@username',
                        'devto': 'https://dev.to/username',
                        'hashnode': 'https://username.hashnode.dev',
                        'dribbble': 'https://dribbble.com/username',
                        'behance': 'https://behance.net/username',
                        'figma': 'https://figma.com/@username',
                        'stackoverflow': 'https://stackoverflow.com/users/username',
                        'codepen': 'https://codepen.io/username',
                        'upwork': 'https://upwork.com/freelancers/~username',
                        'udemy': 'https://udemy.com/user/username',
                        'coursera': 'https://coursera.org/user/username',
                        'notion': 'https://notion.so/username',
                        'email': 'mailto:email@example.com',
                        'personal': 'https://yourwebsite.com',
                        'other': 'https://example.com'
                    };
                    return placeholders[platform] || 'https://example.com';
                },

                getSocialPlatformName(platform) {
                    const names = {
                        'github': 'GitHub',
                        'gitlab': 'GitLab',
                        'bitbucket': 'Bitbucket',
                        'linkedin': 'LinkedIn',
                        'twitter': 'Twitter',
                        'instagram': 'Instagram',
                        'facebook': 'Facebook',
                        'whatsapp': 'WhatsApp',
                        'telegram': 'Telegram',
                        'discord': 'Discord',
                        'youtube': 'YouTube',
                        'tiktok': 'TikTok',
                        'twitch': 'Twitch',
                        'medium': 'Medium',
                        'devto': 'Dev.to',
                        'hashnode': 'Hashnode',
                        'dribbble': 'Dribbble',
                        'behance': 'Behance',
                        'figma': 'Figma',
                        'stackoverflow': 'Stack Overflow',
                        'codepen': 'CodePen',
                        'upwork': 'Upwork',
                        'udemy': 'Udemy',
                        'coursera': 'Coursera',
                        'notion': 'Notion',
                        'email': 'Email',
                        'personal': 'Personal Website',
                        'other': 'Other'
                    };
                    return names[platform] || platform.charAt(0).toUpperCase() + platform.slice(1);
                },

                getSocialPlatformColorClass(platform) {
                    const colorMap = {
                        'github': 'bg-gray-800 hover:bg-gray-900',
                        'gitlab': 'bg-orange-600 hover:bg-orange-700',
                        'bitbucket': 'bg-blue-600 hover:bg-blue-700',
                        'linkedin': 'bg-blue-700 hover:bg-blue-800',
                        'twitter': 'bg-blue-400 hover:bg-blue-500',
                        'instagram': 'bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-700 hover:to-pink-600',
                        'facebook': 'bg-blue-600 hover:bg-blue-700',
                        'whatsapp': 'bg-green-500 hover:bg-green-600',
                        'telegram': 'bg-blue-500 hover:bg-blue-600',
                        'discord': 'bg-indigo-600 hover:bg-indigo-700',
                        'youtube': 'bg-red-600 hover:bg-red-700',
                        'tiktok': 'bg-black hover:bg-gray-900',
                        'twitch': 'bg-purple-600 hover:bg-purple-700',
                        'medium': 'bg-gray-800 hover:bg-gray-900',
                        'devto': 'bg-gray-900 hover:bg-black',
                        'hashnode': 'bg-blue-600 hover:bg-blue-700',
                        'dribbble': 'bg-pink-500 hover:bg-pink-600',
                        'behance': 'bg-blue-800 hover:bg-blue-900',
                        'figma': 'bg-orange-500 hover:bg-orange-600',
                        'stackoverflow': 'bg-orange-500 hover:bg-orange-600',
                        'codepen': 'bg-gray-800 hover:bg-gray-900',
                        'upwork': 'bg-green-600 hover:bg-green-700',
                        'fiverr': 'bg-green-500 hover:bg-green-600',
                        'freelancer': 'bg-blue-500 hover:bg-blue-600',
                        'udemy': 'bg-purple-700 hover:bg-purple-800',
                        'coursera': 'bg-blue-800 hover:bg-blue-900',
                        'pluralsight': 'bg-orange-500 hover:bg-orange-600',
                        'email': 'bg-gray-600 hover:bg-gray-700',
                        'personal': 'bg-indigo-600 hover:bg-indigo-700',
                        'other': 'bg-slate-600 hover:bg-slate-700'
                    };
                    return colorMap[platform] || 'bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700';
                },

                getSocialUsername(url) {
                    if (!url) return '';
                    try {
                        const urlObj = new URL(url);
                        const pathname = urlObj.pathname.replace('/', '');
                        if (url.includes('github.com')) return pathname;
                        if (url.includes('linkedin.com')) return pathname.replace('in/', '');
                        if (url.includes('twitter.com')) return pathname.replace('@', '');
                        if (url.includes('instagram.com')) return pathname;
                        if (url.includes('mailto:')) return url.replace('mailto:', '');
                        return pathname;
                    } catch {
                        return url;
                    }
                },

                isValidUrl(url) {
                    try {
                        new URL(url);
                        return true;
                    } catch {
                        return false;
                    }
                },

                // Force Refresh Social Links
                forceRefreshSocialLinks() {
                    this.loadAllData();
                    this.showToastMessage('Social links refreshed', 'success');
                },

                // Toast Notifications
                showToastMessage(message, type = 'success') {
                    this.toastMessage = message;
                    this.toastType = type;
                    this.showToast = true;
                    
                    setTimeout(() => {
                        this.showToast = false;
                    }, 3000);
                },

                // Particle.js
                initParticles() {
                    if (typeof particlesJS === 'function') {
                        particlesJS('particles-js', {
                            particles: {
                                number: { 
                                    value: 80, 
                                    density: { 
                                        enable: true, 
                                        value_area: 800 
                                    } 
                                },
                                color: { 
                                    value: this.isDark ? "#ffffff" : "#6366f1" 
                                },
                                shape: { 
                                    type: "circle" 
                                },
                                opacity: { 
                                    value: 0.3, 
                                    random: true
                                },
                                size: { 
                                    value: 3, 
                                    random: true
                                },
                                line_linked: {
                                    enable: true,
                                    distance: 150,
                                    color: this.isDark ? "#ffffff" : "#6366f1",
                                    opacity: 0.2,
                                    width: 1
                                },
                                move: {
                                    enable: true,
                                    speed: 1,
                                    direction: "none",
                                    random: true,
                                    straight: false
                                }
                            },
                            interactivity: {
                                events: {
                                    onhover: { 
                                        enable: true, 
                                        mode: "grab" 
                                    }
                                }
                            }
                        });
                    }
                },

                // Method untuk handle perubahan platform di select
                handlePlatformChange(link, index) {
                    link.icon = this.getSocialIcon(link.platform);
                    this.saveSocialLinksToStorage();
                },

                // Import/Export Methods
                async importSampleData() {
                    if (confirm('This will replace your current data with sample data. Continue?')) {
                        await this.loadSampleData();
                        this.socialLinks = [
                            {
                                platform: 'github',
                                icon: 'fab fa-github',
                                url: 'https://github.com/username'
                            },
                            {
                                platform: 'linkedin',
                                icon: 'fab fa-linkedin-in',
                                url: 'https://linkedin.com/in/username'
                            },
                            {
                                platform: 'email',
                                icon: 'fas fa-envelope',
                                url: 'mailto:muhammadzuyyina@gmail.com'
                            }
                        ];
                        
                        await this.saveToLocalStorage();
                        
                        // Sync to Firebase if signed in
                        if (this.userId && this.isOnline) {
                            await this.syncToFirebase();
                        }
                        
                        this.showToastMessage('Sample data loaded successfully', 'success');
                        this.showDataPanel = false;
                    }
                },

                importFromFile() {
                    document.getElementById('jsonFileInput').click();
                },

                async handleFileImport(event) {
                    const file = event.target.files[0];
                    if (!file) return;

                    try {
                        const text = await file.text();
                        const data = JSON.parse(text);
                        
                        if (confirm('Import data from file? This will replace your current data.')) {
                            if (data.skills) this.skills = data.skills;
                            if (data.projects) {
                                this.projects = data.projects;
                                this.updateProjectSlides();
                            }
                            if (data.profile) {
                                this.profile = {
                                    ...this.profile,
                                    ...data.profile
                                };
                            }
                            if (data.socialLinks) {
                                this.socialLinks = data.socialLinks.map(link => ({
                                    platform: link.platform,
                                    url: link.url || '',
                                    icon: link.icon || this.getSocialIcon(link.platform)
                                }));
                            }
                            
                            await this.saveToLocalStorage();
                            
                            // Sync to Firebase if signed in
                            if (this.userId && this.isOnline) {
                                await this.syncToFirebase();
                            }
                            
                            this.showToastMessage('Data imported successfully', 'success');
                        }
                        event.target.value = '';
                    } catch (error) {
                        this.showToastMessage('Error importing data. Please check file format.', 'error');
                    }
                },

                exportToJSON() {
                    const data = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks.map(link => ({
                            platform: link.platform,
                            url: link.url,
                            icon: link.icon
                        })),
                        exportedAt: new Date().toISOString(),
                        version: '2.0'
                    };
                    
                    const json = JSON.stringify(data, null, 2);
                    const blob = new Blob([json], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `portfolio-${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    this.showToastMessage('Data exported successfully', 'success');
                },

                exportBackup() {
                    const backupData = {
                        skills: this.skills,
                        projects: this.projects,
                        profile: this.profile,
                        socialLinks: this.socialLinks.map(link => ({
                            platform: link.platform,
                            url: link.url,
                            icon: link.icon
                        })),
                        syncHistory: this.syncHistory,
                        exportedAt: new Date().toISOString(),
                        version: '2.0-backup'
                    };
                    
                    const json = JSON.stringify(backupData, null, 2);
                    const blob = new Blob([json], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `portfolio-backup-${new Date().toISOString().split('T')[0]}.json`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    this.showToastMessage('Backup exported successfully', 'success');
                },

                async clearAllData() {
                    if (confirm('Are you sure you want to clear all data? This action cannot be undone.')) {
                        // Create final backup before clearing
                        await this.createBackup();
                        
                        this.skills = [];
                        this.projects = [];
                        this.profile = {
                            name: 'Zuyyina Firdausi Muhammad',
                            title: 'IT Developer',
                            email: 'muhammadzuyyina@gmail.com',
                            phone: '+62 822 9569 2941',
                            bio: 'IT Developer Junior',
                            image: this.generateDefaultAvatar()
                        };
                        this.socialLinks = [
                            {
                                platform: 'github',
                                icon: 'fab fa-github',
                                url: 'https://github.com/username'
                            },
                            {
                                platform: 'linkedin',
                                icon: 'fab fa-linkedin-in',
                                url: 'https://linkedin.com/in/username'
                            },
                            {
                                platform: 'email',
                                icon: 'fas fa-envelope',
                                url: 'mailto:muhammadzuyyina@gmail.com'
                            }
                        ];
                        
                        this.updateProjectSlides();
                        
                        const keysToRemove = [];
                        for (let i = 0; i < localStorage.length; i++) {
                            const key = localStorage.key(i);
                            if (key && key.startsWith('portfolio') && !key.includes('_backup')) {
                                keysToRemove.push(key);
                            }
                        }
                        
                        keysToRemove.forEach(key => localStorage.removeItem(key));
                        
                        await this.saveToLocalStorage();
                        
                        // Clear Firebase data if signed in
                        if (this.userId && this.isOnline) {
                            try {
                                await this.firestore
                                    .collection('portfolios')
                                    .doc(this.userId)
                                    .delete();
                                    
                                this.addToSyncHistory('Cleared Firebase data', 'success');
                                this.showToastMessage('Cloud data also cleared', 'success');
                            } catch (error) {
                                console.error('Error clearing Firebase data:', error);
                            }
                        }
                        
                        this.showToastMessage('All data cleared successfully', 'success');
                        this.showDataPanel = false;
                    }
                },

                // Check storage availability
                async checkStorageAvailability() {
                    try {
                        const testKey = 'storage_test_' + Date.now();
                        const testData = 'x'.repeat(1024 * 100);
                        
                        localStorage.setItem(testKey, testData);
                        localStorage.removeItem(testKey);
                        
                        console.log('âœ… Storage is available');
                        this.storageAvailable = true;
                        return true;
                    } catch (e) {
                        console.error('âŒ Storage error:', e);
                        this.storageAvailable = false;
                        this.showToastMessage('Local storage is not available. Some features may not work.', 'warning');
                        return false;
                    }
                },

                // Load sample data
                async loadSampleData() {
                    console.log('ðŸ“Š Loading sample data...');
                    
                    this.skills = [
                        { 
                            id: 1, 
                            name: 'React', 
                            category: 'frontend', 
                            level: 95, 
                            years: 3, 
                            projects: 15, 
                            icon: 'fab fa-react',
                            description: 'Modern React with Hooks, Context API, and advanced patterns',
                            certifications: ['React Certified Developer'],
                            tags: ['frontend', 'ui', 'components']
                        },
                        { 
                            id: 2, 
                            name: 'Node.js', 
                            category: 'backend', 
                            level: 90, 
                            years: 3, 
                            projects: 12, 
                            icon: 'fab fa-node-js',
                            description: 'Building scalable server-side applications and APIs',
                            certifications: [],
                            tags: ['backend', 'api', 'server']
                        }
                    ];

                    this.projects = [
                        {
                            id: 1,
                            name: 'E-Commerce Platform',
                            description: 'A full-featured e-commerce platform with real-time inventory management, payment processing, and customer analytics.',
                            type: 'web',
                            technologies: ['React', 'Node.js', 'MongoDB', 'Express.js', 'Tailwind CSS'],
                            image: 'https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            demoUrl: '#',
                            sourceUrl: '#',
                            features: ['Real-time inventory', 'Payment integration', 'Admin dashboard'],
                            status: 'completed',
                            date: '2024'
                        },
                        {
                            id: 2,
                            name: 'Task Management App',
                            description: 'Collaborative task management application with real-time updates and team features.',
                            type: 'web',
                            technologies: ['Vue.js', 'Firebase', 'Vuex', 'Vue Router'],
                            image: 'https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                            demoUrl: '#',
                            sourceUrl: '#',
                            features: ['Real-time collaboration', 'Team management', 'File attachments'],
                            status: 'completed',
                            date: '2024'
                        }
                    ];
                    
                    this.profile.image = this.generateDefaultAvatar();
                    
                    this.updateProjectSlides();
                    
                    await this.saveToLocalStorage();
                    console.log('âœ… Sample data loaded and saved');
                },

                // Load default data
                async loadDefaultData() {
                    console.log('ðŸ“¦ Loading default data...');
                    await this.loadSampleData();
                    this.loadDefaultSocialLinks();
                },

                // Load default social links
                loadDefaultSocialLinks() {
                    this.socialLinks = [
                        {
                            platform: 'github',
                            icon: 'fab fa-github',
                            url: 'https://github.com/username'
                        },
                        {
                            platform: 'linkedin',
                            icon: 'fab fa-linkedin-in',
                            url: 'https://linkedin.com/in/username'
                        },
                        {
                            platform: 'email',
                            icon: 'fas fa-envelope',
                            url: 'mailto:muhammadzuyyina@gmail.com'
                        }
                    ];
                },

                // Helper untuk generate avatar default
                generateDefaultAvatar() {
                    const name = this.profile.name || 'John Doe';
                    const initials = name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                    const bgColor = '6366f1';
                    const textColor = 'ffffff';
                    const size = '400';
                    
                    return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${bgColor}&color=${textColor}&size=${size}&bold=true&font-size=0.5`;
                },

                // Helper function untuk convert file ke base64
                fileToBase64(file) {
                    return new Promise((resolve, reject) => {
                        const reader = new FileReader();
                        reader.readAsDataURL(file);
                        reader.onload = () => resolve(reader.result);
                        reader.onerror = error => reject(error);
                    });
                },

                // Compress image for storage
                async compressImage(imageData) {
                    try {
                        if (!imageData || typeof imageData !== 'string') {
                            return '';
                        }
                        
                        if (imageData.startsWith('http') || imageData.length < 10000) {
                            return imageData;
                        }
                        
                        if (imageData.startsWith('data:image')) {
                            const base64Length = imageData.length;
                            const padding = imageData.endsWith('==') ? 2 : imageData.endsWith('=') ? 1 : 0;
                            const fileSizeBytes = (base64Length * 3) / 4 - padding;
                            
                            if (fileSizeBytes <= this.storageConfig.maxImageSize) {
                                return imageData;
                            }
                            
                            const compressed = await this.compressBase64Image(imageData);
                            console.log(`ðŸ“ Image compressed: ${this.formatBytes(fileSizeBytes)} -> ${this.formatBytes(compressed.length)}`);
                            
                            return compressed;
                        }
                        
                        return imageData;
                    } catch (error) {
                        console.error('Error compressing image:', error);
                        return imageData;
                    }
                },

                // Compress base64 image
                async compressBase64Image(base64Data, quality = 0.7) {
                    return new Promise((resolve) => {
                        try {
                            const img = new Image();
                            img.onload = () => {
                                const canvas = document.createElement('canvas');
                                const ctx = canvas.getContext('2d');
                                
                                let width = img.width;
                                let height = img.height;
                                const maxDimension = 800;
                                
                                if (width > maxDimension || height > maxDimension) {
                                    if (width > height) {
                                        height = (height * maxDimension) / width;
                                        width = maxDimension;
                                    } else {
                                        width = (width * maxDimension) / height;
                                        height = maxDimension;
                                    }
                                }
                                
                                canvas.width = width;
                                canvas.height = height;
                                
                                ctx.drawImage(img, 0, 0, width, height);
                                const compressedBase64 = canvas.toDataURL('image/jpeg', quality);
                                
                                resolve(compressedBase64);
                            };
                            
                            img.onerror = () => {
                                console.warn('Image compression failed, returning original');
                                resolve(base64Data);
                            };
                            
                            img.src = base64Data;
                        } catch (error) {
                            console.error('Compression error:', error);
                            resolve(base64Data);
                        }
                    });
                },

                // Decompress image (if needed)
                async decompressImage(imageData) {
                    return imageData || '';
                },

                // Format bytes for display
                formatBytes(bytes, decimals = 2) {
                    if (bytes === 0) return '0 Bytes';
                    
                    const k = 1024;
                    const dm = decimals < 0 ? 0 : decimals;
                    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                    
                    const i = Math.floor(Math.log(bytes) / Math.log(k));
                    
                    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
                }
            };
        }
    </script>
</body>
</html>